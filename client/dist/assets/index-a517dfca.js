var _j=Object.defineProperty;var Rj=(t,e,n)=>e in t?_j(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var B=(t,e,n)=>(Rj(t,typeof e!="symbol"?e+"":e,n),n),cA=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var b=(t,e,n)=>(cA(t,e,"read from private field"),n?n.call(t):e.get(t)),j=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},P=(t,e,n,r)=>(cA(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var qd=(t,e,n,r)=>({set _(i){P(t,e,i,n)},get _(){return b(t,e,r)}}),ee=(t,e,n)=>(cA(t,e,"access private method"),n);function Lj(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function p_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var g_={exports:{}},xw={},m_={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg=Symbol.for("react.element"),Mj=Symbol.for("react.portal"),Fj=Symbol.for("react.fragment"),Uj=Symbol.for("react.strict_mode"),Bj=Symbol.for("react.profiler"),jj=Symbol.for("react.provider"),Vj=Symbol.for("react.context"),$j=Symbol.for("react.forward_ref"),Hj=Symbol.for("react.suspense"),zj=Symbol.for("react.memo"),Gj=Symbol.for("react.lazy"),j5=Symbol.iterator;function qj(t){return t===null||typeof t!="object"?null:(t=j5&&t[j5]||t["@@iterator"],typeof t=="function"?t:null)}var y_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v_=Object.assign,w_={};function $h(t,e,n){this.props=t,this.context=e,this.refs=w_,this.updater=n||y_}$h.prototype.isReactComponent={};$h.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$h.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function b_(){}b_.prototype=$h.prototype;function _T(t,e,n){this.props=t,this.context=e,this.refs=w_,this.updater=n||y_}var RT=_T.prototype=new b_;RT.constructor=_T;v_(RT,$h.prototype);RT.isPureReactComponent=!0;var V5=Array.isArray,E_=Object.prototype.hasOwnProperty,LT={current:null},A_={key:!0,ref:!0,__self:!0,__source:!0};function S_(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)E_.call(e,r)&&!A_.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var l=Array(c),h=0;h<c;h++)l[h]=arguments[h+2];i.children=l}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:sg,type:t,key:s,ref:a,props:i,_owner:LT.current}}function Kj(t,e){return{$$typeof:sg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function MT(t){return typeof t=="object"&&t!==null&&t.$$typeof===sg}function Qj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $5=/\/+/g;function lA(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Qj(""+t.key):e.toString(36)}function Iy(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case sg:case Mj:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+lA(a,0):r,V5(i)?(n="",t!=null&&(n=t.replace($5,"$&/")+"/"),Iy(i,e,n,"",function(h){return h})):i!=null&&(MT(i)&&(i=Kj(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace($5,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",V5(t))for(var c=0;c<t.length;c++){s=t[c];var l=r+lA(s,c);a+=Iy(s,e,n,l,i)}else if(l=qj(t),typeof l=="function")for(t=l.call(t),c=0;!(s=t.next()).done;)s=s.value,l=r+lA(s,c++),a+=Iy(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Um(t,e,n){if(t==null)return t;var r=[],i=0;return Iy(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Wj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dr={current:null},Ty={transition:null},Jj={ReactCurrentDispatcher:dr,ReactCurrentBatchConfig:Ty,ReactCurrentOwner:LT};je.Children={map:Um,forEach:function(t,e,n){Um(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Um(t,function(){e++}),e},toArray:function(t){return Um(t,function(e){return e})||[]},only:function(t){if(!MT(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=$h;je.Fragment=Fj;je.Profiler=Bj;je.PureComponent=_T;je.StrictMode=Uj;je.Suspense=Hj;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jj;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=v_({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=LT.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(l in e)E_.call(e,l)&&!A_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&c!==void 0?c[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:sg,type:t.type,key:i,ref:s,props:r,_owner:a}};je.createContext=function(t){return t={$$typeof:Vj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jj,_context:t},t.Consumer=t};je.createElement=S_;je.createFactory=function(t){var e=S_.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:$j,render:t}};je.isValidElement=MT;je.lazy=function(t){return{$$typeof:Gj,_payload:{_status:-1,_result:t},_init:Wj}};je.memo=function(t,e){return{$$typeof:zj,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Ty.transition;Ty.transition={};try{t()}finally{Ty.transition=e}};je.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};je.useCallback=function(t,e){return dr.current.useCallback(t,e)};je.useContext=function(t){return dr.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return dr.current.useDeferredValue(t)};je.useEffect=function(t,e){return dr.current.useEffect(t,e)};je.useId=function(){return dr.current.useId()};je.useImperativeHandle=function(t,e,n){return dr.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return dr.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return dr.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return dr.current.useMemo(t,e)};je.useReducer=function(t,e,n){return dr.current.useReducer(t,e,n)};je.useRef=function(t){return dr.current.useRef(t)};je.useState=function(t){return dr.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return dr.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return dr.current.useTransition()};je.version="18.2.0";m_.exports=je;var G=m_.exports;const $o=p_(G),Yj=Lj({__proto__:null,default:$o},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xj=G,Zj=Symbol.for("react.element"),eV=Symbol.for("react.fragment"),tV=Object.prototype.hasOwnProperty,nV=Xj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rV={key:!0,ref:!0,__self:!0,__source:!0};function I_(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)tV.call(e,r)&&!rV.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Zj,type:t,key:s,ref:a,props:i,_owner:nV.current}}xw.Fragment=eV;xw.jsx=I_;xw.jsxs=I_;g_.exports=xw;var D=g_.exports,bS={},T_={exports:{}},ui={},x_={exports:{}},C_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(te,we){var de=te.length;te.push(we);e:for(;0<de;){var ke=de-1>>>1,bt=te[ke];if(0<i(bt,we))te[ke]=we,te[de]=bt,de=ke;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var we=te[0],de=te.pop();if(de!==we){te[0]=de;e:for(var ke=0,bt=te.length,yo=bt>>>1;ke<yo;){var Fr=2*(ke+1)-1,_i=te[Fr],gr=Fr+1,Ct=te[gr];if(0>i(_i,de))gr<bt&&0>i(Ct,_i)?(te[ke]=Ct,te[gr]=de,ke=gr):(te[ke]=_i,te[Fr]=de,ke=Fr);else if(gr<bt&&0>i(Ct,de))te[ke]=Ct,te[gr]=de,ke=gr;else break e}}return we}function i(te,we){var de=te.sortIndex-we.sortIndex;return de!==0?de:te.id-we.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],h=[],p=1,g=null,y=3,w=!1,E=!1,I=!1,k=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(te){for(var we=n(h);we!==null;){if(we.callback===null)r(h);else if(we.startTime<=te)r(h),we.sortIndex=we.expirationTime,e(l,we);else break;we=n(h)}}function _(te){if(I=!1,x(te),!E)if(n(l)!==null)E=!0,Ht(R);else{var we=n(h);we!==null&&En(_,we.startTime-te)}}function R(te,we){E=!1,I&&(I=!1,S(H),H=-1),w=!0;var de=y;try{for(x(we),g=n(l);g!==null&&(!(g.expirationTime>we)||te&&!tt());){var ke=g.callback;if(typeof ke=="function"){g.callback=null,y=g.priorityLevel;var bt=ke(g.expirationTime<=we);we=t.unstable_now(),typeof bt=="function"?g.callback=bt:g===n(l)&&r(l),x(we)}else r(l);g=n(l)}if(g!==null)var yo=!0;else{var Fr=n(h);Fr!==null&&En(_,Fr.startTime-we),yo=!1}return yo}finally{g=null,y=de,w=!1}}var F=!1,q=null,H=-1,Ae=5,N=-1;function tt(){return!(t.unstable_now()-N<Ae)}function oe(){if(q!==null){var te=t.unstable_now();N=te;var we=!0;try{we=q(!0,te)}finally{we?it():(F=!1,q=null)}}else F=!1}var it;if(typeof T=="function")it=function(){T(oe)};else if(typeof MessageChannel<"u"){var ft=new MessageChannel,Ke=ft.port2;ft.port1.onmessage=oe,it=function(){Ke.postMessage(null)}}else it=function(){k(oe,0)};function Ht(te){q=te,F||(F=!0,it())}function En(te,we){H=k(function(){te(t.unstable_now())},we)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){E||w||(E=!0,Ht(R))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ae=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(te){switch(y){case 1:case 2:case 3:var we=3;break;default:we=y}var de=y;y=we;try{return te()}finally{y=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,we){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var de=y;y=te;try{return we()}finally{y=de}},t.unstable_scheduleCallback=function(te,we,de){var ke=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ke+de:ke):de=ke,te){case 1:var bt=-1;break;case 2:bt=250;break;case 5:bt=1073741823;break;case 4:bt=1e4;break;default:bt=5e3}return bt=de+bt,te={id:p++,callback:we,priorityLevel:te,startTime:de,expirationTime:bt,sortIndex:-1},de>ke?(te.sortIndex=de,e(h,te),n(l)===null&&te===n(h)&&(I?(S(H),H=-1):I=!0,En(_,de-ke))):(te.sortIndex=bt,e(l,te),E||w||(E=!0,Ht(R))),te},t.unstable_shouldYield=tt,t.unstable_wrapCallback=function(te){var we=y;return function(){var de=y;y=we;try{return te.apply(this,arguments)}finally{y=de}}}})(C_);x_.exports=C_;var iV=x_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_=G,ii=iV;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k_=new Set,Vp={};function Yc(t,e){hh(t,e),hh(t+"Capture",e)}function hh(t,e){for(Vp[t]=e,t=0;t<e.length;t++)k_.add(e[t])}var Ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ES=Object.prototype.hasOwnProperty,oV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H5={},z5={};function sV(t){return ES.call(z5,t)?!0:ES.call(H5,t)?!1:oV.test(t)?z5[t]=!0:(H5[t]=!0,!1)}function aV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uV(t,e,n,r){if(e===null||typeof e>"u"||aV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pr(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var _n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_n[t]=new pr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_n[e]=new pr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_n[t]=new pr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_n[t]=new pr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_n[t]=new pr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_n[t]=new pr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_n[t]=new pr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_n[t]=new pr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_n[t]=new pr(t,5,!1,t.toLowerCase(),null,!1,!1)});var FT=/[\-:]([a-z])/g;function UT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(FT,UT);_n[e]=new pr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(FT,UT);_n[e]=new pr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(FT,UT);_n[e]=new pr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_n[t]=new pr(t,1,!1,t.toLowerCase(),null,!1,!1)});_n.xlinkHref=new pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_n[t]=new pr(t,1,!1,t.toLowerCase(),null,!0,!0)});function BT(t,e,n,r){var i=_n.hasOwnProperty(e)?_n[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uV(e,n,i,r)&&(n=null),r||i===null?sV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $s=N_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bm=Symbol.for("react.element"),Gl=Symbol.for("react.portal"),ql=Symbol.for("react.fragment"),jT=Symbol.for("react.strict_mode"),AS=Symbol.for("react.profiler"),O_=Symbol.for("react.provider"),P_=Symbol.for("react.context"),VT=Symbol.for("react.forward_ref"),SS=Symbol.for("react.suspense"),IS=Symbol.for("react.suspense_list"),$T=Symbol.for("react.memo"),da=Symbol.for("react.lazy"),D_=Symbol.for("react.offscreen"),G5=Symbol.iterator;function Kd(t){return t===null||typeof t!="object"?null:(t=G5&&t[G5]||t["@@iterator"],typeof t=="function"?t:null)}var Ut=Object.assign,fA;function up(t){if(fA===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);fA=e&&e[1]||""}return`
`+fA+t}var hA=!1;function dA(t,e){if(!t||hA)return"";hA=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,c=s.length-1;1<=a&&0<=c&&i[a]!==s[c];)c--;for(;1<=a&&0<=c;a--,c--)if(i[a]!==s[c]){if(a!==1||c!==1)do if(a--,c--,0>c||i[a]!==s[c]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=c);break}}}finally{hA=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?up(t):""}function cV(t){switch(t.tag){case 5:return up(t.type);case 16:return up("Lazy");case 13:return up("Suspense");case 19:return up("SuspenseList");case 0:case 2:case 15:return t=dA(t.type,!1),t;case 11:return t=dA(t.type.render,!1),t;case 1:return t=dA(t.type,!0),t;default:return""}}function TS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ql:return"Fragment";case Gl:return"Portal";case AS:return"Profiler";case jT:return"StrictMode";case SS:return"Suspense";case IS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case P_:return(t.displayName||"Context")+".Consumer";case O_:return(t._context.displayName||"Context")+".Provider";case VT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $T:return e=t.displayName||null,e!==null?e:TS(t.type)||"Memo";case da:e=t._payload,t=t._init;try{return TS(t(e))}catch{}}return null}function lV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return TS(e);case 8:return e===jT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ou(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function __(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fV(t){var e=__(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function jm(t){t._valueTracker||(t._valueTracker=fV(t))}function R_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=__(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function tv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xS(t,e){var n=e.checked;return Ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function q5(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ou(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function L_(t,e){e=e.checked,e!=null&&BT(t,"checked",e,!1)}function CS(t,e){L_(t,e);var n=ou(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?NS(t,e.type,n):e.hasOwnProperty("defaultValue")&&NS(t,e.type,ou(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function K5(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function NS(t,e,n){(e!=="number"||tv(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var cp=Array.isArray;function df(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ou(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function kS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Q5(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(cp(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ou(n)}}function M_(t,e){var n=ou(e.value),r=ou(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function W5(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function F_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function OS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?F_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vm,U_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vm=Vm||document.createElement("div"),Vm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $p(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hV=["Webkit","ms","Moz","O"];Object.keys(wp).forEach(function(t){hV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wp[e]=wp[t]})});function B_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wp.hasOwnProperty(t)&&wp[t]?(""+e).trim():e+"px"}function j_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=B_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var dV=Ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function PS(t,e){if(e){if(dV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function DS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _S=null;function HT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var RS=null,pf=null,gf=null;function J5(t){if(t=cg(t)){if(typeof RS!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=Pw(e),RS(t.stateNode,t.type,e))}}function V_(t){pf?gf?gf.push(t):gf=[t]:pf=t}function $_(){if(pf){var t=pf,e=gf;if(gf=pf=null,J5(t),e)for(t=0;t<e.length;t++)J5(e[t])}}function H_(t,e){return t(e)}function z_(){}var pA=!1;function G_(t,e,n){if(pA)return t(e,n);pA=!0;try{return H_(t,e,n)}finally{pA=!1,(pf!==null||gf!==null)&&(z_(),$_())}}function Hp(t,e){var n=t.stateNode;if(n===null)return null;var r=Pw(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var LS=!1;if(Ls)try{var Qd={};Object.defineProperty(Qd,"passive",{get:function(){LS=!0}}),window.addEventListener("test",Qd,Qd),window.removeEventListener("test",Qd,Qd)}catch{LS=!1}function pV(t,e,n,r,i,s,a,c,l){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(p){this.onError(p)}}var bp=!1,nv=null,rv=!1,MS=null,gV={onError:function(t){bp=!0,nv=t}};function mV(t,e,n,r,i,s,a,c,l){bp=!1,nv=null,pV.apply(gV,arguments)}function yV(t,e,n,r,i,s,a,c,l){if(mV.apply(this,arguments),bp){if(bp){var h=nv;bp=!1,nv=null}else throw Error(Z(198));rv||(rv=!0,MS=h)}}function Xc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function q_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Y5(t){if(Xc(t)!==t)throw Error(Z(188))}function vV(t){var e=t.alternate;if(!e){if(e=Xc(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Y5(i),t;if(s===r)return Y5(i),e;s=s.sibling}throw Error(Z(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function K_(t){return t=vV(t),t!==null?Q_(t):null}function Q_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Q_(t);if(e!==null)return e;t=t.sibling}return null}var W_=ii.unstable_scheduleCallback,X5=ii.unstable_cancelCallback,wV=ii.unstable_shouldYield,bV=ii.unstable_requestPaint,Qt=ii.unstable_now,EV=ii.unstable_getCurrentPriorityLevel,zT=ii.unstable_ImmediatePriority,J_=ii.unstable_UserBlockingPriority,iv=ii.unstable_NormalPriority,AV=ii.unstable_LowPriority,Y_=ii.unstable_IdlePriority,Cw=null,Ho=null;function SV(t){if(Ho&&typeof Ho.onCommitFiberRoot=="function")try{Ho.onCommitFiberRoot(Cw,t,void 0,(t.current.flags&128)===128)}catch{}}var so=Math.clz32?Math.clz32:xV,IV=Math.log,TV=Math.LN2;function xV(t){return t>>>=0,t===0?32:31-(IV(t)/TV|0)|0}var $m=64,Hm=4194304;function lp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ov(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var c=a&~i;c!==0?r=lp(c):(s&=a,s!==0&&(r=lp(s)))}else a=n&~i,a!==0?r=lp(a):s!==0&&(r=lp(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-so(e),i=1<<n,r|=t[n],e&=~i;return r}function CV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-so(s),c=1<<a,l=i[a];l===-1?(!(c&n)||c&r)&&(i[a]=CV(c,e)):l<=e&&(t.expiredLanes|=c),s&=~c}}function FS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function X_(){var t=$m;return $m<<=1,!($m&4194240)&&($m=64),t}function gA(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ag(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-so(e),t[e]=n}function kV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-so(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function GT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-so(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var st=0;function Z_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eR,qT,tR,nR,rR,US=!1,zm=[],Ga=null,qa=null,Ka=null,zp=new Map,Gp=new Map,va=[],OV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Z5(t,e){switch(t){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":qa=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":zp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gp.delete(e.pointerId)}}function Wd(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=cg(e),e!==null&&qT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function PV(t,e,n,r,i){switch(e){case"focusin":return Ga=Wd(Ga,t,e,n,r,i),!0;case"dragenter":return qa=Wd(qa,t,e,n,r,i),!0;case"mouseover":return Ka=Wd(Ka,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return zp.set(s,Wd(zp.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Gp.set(s,Wd(Gp.get(s)||null,t,e,n,r,i)),!0}return!1}function iR(t){var e=Yu(t.target);if(e!==null){var n=Xc(e);if(n!==null){if(e=n.tag,e===13){if(e=q_(n),e!==null){t.blockedOn=e,rR(t.priority,function(){tR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=BS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_S=r,n.target.dispatchEvent(r),_S=null}else return e=cg(n),e!==null&&qT(e),t.blockedOn=n,!1;e.shift()}return!0}function e6(t,e,n){xy(t)&&n.delete(e)}function DV(){US=!1,Ga!==null&&xy(Ga)&&(Ga=null),qa!==null&&xy(qa)&&(qa=null),Ka!==null&&xy(Ka)&&(Ka=null),zp.forEach(e6),Gp.forEach(e6)}function Jd(t,e){t.blockedOn===e&&(t.blockedOn=null,US||(US=!0,ii.unstable_scheduleCallback(ii.unstable_NormalPriority,DV)))}function qp(t){function e(i){return Jd(i,t)}if(0<zm.length){Jd(zm[0],t);for(var n=1;n<zm.length;n++){var r=zm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ga!==null&&Jd(Ga,t),qa!==null&&Jd(qa,t),Ka!==null&&Jd(Ka,t),zp.forEach(e),Gp.forEach(e),n=0;n<va.length;n++)r=va[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<va.length&&(n=va[0],n.blockedOn===null);)iR(n),n.blockedOn===null&&va.shift()}var mf=$s.ReactCurrentBatchConfig,sv=!0;function _V(t,e,n,r){var i=st,s=mf.transition;mf.transition=null;try{st=1,KT(t,e,n,r)}finally{st=i,mf.transition=s}}function RV(t,e,n,r){var i=st,s=mf.transition;mf.transition=null;try{st=4,KT(t,e,n,r)}finally{st=i,mf.transition=s}}function KT(t,e,n,r){if(sv){var i=BS(t,e,n,r);if(i===null)TA(t,e,r,av,n),Z5(t,r);else if(PV(i,t,e,n,r))r.stopPropagation();else if(Z5(t,r),e&4&&-1<OV.indexOf(t)){for(;i!==null;){var s=cg(i);if(s!==null&&eR(s),s=BS(t,e,n,r),s===null&&TA(t,e,r,av,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else TA(t,e,r,null,n)}}var av=null;function BS(t,e,n,r){if(av=null,t=HT(r),t=Yu(t),t!==null)if(e=Xc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=q_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return av=t,null}function oR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(EV()){case zT:return 1;case J_:return 4;case iv:case AV:return 16;case Y_:return 536870912;default:return 16}default:return 16}}var Ba=null,QT=null,Cy=null;function sR(){if(Cy)return Cy;var t,e=QT,n=e.length,r,i="value"in Ba?Ba.value:Ba.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Cy=i.slice(t,1<r?1-r:void 0)}function Ny(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gm(){return!0}function t6(){return!1}function ci(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Gm:t6,this.isPropagationStopped=t6,this}return Ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gm)},persist:function(){},isPersistent:Gm}),e}var Hh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},WT=ci(Hh),ug=Ut({},Hh,{view:0,detail:0}),LV=ci(ug),mA,yA,Yd,Nw=Ut({},ug,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:JT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yd&&(Yd&&t.type==="mousemove"?(mA=t.screenX-Yd.screenX,yA=t.screenY-Yd.screenY):yA=mA=0,Yd=t),mA)},movementY:function(t){return"movementY"in t?t.movementY:yA}}),n6=ci(Nw),MV=Ut({},Nw,{dataTransfer:0}),FV=ci(MV),UV=Ut({},ug,{relatedTarget:0}),vA=ci(UV),BV=Ut({},Hh,{animationName:0,elapsedTime:0,pseudoElement:0}),jV=ci(BV),VV=Ut({},Hh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$V=ci(VV),HV=Ut({},Hh,{data:0}),r6=ci(HV),zV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qV[t])?!!e[t]:!1}function JT(){return KV}var QV=Ut({},ug,{key:function(t){if(t.key){var e=zV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ny(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?GV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:JT,charCode:function(t){return t.type==="keypress"?Ny(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ny(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),WV=ci(QV),JV=Ut({},Nw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i6=ci(JV),YV=Ut({},ug,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:JT}),XV=ci(YV),ZV=Ut({},Hh,{propertyName:0,elapsedTime:0,pseudoElement:0}),e7=ci(ZV),t7=Ut({},Nw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),n7=ci(t7),r7=[9,13,27,32],YT=Ls&&"CompositionEvent"in window,Ep=null;Ls&&"documentMode"in document&&(Ep=document.documentMode);var i7=Ls&&"TextEvent"in window&&!Ep,aR=Ls&&(!YT||Ep&&8<Ep&&11>=Ep),o6=String.fromCharCode(32),s6=!1;function uR(t,e){switch(t){case"keyup":return r7.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Kl=!1;function o7(t,e){switch(t){case"compositionend":return cR(e);case"keypress":return e.which!==32?null:(s6=!0,o6);case"textInput":return t=e.data,t===o6&&s6?null:t;default:return null}}function s7(t,e){if(Kl)return t==="compositionend"||!YT&&uR(t,e)?(t=sR(),Cy=QT=Ba=null,Kl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aR&&e.locale!=="ko"?null:e.data;default:return null}}var a7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function a6(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!a7[t.type]:e==="textarea"}function lR(t,e,n,r){V_(r),e=uv(e,"onChange"),0<e.length&&(n=new WT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ap=null,Kp=null;function u7(t){ER(t,0)}function kw(t){var e=Jl(t);if(R_(e))return t}function c7(t,e){if(t==="change")return e}var fR=!1;if(Ls){var wA;if(Ls){var bA="oninput"in document;if(!bA){var u6=document.createElement("div");u6.setAttribute("oninput","return;"),bA=typeof u6.oninput=="function"}wA=bA}else wA=!1;fR=wA&&(!document.documentMode||9<document.documentMode)}function c6(){Ap&&(Ap.detachEvent("onpropertychange",hR),Kp=Ap=null)}function hR(t){if(t.propertyName==="value"&&kw(Kp)){var e=[];lR(e,Kp,t,HT(t)),G_(u7,e)}}function l7(t,e,n){t==="focusin"?(c6(),Ap=e,Kp=n,Ap.attachEvent("onpropertychange",hR)):t==="focusout"&&c6()}function f7(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kw(Kp)}function h7(t,e){if(t==="click")return kw(e)}function d7(t,e){if(t==="input"||t==="change")return kw(e)}function p7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fo=typeof Object.is=="function"?Object.is:p7;function Qp(t,e){if(fo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ES.call(e,i)||!fo(t[i],e[i]))return!1}return!0}function l6(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function f6(t,e){var n=l6(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=l6(n)}}function dR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pR(){for(var t=window,e=tv();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=tv(t.document)}return e}function XT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function g7(t){var e=pR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dR(n.ownerDocument.documentElement,n)){if(r!==null&&XT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=f6(n,s);var a=f6(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var m7=Ls&&"documentMode"in document&&11>=document.documentMode,Ql=null,jS=null,Sp=null,VS=!1;function h6(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;VS||Ql==null||Ql!==tv(r)||(r=Ql,"selectionStart"in r&&XT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sp&&Qp(Sp,r)||(Sp=r,r=uv(jS,"onSelect"),0<r.length&&(e=new WT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ql)))}function qm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wl={animationend:qm("Animation","AnimationEnd"),animationiteration:qm("Animation","AnimationIteration"),animationstart:qm("Animation","AnimationStart"),transitionend:qm("Transition","TransitionEnd")},EA={},gR={};Ls&&(gR=document.createElement("div").style,"AnimationEvent"in window||(delete Wl.animationend.animation,delete Wl.animationiteration.animation,delete Wl.animationstart.animation),"TransitionEvent"in window||delete Wl.transitionend.transition);function Ow(t){if(EA[t])return EA[t];if(!Wl[t])return t;var e=Wl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gR)return EA[t]=e[n];return t}var mR=Ow("animationend"),yR=Ow("animationiteration"),vR=Ow("animationstart"),wR=Ow("transitionend"),bR=new Map,d6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fu(t,e){bR.set(t,e),Yc(e,[t])}for(var AA=0;AA<d6.length;AA++){var SA=d6[AA],y7=SA.toLowerCase(),v7=SA[0].toUpperCase()+SA.slice(1);fu(y7,"on"+v7)}fu(mR,"onAnimationEnd");fu(yR,"onAnimationIteration");fu(vR,"onAnimationStart");fu("dblclick","onDoubleClick");fu("focusin","onFocus");fu("focusout","onBlur");fu(wR,"onTransitionEnd");hh("onMouseEnter",["mouseout","mouseover"]);hh("onMouseLeave",["mouseout","mouseover"]);hh("onPointerEnter",["pointerout","pointerover"]);hh("onPointerLeave",["pointerout","pointerover"]);Yc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w7=new Set("cancel close invalid load scroll toggle".split(" ").concat(fp));function p6(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,yV(r,e,void 0,t),t.currentTarget=null}function ER(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var c=r[a],l=c.instance,h=c.currentTarget;if(c=c.listener,l!==s&&i.isPropagationStopped())break e;p6(i,c,h),s=l}else for(a=0;a<r.length;a++){if(c=r[a],l=c.instance,h=c.currentTarget,c=c.listener,l!==s&&i.isPropagationStopped())break e;p6(i,c,h),s=l}}}if(rv)throw t=MS,rv=!1,MS=null,t}function yt(t,e){var n=e[qS];n===void 0&&(n=e[qS]=new Set);var r=t+"__bubble";n.has(r)||(AR(e,t,2,!1),n.add(r))}function IA(t,e,n){var r=0;e&&(r|=4),AR(n,t,r,e)}var Km="_reactListening"+Math.random().toString(36).slice(2);function Wp(t){if(!t[Km]){t[Km]=!0,k_.forEach(function(n){n!=="selectionchange"&&(w7.has(n)||IA(n,!1,t),IA(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Km]||(e[Km]=!0,IA("selectionchange",!1,e))}}function AR(t,e,n,r){switch(oR(e)){case 1:var i=_V;break;case 4:i=RV;break;default:i=KT}n=i.bind(null,e,n,t),i=void 0,!LS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function TA(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;c!==null;){if(a=Yu(c),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}c=c.parentNode}}r=r.return}G_(function(){var h=s,p=HT(n),g=[];e:{var y=bR.get(t);if(y!==void 0){var w=WT,E=t;switch(t){case"keypress":if(Ny(n)===0)break e;case"keydown":case"keyup":w=WV;break;case"focusin":E="focus",w=vA;break;case"focusout":E="blur",w=vA;break;case"beforeblur":case"afterblur":w=vA;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=n6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=FV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=XV;break;case mR:case yR:case vR:w=jV;break;case wR:w=e7;break;case"scroll":w=LV;break;case"wheel":w=n7;break;case"copy":case"cut":case"paste":w=$V;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=i6}var I=(e&4)!==0,k=!I&&t==="scroll",S=I?y!==null?y+"Capture":null:y;I=[];for(var T=h,x;T!==null;){x=T;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,S!==null&&(_=Hp(T,S),_!=null&&I.push(Jp(T,_,x)))),k)break;T=T.return}0<I.length&&(y=new w(y,E,null,n,p),g.push({event:y,listeners:I}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",y&&n!==_S&&(E=n.relatedTarget||n.fromElement)&&(Yu(E)||E[Ms]))break e;if((w||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,w?(E=n.relatedTarget||n.toElement,w=h,E=E?Yu(E):null,E!==null&&(k=Xc(E),E!==k||E.tag!==5&&E.tag!==6)&&(E=null)):(w=null,E=h),w!==E)){if(I=n6,_="onMouseLeave",S="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(I=i6,_="onPointerLeave",S="onPointerEnter",T="pointer"),k=w==null?y:Jl(w),x=E==null?y:Jl(E),y=new I(_,T+"leave",w,n,p),y.target=k,y.relatedTarget=x,_=null,Yu(p)===h&&(I=new I(S,T+"enter",E,n,p),I.target=x,I.relatedTarget=k,_=I),k=_,w&&E)t:{for(I=w,S=E,T=0,x=I;x;x=Pl(x))T++;for(x=0,_=S;_;_=Pl(_))x++;for(;0<T-x;)I=Pl(I),T--;for(;0<x-T;)S=Pl(S),x--;for(;T--;){if(I===S||S!==null&&I===S.alternate)break t;I=Pl(I),S=Pl(S)}I=null}else I=null;w!==null&&g6(g,y,w,I,!1),E!==null&&k!==null&&g6(g,k,E,I,!0)}}e:{if(y=h?Jl(h):window,w=y.nodeName&&y.nodeName.toLowerCase(),w==="select"||w==="input"&&y.type==="file")var R=c7;else if(a6(y))if(fR)R=d7;else{R=f7;var F=l7}else(w=y.nodeName)&&w.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(R=h7);if(R&&(R=R(t,h))){lR(g,R,n,p);break e}F&&F(t,y,h),t==="focusout"&&(F=y._wrapperState)&&F.controlled&&y.type==="number"&&NS(y,"number",y.value)}switch(F=h?Jl(h):window,t){case"focusin":(a6(F)||F.contentEditable==="true")&&(Ql=F,jS=h,Sp=null);break;case"focusout":Sp=jS=Ql=null;break;case"mousedown":VS=!0;break;case"contextmenu":case"mouseup":case"dragend":VS=!1,h6(g,n,p);break;case"selectionchange":if(m7)break;case"keydown":case"keyup":h6(g,n,p)}var q;if(YT)e:{switch(t){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else Kl?uR(t,n)&&(H="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(aR&&n.locale!=="ko"&&(Kl||H!=="onCompositionStart"?H==="onCompositionEnd"&&Kl&&(q=sR()):(Ba=p,QT="value"in Ba?Ba.value:Ba.textContent,Kl=!0)),F=uv(h,H),0<F.length&&(H=new r6(H,t,null,n,p),g.push({event:H,listeners:F}),q?H.data=q:(q=cR(n),q!==null&&(H.data=q)))),(q=i7?o7(t,n):s7(t,n))&&(h=uv(h,"onBeforeInput"),0<h.length&&(p=new r6("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:h}),p.data=q))}ER(g,e)})}function Jp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function uv(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Hp(t,n),s!=null&&r.unshift(Jp(t,s,i)),s=Hp(t,e),s!=null&&r.push(Jp(t,s,i))),t=t.return}return r}function Pl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function g6(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var c=n,l=c.alternate,h=c.stateNode;if(l!==null&&l===r)break;c.tag===5&&h!==null&&(c=h,i?(l=Hp(n,s),l!=null&&a.unshift(Jp(n,l,c))):i||(l=Hp(n,s),l!=null&&a.push(Jp(n,l,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var b7=/\r\n?/g,E7=/\u0000|\uFFFD/g;function m6(t){return(typeof t=="string"?t:""+t).replace(b7,`
`).replace(E7,"")}function Qm(t,e,n){if(e=m6(e),m6(t)!==e&&n)throw Error(Z(425))}function cv(){}var $S=null,HS=null;function zS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var GS=typeof setTimeout=="function"?setTimeout:void 0,A7=typeof clearTimeout=="function"?clearTimeout:void 0,y6=typeof Promise=="function"?Promise:void 0,S7=typeof queueMicrotask=="function"?queueMicrotask:typeof y6<"u"?function(t){return y6.resolve(null).then(t).catch(I7)}:GS;function I7(t){setTimeout(function(){throw t})}function xA(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),qp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);qp(e)}function Qa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function v6(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zh=Math.random().toString(36).slice(2),Uo="__reactFiber$"+zh,Yp="__reactProps$"+zh,Ms="__reactContainer$"+zh,qS="__reactEvents$"+zh,T7="__reactListeners$"+zh,x7="__reactHandles$"+zh;function Yu(t){var e=t[Uo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ms]||n[Uo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=v6(t);t!==null;){if(n=t[Uo])return n;t=v6(t)}return e}t=n,n=t.parentNode}return null}function cg(t){return t=t[Uo]||t[Ms],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function Pw(t){return t[Yp]||null}var KS=[],Yl=-1;function hu(t){return{current:t}}function wt(t){0>Yl||(t.current=KS[Yl],KS[Yl]=null,Yl--)}function gt(t,e){Yl++,KS[Yl]=t.current,t.current=e}var su={},Wn=hu(su),Or=hu(!1),Dc=su;function dh(t,e){var n=t.type.contextTypes;if(!n)return su;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Pr(t){return t=t.childContextTypes,t!=null}function lv(){wt(Or),wt(Wn)}function w6(t,e,n){if(Wn.current!==su)throw Error(Z(168));gt(Wn,e),gt(Or,n)}function SR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Z(108,lV(t)||"Unknown",i));return Ut({},n,r)}function fv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||su,Dc=Wn.current,gt(Wn,t),gt(Or,Or.current),!0}function b6(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=SR(t,e,Dc),r.__reactInternalMemoizedMergedChildContext=t,wt(Or),wt(Wn),gt(Wn,t)):wt(Or),gt(Or,n)}var as=null,Dw=!1,CA=!1;function IR(t){as===null?as=[t]:as.push(t)}function C7(t){Dw=!0,IR(t)}function du(){if(!CA&&as!==null){CA=!0;var t=0,e=st;try{var n=as;for(st=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}as=null,Dw=!1}catch(i){throw as!==null&&(as=as.slice(t+1)),W_(zT,du),i}finally{st=e,CA=!1}}return null}var Xl=[],Zl=0,hv=null,dv=0,Ii=[],Ti=0,_c=null,Ss=1,Is="";function Gu(t,e){Xl[Zl++]=dv,Xl[Zl++]=hv,hv=t,dv=e}function TR(t,e,n){Ii[Ti++]=Ss,Ii[Ti++]=Is,Ii[Ti++]=_c,_c=t;var r=Ss;t=Is;var i=32-so(r)-1;r&=~(1<<i),n+=1;var s=32-so(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ss=1<<32-so(e)+i|n<<i|r,Is=s+t}else Ss=1<<s|n<<i|r,Is=t}function ZT(t){t.return!==null&&(Gu(t,1),TR(t,1,0))}function e2(t){for(;t===hv;)hv=Xl[--Zl],Xl[Zl]=null,dv=Xl[--Zl],Xl[Zl]=null;for(;t===_c;)_c=Ii[--Ti],Ii[Ti]=null,Is=Ii[--Ti],Ii[Ti]=null,Ss=Ii[--Ti],Ii[Ti]=null}var ni=null,Xr=null,Tt=!1,ro=null;function xR(t,e){var n=Ci(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function E6(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ni=t,Xr=Qa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ni=t,Xr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_c!==null?{id:Ss,overflow:Is}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ci(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ni=t,Xr=null,!0):!1;default:return!1}}function QS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function WS(t){if(Tt){var e=Xr;if(e){var n=e;if(!E6(t,e)){if(QS(t))throw Error(Z(418));e=Qa(n.nextSibling);var r=ni;e&&E6(t,e)?xR(r,n):(t.flags=t.flags&-4097|2,Tt=!1,ni=t)}}else{if(QS(t))throw Error(Z(418));t.flags=t.flags&-4097|2,Tt=!1,ni=t}}}function A6(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ni=t}function Wm(t){if(t!==ni)return!1;if(!Tt)return A6(t),Tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zS(t.type,t.memoizedProps)),e&&(e=Xr)){if(QS(t))throw CR(),Error(Z(418));for(;e;)xR(t,e),e=Qa(e.nextSibling)}if(A6(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xr=Qa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xr=null}}else Xr=ni?Qa(t.stateNode.nextSibling):null;return!0}function CR(){for(var t=Xr;t;)t=Qa(t.nextSibling)}function ph(){Xr=ni=null,Tt=!1}function t2(t){ro===null?ro=[t]:ro.push(t)}var N7=$s.ReactCurrentBatchConfig;function Wi(t,e){if(t&&t.defaultProps){e=Ut({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var pv=hu(null),gv=null,ef=null,n2=null;function r2(){n2=ef=gv=null}function i2(t){var e=pv.current;wt(pv),t._currentValue=e}function JS(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yf(t,e){gv=t,n2=ef=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Cr=!0),t.firstContext=null)}function Pi(t){var e=t._currentValue;if(n2!==t)if(t={context:t,memoizedValue:e,next:null},ef===null){if(gv===null)throw Error(Z(308));ef=t,gv.dependencies={lanes:0,firstContext:t}}else ef=ef.next=t;return e}var Xu=null;function o2(t){Xu===null?Xu=[t]:Xu.push(t)}function NR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,o2(e)):(n.next=i.next,i.next=n),e.interleaved=n,Fs(t,r)}function Fs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pa=!1;function s2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ks(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,qe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Fs(t,n)}return i=r.interleaved,i===null?(e.next=e,o2(r)):(e.next=i.next,i.next=e),r.interleaved=e,Fs(t,n)}function ky(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,GT(t,n)}}function S6(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function mv(t,e,n,r){var i=t.updateQueue;pa=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var l=c,h=l.next;l.next=null,a===null?s=h:a.next=h,a=l;var p=t.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==a&&(c===null?p.firstBaseUpdate=h:c.next=h,p.lastBaseUpdate=l))}if(s!==null){var g=i.baseState;a=0,p=h=l=null,c=s;do{var y=c.lane,w=c.eventTime;if((r&y)===y){p!==null&&(p=p.next={eventTime:w,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var E=t,I=c;switch(y=e,w=n,I.tag){case 1:if(E=I.payload,typeof E=="function"){g=E.call(w,g,y);break e}g=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=I.payload,y=typeof E=="function"?E.call(w,g,y):E,y==null)break e;g=Ut({},g,y);break e;case 2:pa=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[c]:y.push(c))}else w={eventTime:w,lane:y,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(h=p=w,l=g):p=p.next=w,a|=y;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;y=c,c=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(1);if(p===null&&(l=g),i.baseState=l,i.firstBaseUpdate=h,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Lc|=a,t.lanes=a,t.memoizedState=g}}function I6(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var OR=new N_.Component().refs;function YS(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ut({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _w={isMounted:function(t){return(t=t._reactInternals)?Xc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=hr(),i=Ya(t),s=ks(r,i);s.payload=e,n!=null&&(s.callback=n),e=Wa(t,s,i),e!==null&&(ao(e,t,i,r),ky(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=hr(),i=Ya(t),s=ks(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Wa(t,s,i),e!==null&&(ao(e,t,i,r),ky(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hr(),r=Ya(t),i=ks(n,r);i.tag=2,e!=null&&(i.callback=e),e=Wa(t,i,r),e!==null&&(ao(e,t,r,n),ky(e,t,r))}};function T6(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Qp(n,r)||!Qp(i,s):!0}function PR(t,e,n){var r=!1,i=su,s=e.contextType;return typeof s=="object"&&s!==null?s=Pi(s):(i=Pr(e)?Dc:Wn.current,r=e.contextTypes,s=(r=r!=null)?dh(t,i):su),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_w,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function x6(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_w.enqueueReplaceState(e,e.state,null)}function XS(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=OR,s2(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Pi(s):(s=Pr(e)?Dc:Wn.current,i.context=dh(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(YS(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&_w.enqueueReplaceState(i,i.state,null),mv(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var c=i.refs;c===OR&&(c=i.refs={}),a===null?delete c[s]:c[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function Jm(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function C6(t){var e=t._init;return e(t._payload)}function DR(t){function e(S,T){if(t){var x=S.deletions;x===null?(S.deletions=[T],S.flags|=16):x.push(T)}}function n(S,T){if(!t)return null;for(;T!==null;)e(S,T),T=T.sibling;return null}function r(S,T){for(S=new Map;T!==null;)T.key!==null?S.set(T.key,T):S.set(T.index,T),T=T.sibling;return S}function i(S,T){return S=Xa(S,T),S.index=0,S.sibling=null,S}function s(S,T,x){return S.index=x,t?(x=S.alternate,x!==null?(x=x.index,x<T?(S.flags|=2,T):x):(S.flags|=2,T)):(S.flags|=1048576,T)}function a(S){return t&&S.alternate===null&&(S.flags|=2),S}function c(S,T,x,_){return T===null||T.tag!==6?(T=RA(x,S.mode,_),T.return=S,T):(T=i(T,x),T.return=S,T)}function l(S,T,x,_){var R=x.type;return R===ql?p(S,T,x.props.children,_,x.key):T!==null&&(T.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===da&&C6(R)===T.type)?(_=i(T,x.props),_.ref=Xd(S,T,x),_.return=S,_):(_=Ly(x.type,x.key,x.props,null,S.mode,_),_.ref=Xd(S,T,x),_.return=S,_)}function h(S,T,x,_){return T===null||T.tag!==4||T.stateNode.containerInfo!==x.containerInfo||T.stateNode.implementation!==x.implementation?(T=LA(x,S.mode,_),T.return=S,T):(T=i(T,x.children||[]),T.return=S,T)}function p(S,T,x,_,R){return T===null||T.tag!==7?(T=xc(x,S.mode,_,R),T.return=S,T):(T=i(T,x),T.return=S,T)}function g(S,T,x){if(typeof T=="string"&&T!==""||typeof T=="number")return T=RA(""+T,S.mode,x),T.return=S,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Bm:return x=Ly(T.type,T.key,T.props,null,S.mode,x),x.ref=Xd(S,null,T),x.return=S,x;case Gl:return T=LA(T,S.mode,x),T.return=S,T;case da:var _=T._init;return g(S,_(T._payload),x)}if(cp(T)||Kd(T))return T=xc(T,S.mode,x,null),T.return=S,T;Jm(S,T)}return null}function y(S,T,x,_){var R=T!==null?T.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return R!==null?null:c(S,T,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Bm:return x.key===R?l(S,T,x,_):null;case Gl:return x.key===R?h(S,T,x,_):null;case da:return R=x._init,y(S,T,R(x._payload),_)}if(cp(x)||Kd(x))return R!==null?null:p(S,T,x,_,null);Jm(S,x)}return null}function w(S,T,x,_,R){if(typeof _=="string"&&_!==""||typeof _=="number")return S=S.get(x)||null,c(T,S,""+_,R);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Bm:return S=S.get(_.key===null?x:_.key)||null,l(T,S,_,R);case Gl:return S=S.get(_.key===null?x:_.key)||null,h(T,S,_,R);case da:var F=_._init;return w(S,T,x,F(_._payload),R)}if(cp(_)||Kd(_))return S=S.get(x)||null,p(T,S,_,R,null);Jm(T,_)}return null}function E(S,T,x,_){for(var R=null,F=null,q=T,H=T=0,Ae=null;q!==null&&H<x.length;H++){q.index>H?(Ae=q,q=null):Ae=q.sibling;var N=y(S,q,x[H],_);if(N===null){q===null&&(q=Ae);break}t&&q&&N.alternate===null&&e(S,q),T=s(N,T,H),F===null?R=N:F.sibling=N,F=N,q=Ae}if(H===x.length)return n(S,q),Tt&&Gu(S,H),R;if(q===null){for(;H<x.length;H++)q=g(S,x[H],_),q!==null&&(T=s(q,T,H),F===null?R=q:F.sibling=q,F=q);return Tt&&Gu(S,H),R}for(q=r(S,q);H<x.length;H++)Ae=w(q,S,H,x[H],_),Ae!==null&&(t&&Ae.alternate!==null&&q.delete(Ae.key===null?H:Ae.key),T=s(Ae,T,H),F===null?R=Ae:F.sibling=Ae,F=Ae);return t&&q.forEach(function(tt){return e(S,tt)}),Tt&&Gu(S,H),R}function I(S,T,x,_){var R=Kd(x);if(typeof R!="function")throw Error(Z(150));if(x=R.call(x),x==null)throw Error(Z(151));for(var F=R=null,q=T,H=T=0,Ae=null,N=x.next();q!==null&&!N.done;H++,N=x.next()){q.index>H?(Ae=q,q=null):Ae=q.sibling;var tt=y(S,q,N.value,_);if(tt===null){q===null&&(q=Ae);break}t&&q&&tt.alternate===null&&e(S,q),T=s(tt,T,H),F===null?R=tt:F.sibling=tt,F=tt,q=Ae}if(N.done)return n(S,q),Tt&&Gu(S,H),R;if(q===null){for(;!N.done;H++,N=x.next())N=g(S,N.value,_),N!==null&&(T=s(N,T,H),F===null?R=N:F.sibling=N,F=N);return Tt&&Gu(S,H),R}for(q=r(S,q);!N.done;H++,N=x.next())N=w(q,S,H,N.value,_),N!==null&&(t&&N.alternate!==null&&q.delete(N.key===null?H:N.key),T=s(N,T,H),F===null?R=N:F.sibling=N,F=N);return t&&q.forEach(function(oe){return e(S,oe)}),Tt&&Gu(S,H),R}function k(S,T,x,_){if(typeof x=="object"&&x!==null&&x.type===ql&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Bm:e:{for(var R=x.key,F=T;F!==null;){if(F.key===R){if(R=x.type,R===ql){if(F.tag===7){n(S,F.sibling),T=i(F,x.props.children),T.return=S,S=T;break e}}else if(F.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===da&&C6(R)===F.type){n(S,F.sibling),T=i(F,x.props),T.ref=Xd(S,F,x),T.return=S,S=T;break e}n(S,F);break}else e(S,F);F=F.sibling}x.type===ql?(T=xc(x.props.children,S.mode,_,x.key),T.return=S,S=T):(_=Ly(x.type,x.key,x.props,null,S.mode,_),_.ref=Xd(S,T,x),_.return=S,S=_)}return a(S);case Gl:e:{for(F=x.key;T!==null;){if(T.key===F)if(T.tag===4&&T.stateNode.containerInfo===x.containerInfo&&T.stateNode.implementation===x.implementation){n(S,T.sibling),T=i(T,x.children||[]),T.return=S,S=T;break e}else{n(S,T);break}else e(S,T);T=T.sibling}T=LA(x,S.mode,_),T.return=S,S=T}return a(S);case da:return F=x._init,k(S,T,F(x._payload),_)}if(cp(x))return E(S,T,x,_);if(Kd(x))return I(S,T,x,_);Jm(S,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,T!==null&&T.tag===6?(n(S,T.sibling),T=i(T,x),T.return=S,S=T):(n(S,T),T=RA(x,S.mode,_),T.return=S,S=T),a(S)):n(S,T)}return k}var gh=DR(!0),_R=DR(!1),lg={},zo=hu(lg),Xp=hu(lg),Zp=hu(lg);function Zu(t){if(t===lg)throw Error(Z(174));return t}function a2(t,e){switch(gt(Zp,e),gt(Xp,t),gt(zo,lg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:OS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=OS(e,t)}wt(zo),gt(zo,e)}function mh(){wt(zo),wt(Xp),wt(Zp)}function RR(t){Zu(Zp.current);var e=Zu(zo.current),n=OS(e,t.type);e!==n&&(gt(Xp,t),gt(zo,n))}function u2(t){Xp.current===t&&(wt(zo),wt(Xp))}var Pt=hu(0);function yv(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var NA=[];function c2(){for(var t=0;t<NA.length;t++)NA[t]._workInProgressVersionPrimary=null;NA.length=0}var Oy=$s.ReactCurrentDispatcher,kA=$s.ReactCurrentBatchConfig,Rc=0,Ft=null,fn=null,vn=null,vv=!1,Ip=!1,e0=0,k7=0;function Mn(){throw Error(Z(321))}function l2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fo(t[n],e[n]))return!1;return!0}function f2(t,e,n,r,i,s){if(Rc=s,Ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Oy.current=t===null||t.memoizedState===null?_7:R7,t=n(r,i),Ip){s=0;do{if(Ip=!1,e0=0,25<=s)throw Error(Z(301));s+=1,vn=fn=null,e.updateQueue=null,Oy.current=L7,t=n(r,i)}while(Ip)}if(Oy.current=wv,e=fn!==null&&fn.next!==null,Rc=0,vn=fn=Ft=null,vv=!1,e)throw Error(Z(300));return t}function h2(){var t=e0!==0;return e0=0,t}function ko(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Ft.memoizedState=vn=t:vn=vn.next=t,vn}function Di(){if(fn===null){var t=Ft.alternate;t=t!==null?t.memoizedState:null}else t=fn.next;var e=vn===null?Ft.memoizedState:vn.next;if(e!==null)vn=e,fn=t;else{if(t===null)throw Error(Z(310));fn=t,t={memoizedState:fn.memoizedState,baseState:fn.baseState,baseQueue:fn.baseQueue,queue:fn.queue,next:null},vn===null?Ft.memoizedState=vn=t:vn=vn.next=t}return vn}function t0(t,e){return typeof e=="function"?e(t):e}function OA(t){var e=Di(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=fn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var c=a=null,l=null,h=s;do{var p=h.lane;if((Rc&p)===p)l!==null&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var g={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};l===null?(c=l=g,a=r):l=l.next=g,Ft.lanes|=p,Lc|=p}h=h.next}while(h!==null&&h!==s);l===null?a=r:l.next=c,fo(r,e.memoizedState)||(Cr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ft.lanes|=s,Lc|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function PA(t){var e=Di(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);fo(s,e.memoizedState)||(Cr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function LR(){}function MR(t,e){var n=Ft,r=Di(),i=e(),s=!fo(r.memoizedState,i);if(s&&(r.memoizedState=i,Cr=!0),r=r.queue,d2(BR.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||vn!==null&&vn.memoizedState.tag&1){if(n.flags|=2048,n0(9,UR.bind(null,n,r,i,e),void 0,null),wn===null)throw Error(Z(349));Rc&30||FR(n,e,i)}return i}function FR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ft.updateQueue,e===null?(e={lastEffect:null,stores:null},Ft.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function UR(t,e,n,r){e.value=n,e.getSnapshot=r,jR(e)&&VR(t)}function BR(t,e,n){return n(function(){jR(e)&&VR(t)})}function jR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fo(t,n)}catch{return!0}}function VR(t){var e=Fs(t,1);e!==null&&ao(e,t,1,-1)}function N6(t){var e=ko();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t0,lastRenderedState:t},e.queue=t,t=t.dispatch=D7.bind(null,Ft,t),[e.memoizedState,t]}function n0(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ft.updateQueue,e===null?(e={lastEffect:null,stores:null},Ft.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function $R(){return Di().memoizedState}function Py(t,e,n,r){var i=ko();Ft.flags|=t,i.memoizedState=n0(1|e,n,void 0,r===void 0?null:r)}function Rw(t,e,n,r){var i=Di();r=r===void 0?null:r;var s=void 0;if(fn!==null){var a=fn.memoizedState;if(s=a.destroy,r!==null&&l2(r,a.deps)){i.memoizedState=n0(e,n,s,r);return}}Ft.flags|=t,i.memoizedState=n0(1|e,n,s,r)}function k6(t,e){return Py(8390656,8,t,e)}function d2(t,e){return Rw(2048,8,t,e)}function HR(t,e){return Rw(4,2,t,e)}function zR(t,e){return Rw(4,4,t,e)}function GR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qR(t,e,n){return n=n!=null?n.concat([t]):null,Rw(4,4,GR.bind(null,e,t),n)}function p2(){}function KR(t,e){var n=Di();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&l2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function QR(t,e){var n=Di();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&l2(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function WR(t,e,n){return Rc&21?(fo(n,e)||(n=X_(),Ft.lanes|=n,Lc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Cr=!0),t.memoizedState=n)}function O7(t,e){var n=st;st=n!==0&&4>n?n:4,t(!0);var r=kA.transition;kA.transition={};try{t(!1),e()}finally{st=n,kA.transition=r}}function JR(){return Di().memoizedState}function P7(t,e,n){var r=Ya(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},YR(t))XR(e,n);else if(n=NR(t,e,n,r),n!==null){var i=hr();ao(n,t,r,i),ZR(n,e,r)}}function D7(t,e,n){var r=Ya(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(YR(t))XR(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,c=s(a,n);if(i.hasEagerState=!0,i.eagerState=c,fo(c,a)){var l=e.interleaved;l===null?(i.next=i,o2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=NR(t,e,i,r),n!==null&&(i=hr(),ao(n,t,r,i),ZR(n,e,r))}}function YR(t){var e=t.alternate;return t===Ft||e!==null&&e===Ft}function XR(t,e){Ip=vv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ZR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,GT(t,n)}}var wv={readContext:Pi,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},_7={readContext:Pi,useCallback:function(t,e){return ko().memoizedState=[t,e===void 0?null:e],t},useContext:Pi,useEffect:k6,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Py(4194308,4,GR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Py(4194308,4,t,e)},useInsertionEffect:function(t,e){return Py(4,2,t,e)},useMemo:function(t,e){var n=ko();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ko();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=P7.bind(null,Ft,t),[r.memoizedState,t]},useRef:function(t){var e=ko();return t={current:t},e.memoizedState=t},useState:N6,useDebugValue:p2,useDeferredValue:function(t){return ko().memoizedState=t},useTransition:function(){var t=N6(!1),e=t[0];return t=O7.bind(null,t[1]),ko().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ft,i=ko();if(Tt){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),wn===null)throw Error(Z(349));Rc&30||FR(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,k6(BR.bind(null,r,s,t),[t]),r.flags|=2048,n0(9,UR.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ko(),e=wn.identifierPrefix;if(Tt){var n=Is,r=Ss;n=(r&~(1<<32-so(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=e0++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=k7++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},R7={readContext:Pi,useCallback:KR,useContext:Pi,useEffect:d2,useImperativeHandle:qR,useInsertionEffect:HR,useLayoutEffect:zR,useMemo:QR,useReducer:OA,useRef:$R,useState:function(){return OA(t0)},useDebugValue:p2,useDeferredValue:function(t){var e=Di();return WR(e,fn.memoizedState,t)},useTransition:function(){var t=OA(t0)[0],e=Di().memoizedState;return[t,e]},useMutableSource:LR,useSyncExternalStore:MR,useId:JR,unstable_isNewReconciler:!1},L7={readContext:Pi,useCallback:KR,useContext:Pi,useEffect:d2,useImperativeHandle:qR,useInsertionEffect:HR,useLayoutEffect:zR,useMemo:QR,useReducer:PA,useRef:$R,useState:function(){return PA(t0)},useDebugValue:p2,useDeferredValue:function(t){var e=Di();return fn===null?e.memoizedState=t:WR(e,fn.memoizedState,t)},useTransition:function(){var t=PA(t0)[0],e=Di().memoizedState;return[t,e]},useMutableSource:LR,useSyncExternalStore:MR,useId:JR,unstable_isNewReconciler:!1};function yh(t,e){try{var n="",r=e;do n+=cV(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function DA(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ZS(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var M7=typeof WeakMap=="function"?WeakMap:Map;function e8(t,e,n){n=ks(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ev||(Ev=!0,cI=r),ZS(t,e)},n}function t8(t,e,n){n=ks(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ZS(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ZS(t,e),typeof r!="function"&&(Ja===null?Ja=new Set([this]):Ja.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function O6(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new M7;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=J7.bind(null,t,e,n),e.then(t,t))}function P6(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function D6(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ks(-1,1),e.tag=2,Wa(n,e,1))),n.lanes|=1),t)}var F7=$s.ReactCurrentOwner,Cr=!1;function nr(t,e,n,r){e.child=t===null?_R(e,null,n,r):gh(e,t.child,n,r)}function _6(t,e,n,r,i){n=n.render;var s=e.ref;return yf(e,i),r=f2(t,e,n,r,s,i),n=h2(),t!==null&&!Cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Us(t,e,i)):(Tt&&n&&ZT(e),e.flags|=1,nr(t,e,r,i),e.child)}function R6(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!A2(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,n8(t,e,s,r,i)):(t=Ly(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Qp,n(a,r)&&t.ref===e.ref)return Us(t,e,i)}return e.flags|=1,t=Xa(s,r),t.ref=e.ref,t.return=e,e.child=t}function n8(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Qp(s,r)&&t.ref===e.ref)if(Cr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Cr=!0);else return e.lanes=t.lanes,Us(t,e,i)}return eI(t,e,n,r,i)}function r8(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(nf,Kr),Kr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,gt(nf,Kr),Kr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,gt(nf,Kr),Kr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,gt(nf,Kr),Kr|=r;return nr(t,e,i,n),e.child}function i8(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function eI(t,e,n,r,i){var s=Pr(n)?Dc:Wn.current;return s=dh(e,s),yf(e,i),n=f2(t,e,n,r,s,i),r=h2(),t!==null&&!Cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Us(t,e,i)):(Tt&&r&&ZT(e),e.flags|=1,nr(t,e,n,i),e.child)}function L6(t,e,n,r,i){if(Pr(n)){var s=!0;fv(e)}else s=!1;if(yf(e,i),e.stateNode===null)Dy(t,e),PR(e,n,r),XS(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var l=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=Pi(h):(h=Pr(n)?Dc:Wn.current,h=dh(e,h));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||l!==h)&&x6(e,a,r,h),pa=!1;var y=e.memoizedState;a.state=y,mv(e,r,a,i),l=e.memoizedState,c!==r||y!==l||Or.current||pa?(typeof p=="function"&&(YS(e,n,p,r),l=e.memoizedState),(c=pa||T6(e,n,c,r,y,l,h))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=h,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,kR(t,e),c=e.memoizedProps,h=e.type===e.elementType?c:Wi(e.type,c),a.props=h,g=e.pendingProps,y=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Pi(l):(l=Pr(n)?Dc:Wn.current,l=dh(e,l));var w=n.getDerivedStateFromProps;(p=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==g||y!==l)&&x6(e,a,r,l),pa=!1,y=e.memoizedState,a.state=y,mv(e,r,a,i);var E=e.memoizedState;c!==g||y!==E||Or.current||pa?(typeof w=="function"&&(YS(e,n,w,r),E=e.memoizedState),(h=pa||T6(e,n,h,r,y,E,l)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,E,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,E,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),a.props=r,a.state=E,a.context=l,r=h):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return tI(t,e,n,r,s,i)}function tI(t,e,n,r,i,s){i8(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&b6(e,n,!1),Us(t,e,s);r=e.stateNode,F7.current=e;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=gh(e,t.child,null,s),e.child=gh(e,null,c,s)):nr(t,e,c,s),e.memoizedState=r.state,i&&b6(e,n,!0),e.child}function o8(t){var e=t.stateNode;e.pendingContext?w6(t,e.pendingContext,e.pendingContext!==e.context):e.context&&w6(t,e.context,!1),a2(t,e.containerInfo)}function M6(t,e,n,r,i){return ph(),t2(i),e.flags|=256,nr(t,e,n,r),e.child}var nI={dehydrated:null,treeContext:null,retryLane:0};function rI(t){return{baseLanes:t,cachePool:null,transitions:null}}function s8(t,e,n){var r=e.pendingProps,i=Pt.current,s=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),gt(Pt,i&1),t===null)return WS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Fw(a,r,0,null),t=xc(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=rI(n),e.memoizedState=nI,t):g2(e,a));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return U7(t,e,a,r,c,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,c=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Xa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?s=Xa(c,s):(s=xc(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?rI(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=nI,r}return s=t.child,t=s.sibling,r=Xa(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function g2(t,e){return e=Fw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ym(t,e,n,r){return r!==null&&t2(r),gh(e,t.child,null,n),t=g2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function U7(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=DA(Error(Z(422))),Ym(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Fw({mode:"visible",children:r.children},i,0,null),s=xc(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&gh(e,t.child,null,a),e.child.memoizedState=rI(a),e.memoizedState=nI,s);if(!(e.mode&1))return Ym(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,s=Error(Z(419)),r=DA(s,r,void 0),Ym(t,e,a,r)}if(c=(a&t.childLanes)!==0,Cr||c){if(r=wn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Fs(t,i),ao(r,t,i,-1))}return E2(),r=DA(Error(Z(421))),Ym(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Y7.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Xr=Qa(i.nextSibling),ni=e,Tt=!0,ro=null,t!==null&&(Ii[Ti++]=Ss,Ii[Ti++]=Is,Ii[Ti++]=_c,Ss=t.id,Is=t.overflow,_c=e),e=g2(e,r.children),e.flags|=4096,e)}function F6(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),JS(t.return,e,n)}function _A(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function a8(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(nr(t,e,r.children,n),r=Pt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&F6(t,n,e);else if(t.tag===19)F6(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(gt(Pt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&yv(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),_A(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&yv(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}_A(e,!0,n,null,s);break;case"together":_A(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Us(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Lc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=Xa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function B7(t,e,n){switch(e.tag){case 3:o8(e),ph();break;case 5:RR(e);break;case 1:Pr(e.type)&&fv(e);break;case 4:a2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;gt(pv,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(gt(Pt,Pt.current&1),e.flags|=128,null):n&e.child.childLanes?s8(t,e,n):(gt(Pt,Pt.current&1),t=Us(t,e,n),t!==null?t.sibling:null);gt(Pt,Pt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return a8(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),gt(Pt,Pt.current),r)break;return null;case 22:case 23:return e.lanes=0,r8(t,e,n)}return Us(t,e,n)}var u8,iI,c8,l8;u8=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};iI=function(){};c8=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Zu(zo.current);var s=null;switch(n){case"input":i=xS(t,i),r=xS(t,r),s=[];break;case"select":i=Ut({},i,{value:void 0}),r=Ut({},r,{value:void 0}),s=[];break;case"textarea":i=kS(t,i),r=kS(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=cv)}PS(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var c=i[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Vp.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(c=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&l!==c&&(l!=null||c!=null))if(h==="style")if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(h,n)),n=l;else h==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,c=c?c.__html:void 0,l!=null&&c!==l&&(s=s||[]).push(h,l)):h==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(h,""+l):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Vp.hasOwnProperty(h)?(l!=null&&h==="onScroll"&&yt("scroll",t),s||c===l||(s=[])):(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};l8=function(t,e,n,r){n!==r&&(e.flags|=4)};function Zd(t,e){if(!Tt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Fn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function j7(t,e,n){var r=e.pendingProps;switch(e2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fn(e),null;case 1:return Pr(e.type)&&lv(),Fn(e),null;case 3:return r=e.stateNode,mh(),wt(Or),wt(Wn),c2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ro!==null&&(hI(ro),ro=null))),iI(t,e),Fn(e),null;case 5:u2(e);var i=Zu(Zp.current);if(n=e.type,t!==null&&e.stateNode!=null)c8(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return Fn(e),null}if(t=Zu(zo.current),Wm(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Uo]=e,r[Yp]=s,t=(e.mode&1)!==0,n){case"dialog":yt("cancel",r),yt("close",r);break;case"iframe":case"object":case"embed":yt("load",r);break;case"video":case"audio":for(i=0;i<fp.length;i++)yt(fp[i],r);break;case"source":yt("error",r);break;case"img":case"image":case"link":yt("error",r),yt("load",r);break;case"details":yt("toggle",r);break;case"input":q5(r,s),yt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},yt("invalid",r);break;case"textarea":Q5(r,s),yt("invalid",r)}PS(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="children"?typeof c=="string"?r.textContent!==c&&(s.suppressHydrationWarning!==!0&&Qm(r.textContent,c,t),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&Qm(r.textContent,c,t),i=["children",""+c]):Vp.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&yt("scroll",r)}switch(n){case"input":jm(r),K5(r,s,!0);break;case"textarea":jm(r),W5(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=cv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=F_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Uo]=e,t[Yp]=r,u8(t,e,!1,!1),e.stateNode=t;e:{switch(a=DS(n,r),n){case"dialog":yt("cancel",t),yt("close",t),i=r;break;case"iframe":case"object":case"embed":yt("load",t),i=r;break;case"video":case"audio":for(i=0;i<fp.length;i++)yt(fp[i],t);i=r;break;case"source":yt("error",t),i=r;break;case"img":case"image":case"link":yt("error",t),yt("load",t),i=r;break;case"details":yt("toggle",t),i=r;break;case"input":q5(t,r),i=xS(t,r),yt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ut({},r,{value:void 0}),yt("invalid",t);break;case"textarea":Q5(t,r),i=kS(t,r),yt("invalid",t);break;default:i=r}PS(n,i),c=i;for(s in c)if(c.hasOwnProperty(s)){var l=c[s];s==="style"?j_(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&U_(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$p(t,l):typeof l=="number"&&$p(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&yt("scroll",t):l!=null&&BT(t,s,l,a))}switch(n){case"input":jm(t),K5(t,r,!1);break;case"textarea":jm(t),W5(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ou(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?df(t,!!r.multiple,s,!1):r.defaultValue!=null&&df(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=cv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Fn(e),null;case 6:if(t&&e.stateNode!=null)l8(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=Zu(Zp.current),Zu(zo.current),Wm(e)){if(r=e.stateNode,n=e.memoizedProps,r[Uo]=e,(s=r.nodeValue!==n)&&(t=ni,t!==null))switch(t.tag){case 3:Qm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qm(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Uo]=e,e.stateNode=r}return Fn(e),null;case 13:if(wt(Pt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Tt&&Xr!==null&&e.mode&1&&!(e.flags&128))CR(),ph(),e.flags|=98560,s=!1;else if(s=Wm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Z(317));s[Uo]=e}else ph(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Fn(e),s=!1}else ro!==null&&(hI(ro),ro=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pt.current&1?dn===0&&(dn=3):E2())),e.updateQueue!==null&&(e.flags|=4),Fn(e),null);case 4:return mh(),iI(t,e),t===null&&Wp(e.stateNode.containerInfo),Fn(e),null;case 10:return i2(e.type._context),Fn(e),null;case 17:return Pr(e.type)&&lv(),Fn(e),null;case 19:if(wt(Pt),s=e.memoizedState,s===null)return Fn(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Zd(s,!1);else{if(dn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=yv(t),a!==null){for(e.flags|=128,Zd(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return gt(Pt,Pt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Qt()>vh&&(e.flags|=128,r=!0,Zd(s,!1),e.lanes=4194304)}else{if(!r)if(t=yv(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Zd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Tt)return Fn(e),null}else 2*Qt()-s.renderingStartTime>vh&&n!==1073741824&&(e.flags|=128,r=!0,Zd(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Qt(),e.sibling=null,n=Pt.current,gt(Pt,r?n&1|2:n&1),e):(Fn(e),null);case 22:case 23:return b2(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Kr&1073741824&&(Fn(e),e.subtreeFlags&6&&(e.flags|=8192)):Fn(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function V7(t,e){switch(e2(e),e.tag){case 1:return Pr(e.type)&&lv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mh(),wt(Or),wt(Wn),c2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return u2(e),null;case 13:if(wt(Pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));ph()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return wt(Pt),null;case 4:return mh(),null;case 10:return i2(e.type._context),null;case 22:case 23:return b2(),null;case 24:return null;default:return null}}var Xm=!1,$n=!1,$7=typeof WeakSet=="function"?WeakSet:Set,ce=null;function tf(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Vt(t,e,r)}else n.current=null}function oI(t,e,n){try{n()}catch(r){Vt(t,e,r)}}var U6=!1;function H7(t,e){if($S=sv,t=pR(),XT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,c=-1,l=-1,h=0,p=0,g=t,y=null;t:for(;;){for(var w;g!==n||i!==0&&g.nodeType!==3||(c=a+i),g!==s||r!==0&&g.nodeType!==3||(l=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(w=g.firstChild)!==null;)y=g,g=w;for(;;){if(g===t)break t;if(y===n&&++h===i&&(c=a),y===s&&++p===r&&(l=a),(w=g.nextSibling)!==null)break;g=y,y=g.parentNode}g=w}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(HS={focusedElem:t,selectionRange:n},sv=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var I=E.memoizedProps,k=E.memoizedState,S=e.stateNode,T=S.getSnapshotBeforeUpdate(e.elementType===e.type?I:Wi(e.type,I),k);S.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(_){Vt(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return E=U6,U6=!1,E}function Tp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&oI(e,n,s)}i=i.next}while(i!==r)}}function Lw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sI(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function f8(t){var e=t.alternate;e!==null&&(t.alternate=null,f8(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Uo],delete e[Yp],delete e[qS],delete e[T7],delete e[x7])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function h8(t){return t.tag===5||t.tag===3||t.tag===4}function B6(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||h8(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function aI(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=cv));else if(r!==4&&(t=t.child,t!==null))for(aI(t,e,n),t=t.sibling;t!==null;)aI(t,e,n),t=t.sibling}function uI(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(uI(t,e,n),t=t.sibling;t!==null;)uI(t,e,n),t=t.sibling}var xn=null,no=!1;function oa(t,e,n){for(n=n.child;n!==null;)d8(t,e,n),n=n.sibling}function d8(t,e,n){if(Ho&&typeof Ho.onCommitFiberUnmount=="function")try{Ho.onCommitFiberUnmount(Cw,n)}catch{}switch(n.tag){case 5:$n||tf(n,e);case 6:var r=xn,i=no;xn=null,oa(t,e,n),xn=r,no=i,xn!==null&&(no?(t=xn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xn.removeChild(n.stateNode));break;case 18:xn!==null&&(no?(t=xn,n=n.stateNode,t.nodeType===8?xA(t.parentNode,n):t.nodeType===1&&xA(t,n),qp(t)):xA(xn,n.stateNode));break;case 4:r=xn,i=no,xn=n.stateNode.containerInfo,no=!0,oa(t,e,n),xn=r,no=i;break;case 0:case 11:case 14:case 15:if(!$n&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&oI(n,e,a),i=i.next}while(i!==r)}oa(t,e,n);break;case 1:if(!$n&&(tf(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Vt(n,e,c)}oa(t,e,n);break;case 21:oa(t,e,n);break;case 22:n.mode&1?($n=(r=$n)||n.memoizedState!==null,oa(t,e,n),$n=r):oa(t,e,n);break;default:oa(t,e,n)}}function j6(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $7),e.forEach(function(r){var i=X7.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Gi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:xn=c.stateNode,no=!1;break e;case 3:xn=c.stateNode.containerInfo,no=!0;break e;case 4:xn=c.stateNode.containerInfo,no=!0;break e}c=c.return}if(xn===null)throw Error(Z(160));d8(s,a,i),xn=null,no=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(h){Vt(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)p8(e,t),e=e.sibling}function p8(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gi(e,t),Co(t),r&4){try{Tp(3,t,t.return),Lw(3,t)}catch(I){Vt(t,t.return,I)}try{Tp(5,t,t.return)}catch(I){Vt(t,t.return,I)}}break;case 1:Gi(e,t),Co(t),r&512&&n!==null&&tf(n,n.return);break;case 5:if(Gi(e,t),Co(t),r&512&&n!==null&&tf(n,n.return),t.flags&32){var i=t.stateNode;try{$p(i,"")}catch(I){Vt(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,c=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&L_(i,s),DS(c,a);var h=DS(c,s);for(a=0;a<l.length;a+=2){var p=l[a],g=l[a+1];p==="style"?j_(i,g):p==="dangerouslySetInnerHTML"?U_(i,g):p==="children"?$p(i,g):BT(i,p,g,h)}switch(c){case"input":CS(i,s);break;case"textarea":M_(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?df(i,!!s.multiple,w,!1):y!==!!s.multiple&&(s.defaultValue!=null?df(i,!!s.multiple,s.defaultValue,!0):df(i,!!s.multiple,s.multiple?[]:"",!1))}i[Yp]=s}catch(I){Vt(t,t.return,I)}}break;case 6:if(Gi(e,t),Co(t),r&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(I){Vt(t,t.return,I)}}break;case 3:if(Gi(e,t),Co(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qp(e.containerInfo)}catch(I){Vt(t,t.return,I)}break;case 4:Gi(e,t),Co(t);break;case 13:Gi(e,t),Co(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(v2=Qt())),r&4&&j6(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?($n=(h=$n)||p,Gi(e,t),$n=h):Gi(e,t),Co(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!p&&t.mode&1)for(ce=t,p=t.child;p!==null;){for(g=ce=p;ce!==null;){switch(y=ce,w=y.child,y.tag){case 0:case 11:case 14:case 15:Tp(4,y,y.return);break;case 1:tf(y,y.return);var E=y.stateNode;if(typeof E.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(I){Vt(r,n,I)}}break;case 5:tf(y,y.return);break;case 22:if(y.memoizedState!==null){$6(g);continue}}w!==null?(w.return=y,ce=w):$6(g)}p=p.sibling}e:for(p=null,g=t;;){if(g.tag===5){if(p===null){p=g;try{i=g.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=g.stateNode,l=g.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,c.style.display=B_("display",a))}catch(I){Vt(t,t.return,I)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=h?"":g.memoizedProps}catch(I){Vt(t,t.return,I)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Gi(e,t),Co(t),r&4&&j6(t);break;case 21:break;default:Gi(e,t),Co(t)}}function Co(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(h8(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($p(i,""),r.flags&=-33);var s=B6(t);uI(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,c=B6(t);aI(t,c,a);break;default:throw Error(Z(161))}}catch(l){Vt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function z7(t,e,n){ce=t,g8(t)}function g8(t,e,n){for(var r=(t.mode&1)!==0;ce!==null;){var i=ce,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Xm;if(!a){var c=i.alternate,l=c!==null&&c.memoizedState!==null||$n;c=Xm;var h=$n;if(Xm=a,($n=l)&&!h)for(ce=i;ce!==null;)a=ce,l=a.child,a.tag===22&&a.memoizedState!==null?H6(i):l!==null?(l.return=a,ce=l):H6(i);for(;s!==null;)ce=s,g8(s),s=s.sibling;ce=i,Xm=c,$n=h}V6(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ce=s):V6(t)}}function V6(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$n||Lw(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$n)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Wi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&I6(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}I6(e,a,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&qp(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}$n||e.flags&512&&sI(e)}catch(y){Vt(e,e.return,y)}}if(e===t){ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}}function $6(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ce=n;break}ce=e.return}}function H6(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Lw(4,e)}catch(l){Vt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Vt(e,i,l)}}var s=e.return;try{sI(e)}catch(l){Vt(e,s,l)}break;case 5:var a=e.return;try{sI(e)}catch(l){Vt(e,a,l)}}}catch(l){Vt(e,e.return,l)}if(e===t){ce=null;break}var c=e.sibling;if(c!==null){c.return=e.return,ce=c;break}ce=e.return}}var G7=Math.ceil,bv=$s.ReactCurrentDispatcher,m2=$s.ReactCurrentOwner,Ni=$s.ReactCurrentBatchConfig,qe=0,wn=null,en=null,kn=0,Kr=0,nf=hu(0),dn=0,r0=null,Lc=0,Mw=0,y2=0,xp=null,Ar=null,v2=0,vh=1/0,is=null,Ev=!1,cI=null,Ja=null,Zm=!1,ja=null,Av=0,Cp=0,lI=null,_y=-1,Ry=0;function hr(){return qe&6?Qt():_y!==-1?_y:_y=Qt()}function Ya(t){return t.mode&1?qe&2&&kn!==0?kn&-kn:N7.transition!==null?(Ry===0&&(Ry=X_()),Ry):(t=st,t!==0||(t=window.event,t=t===void 0?16:oR(t.type)),t):1}function ao(t,e,n,r){if(50<Cp)throw Cp=0,lI=null,Error(Z(185));ag(t,n,r),(!(qe&2)||t!==wn)&&(t===wn&&(!(qe&2)&&(Mw|=n),dn===4&&wa(t,kn)),Dr(t,r),n===1&&qe===0&&!(e.mode&1)&&(vh=Qt()+500,Dw&&du()))}function Dr(t,e){var n=t.callbackNode;NV(t,e);var r=ov(t,t===wn?kn:0);if(r===0)n!==null&&X5(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&X5(n),e===1)t.tag===0?C7(z6.bind(null,t)):IR(z6.bind(null,t)),S7(function(){!(qe&6)&&du()}),n=null;else{switch(Z_(r)){case 1:n=zT;break;case 4:n=J_;break;case 16:n=iv;break;case 536870912:n=Y_;break;default:n=iv}n=S8(n,m8.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function m8(t,e){if(_y=-1,Ry=0,qe&6)throw Error(Z(327));var n=t.callbackNode;if(vf()&&t.callbackNode!==n)return null;var r=ov(t,t===wn?kn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Sv(t,r);else{e=r;var i=qe;qe|=2;var s=v8();(wn!==t||kn!==e)&&(is=null,vh=Qt()+500,Tc(t,e));do try{Q7();break}catch(c){y8(t,c)}while(1);r2(),bv.current=s,qe=i,en!==null?e=0:(wn=null,kn=0,e=dn)}if(e!==0){if(e===2&&(i=FS(t),i!==0&&(r=i,e=fI(t,i))),e===1)throw n=r0,Tc(t,0),wa(t,r),Dr(t,Qt()),n;if(e===6)wa(t,r);else{if(i=t.current.alternate,!(r&30)&&!q7(i)&&(e=Sv(t,r),e===2&&(s=FS(t),s!==0&&(r=s,e=fI(t,s))),e===1))throw n=r0,Tc(t,0),wa(t,r),Dr(t,Qt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:qu(t,Ar,is);break;case 3:if(wa(t,r),(r&130023424)===r&&(e=v2+500-Qt(),10<e)){if(ov(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){hr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=GS(qu.bind(null,t,Ar,is),e);break}qu(t,Ar,is);break;case 4:if(wa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-so(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Qt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*G7(r/1960))-r,10<r){t.timeoutHandle=GS(qu.bind(null,t,Ar,is),r);break}qu(t,Ar,is);break;case 5:qu(t,Ar,is);break;default:throw Error(Z(329))}}}return Dr(t,Qt()),t.callbackNode===n?m8.bind(null,t):null}function fI(t,e){var n=xp;return t.current.memoizedState.isDehydrated&&(Tc(t,e).flags|=256),t=Sv(t,e),t!==2&&(e=Ar,Ar=n,e!==null&&hI(e)),t}function hI(t){Ar===null?Ar=t:Ar.push.apply(Ar,t)}function q7(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!fo(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wa(t,e){for(e&=~y2,e&=~Mw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-so(e),r=1<<n;t[n]=-1,e&=~r}}function z6(t){if(qe&6)throw Error(Z(327));vf();var e=ov(t,0);if(!(e&1))return Dr(t,Qt()),null;var n=Sv(t,e);if(t.tag!==0&&n===2){var r=FS(t);r!==0&&(e=r,n=fI(t,r))}if(n===1)throw n=r0,Tc(t,0),wa(t,e),Dr(t,Qt()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qu(t,Ar,is),Dr(t,Qt()),null}function w2(t,e){var n=qe;qe|=1;try{return t(e)}finally{qe=n,qe===0&&(vh=Qt()+500,Dw&&du())}}function Mc(t){ja!==null&&ja.tag===0&&!(qe&6)&&vf();var e=qe;qe|=1;var n=Ni.transition,r=st;try{if(Ni.transition=null,st=1,t)return t()}finally{st=r,Ni.transition=n,qe=e,!(qe&6)&&du()}}function b2(){Kr=nf.current,wt(nf)}function Tc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,A7(n)),en!==null)for(n=en.return;n!==null;){var r=n;switch(e2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lv();break;case 3:mh(),wt(Or),wt(Wn),c2();break;case 5:u2(r);break;case 4:mh();break;case 13:wt(Pt);break;case 19:wt(Pt);break;case 10:i2(r.type._context);break;case 22:case 23:b2()}n=n.return}if(wn=t,en=t=Xa(t.current,null),kn=Kr=e,dn=0,r0=null,y2=Mw=Lc=0,Ar=xp=null,Xu!==null){for(e=0;e<Xu.length;e++)if(n=Xu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Xu=null}return t}function y8(t,e){do{var n=en;try{if(r2(),Oy.current=wv,vv){for(var r=Ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vv=!1}if(Rc=0,vn=fn=Ft=null,Ip=!1,e0=0,m2.current=null,n===null||n.return===null){dn=1,r0=e,en=null;break}e:{var s=t,a=n.return,c=n,l=e;if(e=kn,c.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=l,p=c,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var w=P6(a);if(w!==null){w.flags&=-257,D6(w,a,c,s,e),w.mode&1&&O6(s,h,e),e=w,l=h;var E=e.updateQueue;if(E===null){var I=new Set;I.add(l),e.updateQueue=I}else E.add(l);break e}else{if(!(e&1)){O6(s,h,e),E2();break e}l=Error(Z(426))}}else if(Tt&&c.mode&1){var k=P6(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),D6(k,a,c,s,e),t2(yh(l,c));break e}}s=l=yh(l,c),dn!==4&&(dn=2),xp===null?xp=[s]:xp.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=e8(s,l,e);S6(s,S);break e;case 1:c=l;var T=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ja===null||!Ja.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=t8(s,c,e);S6(s,_);break e}}s=s.return}while(s!==null)}b8(n)}catch(R){e=R,en===n&&n!==null&&(en=n=n.return);continue}break}while(1)}function v8(){var t=bv.current;return bv.current=wv,t===null?wv:t}function E2(){(dn===0||dn===3||dn===2)&&(dn=4),wn===null||!(Lc&268435455)&&!(Mw&268435455)||wa(wn,kn)}function Sv(t,e){var n=qe;qe|=2;var r=v8();(wn!==t||kn!==e)&&(is=null,Tc(t,e));do try{K7();break}catch(i){y8(t,i)}while(1);if(r2(),qe=n,bv.current=r,en!==null)throw Error(Z(261));return wn=null,kn=0,dn}function K7(){for(;en!==null;)w8(en)}function Q7(){for(;en!==null&&!wV();)w8(en)}function w8(t){var e=A8(t.alternate,t,Kr);t.memoizedProps=t.pendingProps,e===null?b8(t):en=e,m2.current=null}function b8(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=V7(n,e),n!==null){n.flags&=32767,en=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dn=6,en=null;return}}else if(n=j7(n,e,Kr),n!==null){en=n;return}if(e=e.sibling,e!==null){en=e;return}en=e=t}while(e!==null);dn===0&&(dn=5)}function qu(t,e,n){var r=st,i=Ni.transition;try{Ni.transition=null,st=1,W7(t,e,n,r)}finally{Ni.transition=i,st=r}return null}function W7(t,e,n,r){do vf();while(ja!==null);if(qe&6)throw Error(Z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(kV(t,s),t===wn&&(en=wn=null,kn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zm||(Zm=!0,S8(iv,function(){return vf(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ni.transition,Ni.transition=null;var a=st;st=1;var c=qe;qe|=4,m2.current=null,H7(t,n),p8(n,t),g7(HS),sv=!!$S,HS=$S=null,t.current=n,z7(n),bV(),qe=c,st=a,Ni.transition=s}else t.current=n;if(Zm&&(Zm=!1,ja=t,Av=i),s=t.pendingLanes,s===0&&(Ja=null),SV(n.stateNode),Dr(t,Qt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ev)throw Ev=!1,t=cI,cI=null,t;return Av&1&&t.tag!==0&&vf(),s=t.pendingLanes,s&1?t===lI?Cp++:(Cp=0,lI=t):Cp=0,du(),null}function vf(){if(ja!==null){var t=Z_(Av),e=Ni.transition,n=st;try{if(Ni.transition=null,st=16>t?16:t,ja===null)var r=!1;else{if(t=ja,ja=null,Av=0,qe&6)throw Error(Z(331));var i=qe;for(qe|=4,ce=t.current;ce!==null;){var s=ce,a=s.child;if(ce.flags&16){var c=s.deletions;if(c!==null){for(var l=0;l<c.length;l++){var h=c[l];for(ce=h;ce!==null;){var p=ce;switch(p.tag){case 0:case 11:case 15:Tp(8,p,s)}var g=p.child;if(g!==null)g.return=p,ce=g;else for(;ce!==null;){p=ce;var y=p.sibling,w=p.return;if(f8(p),p===h){ce=null;break}if(y!==null){y.return=w,ce=y;break}ce=w}}}var E=s.alternate;if(E!==null){var I=E.child;if(I!==null){E.child=null;do{var k=I.sibling;I.sibling=null,I=k}while(I!==null)}}ce=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ce=a;else e:for(;ce!==null;){if(s=ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Tp(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,ce=S;break e}ce=s.return}}var T=t.current;for(ce=T;ce!==null;){a=ce;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,ce=x;else e:for(a=T;ce!==null;){if(c=ce,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Lw(9,c)}}catch(R){Vt(c,c.return,R)}if(c===a){ce=null;break e}var _=c.sibling;if(_!==null){_.return=c.return,ce=_;break e}ce=c.return}}if(qe=i,du(),Ho&&typeof Ho.onPostCommitFiberRoot=="function")try{Ho.onPostCommitFiberRoot(Cw,t)}catch{}r=!0}return r}finally{st=n,Ni.transition=e}}return!1}function G6(t,e,n){e=yh(n,e),e=e8(t,e,1),t=Wa(t,e,1),e=hr(),t!==null&&(ag(t,1,e),Dr(t,e))}function Vt(t,e,n){if(t.tag===3)G6(t,t,n);else for(;e!==null;){if(e.tag===3){G6(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ja===null||!Ja.has(r))){t=yh(n,t),t=t8(e,t,1),e=Wa(e,t,1),t=hr(),e!==null&&(ag(e,1,t),Dr(e,t));break}}e=e.return}}function J7(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=hr(),t.pingedLanes|=t.suspendedLanes&n,wn===t&&(kn&n)===n&&(dn===4||dn===3&&(kn&130023424)===kn&&500>Qt()-v2?Tc(t,0):y2|=n),Dr(t,e)}function E8(t,e){e===0&&(t.mode&1?(e=Hm,Hm<<=1,!(Hm&130023424)&&(Hm=4194304)):e=1);var n=hr();t=Fs(t,e),t!==null&&(ag(t,e,n),Dr(t,n))}function Y7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),E8(t,n)}function X7(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),E8(t,n)}var A8;A8=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Or.current)Cr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Cr=!1,B7(t,e,n);Cr=!!(t.flags&131072)}else Cr=!1,Tt&&e.flags&1048576&&TR(e,dv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Dy(t,e),t=e.pendingProps;var i=dh(e,Wn.current);yf(e,n),i=f2(null,e,r,t,i,n);var s=h2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pr(r)?(s=!0,fv(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,s2(e),i.updater=_w,e.stateNode=i,i._reactInternals=e,XS(e,r,t,n),e=tI(null,e,r,!0,s,n)):(e.tag=0,Tt&&s&&ZT(e),nr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Dy(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=e$(r),t=Wi(r,t),i){case 0:e=eI(null,e,r,t,n);break e;case 1:e=L6(null,e,r,t,n);break e;case 11:e=_6(null,e,r,t,n);break e;case 14:e=R6(null,e,r,Wi(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wi(r,i),eI(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wi(r,i),L6(t,e,r,i,n);case 3:e:{if(o8(e),t===null)throw Error(Z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,kR(t,e),mv(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=yh(Error(Z(423)),e),e=M6(t,e,r,n,i);break e}else if(r!==i){i=yh(Error(Z(424)),e),e=M6(t,e,r,n,i);break e}else for(Xr=Qa(e.stateNode.containerInfo.firstChild),ni=e,Tt=!0,ro=null,n=_R(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ph(),r===i){e=Us(t,e,n);break e}nr(t,e,r,n)}e=e.child}return e;case 5:return RR(e),t===null&&WS(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,zS(r,i)?a=null:s!==null&&zS(r,s)&&(e.flags|=32),i8(t,e),nr(t,e,a,n),e.child;case 6:return t===null&&WS(e),null;case 13:return s8(t,e,n);case 4:return a2(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=gh(e,null,r,n):nr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wi(r,i),_6(t,e,r,i,n);case 7:return nr(t,e,e.pendingProps,n),e.child;case 8:return nr(t,e,e.pendingProps.children,n),e.child;case 12:return nr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,gt(pv,r._currentValue),r._currentValue=a,s!==null)if(fo(s.value,a)){if(s.children===i.children&&!Or.current){e=Us(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){a=s.child;for(var l=c.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ks(-1,n&-n),l.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?l.next=l:(l.next=p.next,p.next=l),h.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),JS(s.return,n,e),c.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Z(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),JS(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}nr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,yf(e,n),i=Pi(i),r=r(i),e.flags|=1,nr(t,e,r,n),e.child;case 14:return r=e.type,i=Wi(r,e.pendingProps),i=Wi(r.type,i),R6(t,e,r,i,n);case 15:return n8(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wi(r,i),Dy(t,e),e.tag=1,Pr(r)?(t=!0,fv(e)):t=!1,yf(e,n),PR(e,r,i),XS(e,r,i,n),tI(null,e,r,!0,t,n);case 19:return a8(t,e,n);case 22:return r8(t,e,n)}throw Error(Z(156,e.tag))};function S8(t,e){return W_(t,e)}function Z7(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(t,e,n,r){return new Z7(t,e,n,r)}function A2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function e$(t){if(typeof t=="function")return A2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===VT)return 11;if(t===$T)return 14}return 2}function Xa(t,e){var n=t.alternate;return n===null?(n=Ci(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ly(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")A2(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ql:return xc(n.children,i,s,e);case jT:a=8,i|=8;break;case AS:return t=Ci(12,n,e,i|2),t.elementType=AS,t.lanes=s,t;case SS:return t=Ci(13,n,e,i),t.elementType=SS,t.lanes=s,t;case IS:return t=Ci(19,n,e,i),t.elementType=IS,t.lanes=s,t;case D_:return Fw(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case O_:a=10;break e;case P_:a=9;break e;case VT:a=11;break e;case $T:a=14;break e;case da:a=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=Ci(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function xc(t,e,n,r){return t=Ci(7,t,r,e),t.lanes=n,t}function Fw(t,e,n,r){return t=Ci(22,t,r,e),t.elementType=D_,t.lanes=n,t.stateNode={isHidden:!1},t}function RA(t,e,n){return t=Ci(6,t,null,e),t.lanes=n,t}function LA(t,e,n){return e=Ci(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function t$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gA(0),this.expirationTimes=gA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gA(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function S2(t,e,n,r,i,s,a,c,l){return t=new t$(t,e,n,c,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ci(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},s2(s),t}function n$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function I8(t){if(!t)return su;t=t._reactInternals;e:{if(Xc(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(Pr(n))return SR(t,n,e)}return e}function T8(t,e,n,r,i,s,a,c,l){return t=S2(n,r,!0,t,i,s,a,c,l),t.context=I8(null),n=t.current,r=hr(),i=Ya(n),s=ks(r,i),s.callback=e??null,Wa(n,s,i),t.current.lanes=i,ag(t,i,r),Dr(t,r),t}function Uw(t,e,n,r){var i=e.current,s=hr(),a=Ya(i);return n=I8(n),e.context===null?e.context=n:e.pendingContext=n,e=ks(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wa(i,e,a),t!==null&&(ao(t,i,a,s),ky(t,i,a)),a}function Iv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function q6(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function I2(t,e){q6(t,e),(t=t.alternate)&&q6(t,e)}function r$(){return null}var x8=typeof reportError=="function"?reportError:function(t){console.error(t)};function T2(t){this._internalRoot=t}Bw.prototype.render=T2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));Uw(t,e,null,null)};Bw.prototype.unmount=T2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mc(function(){Uw(null,t,null,null)}),e[Ms]=null}};function Bw(t){this._internalRoot=t}Bw.prototype.unstable_scheduleHydration=function(t){if(t){var e=nR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<va.length&&e!==0&&e<va[n].priority;n++);va.splice(n,0,t),n===0&&iR(t)}};function x2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function K6(){}function i$(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Iv(a);s.call(h)}}var a=T8(e,r,t,0,null,!1,!1,"",K6);return t._reactRootContainer=a,t[Ms]=a.current,Wp(t.nodeType===8?t.parentNode:t),Mc(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var h=Iv(l);c.call(h)}}var l=S2(t,0,!1,null,null,!1,!1,"",K6);return t._reactRootContainer=l,t[Ms]=l.current,Wp(t.nodeType===8?t.parentNode:t),Mc(function(){Uw(e,l,n,r)}),l}function Vw(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var c=i;i=function(){var l=Iv(a);c.call(l)}}Uw(e,a,t,i)}else a=i$(n,e,t,i,r);return Iv(a)}eR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=lp(e.pendingLanes);n!==0&&(GT(e,n|1),Dr(e,Qt()),!(qe&6)&&(vh=Qt()+500,du()))}break;case 13:Mc(function(){var r=Fs(t,1);if(r!==null){var i=hr();ao(r,t,1,i)}}),I2(t,1)}};qT=function(t){if(t.tag===13){var e=Fs(t,134217728);if(e!==null){var n=hr();ao(e,t,134217728,n)}I2(t,134217728)}};tR=function(t){if(t.tag===13){var e=Ya(t),n=Fs(t,e);if(n!==null){var r=hr();ao(n,t,e,r)}I2(t,e)}};nR=function(){return st};rR=function(t,e){var n=st;try{return st=t,e()}finally{st=n}};RS=function(t,e,n){switch(e){case"input":if(CS(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Pw(r);if(!i)throw Error(Z(90));R_(r),CS(r,i)}}}break;case"textarea":M_(t,n);break;case"select":e=n.value,e!=null&&df(t,!!n.multiple,e,!1)}};H_=w2;z_=Mc;var o$={usingClientEntryPoint:!1,Events:[cg,Jl,Pw,V_,$_,w2]},ep={findFiberByHostInstance:Yu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},s$={bundleType:ep.bundleType,version:ep.version,rendererPackageName:ep.rendererPackageName,rendererConfig:ep.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$s.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=K_(t),t===null?null:t.stateNode},findFiberByHostInstance:ep.findFiberByHostInstance||r$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ey=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ey.isDisabled&&ey.supportsFiber)try{Cw=ey.inject(s$),Ho=ey}catch{}}ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o$;ui.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x2(e))throw Error(Z(200));return n$(t,e,null,n)};ui.createRoot=function(t,e){if(!x2(t))throw Error(Z(299));var n=!1,r="",i=x8;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=S2(t,1,!1,null,null,n,!1,r,i),t[Ms]=e.current,Wp(t.nodeType===8?t.parentNode:t),new T2(e)};ui.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=K_(e),t=t===null?null:t.stateNode,t};ui.flushSync=function(t){return Mc(t)};ui.hydrate=function(t,e,n){if(!jw(e))throw Error(Z(200));return Vw(null,t,e,!0,n)};ui.hydrateRoot=function(t,e,n){if(!x2(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=x8;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=T8(e,null,t,1,n??null,i,!1,s,a),t[Ms]=e.current,Wp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Bw(e)};ui.render=function(t,e,n){if(!jw(e))throw Error(Z(200));return Vw(null,t,e,!1,n)};ui.unmountComponentAtNode=function(t){if(!jw(t))throw Error(Z(40));return t._reactRootContainer?(Mc(function(){Vw(null,null,t,!1,function(){t._reactRootContainer=null,t[Ms]=null})}),!0):!1};ui.unstable_batchedUpdates=w2;ui.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!jw(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return Vw(t,e,n,!1,r)};ui.version="18.2.0-next-9e3b772b8-20220608";function C8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C8)}catch(t){console.error(t)}}C8(),T_.exports=ui;var a$=T_.exports,Q6=a$;bS.createRoot=Q6.createRoot,bS.hydrateRoot=Q6.hydrateRoot;const u$=()=>D.jsx("div",{className:"flex justify-center items-center py-3",children:D.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 boreder-red-700"})});var N8={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},W6=$o.createContext&&$o.createContext(N8),Za=globalThis&&globalThis.__assign||function(){return Za=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Za.apply(this,arguments)},c$=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function k8(t){return t&&t.map(function(e,n){return $o.createElement(e.tag,Za({key:n},e.attr),k8(e.child))})}function Zc(t){return function(e){return $o.createElement(l$,Za({attr:Za({},t.attr)},e),k8(t.child))}}function l$(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,a=c$(t,["attr","size","title"]),c=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),$o.createElement("svg",Za({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:Za(Za({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&$o.createElement("title",null,s),t.children)};return W6!==void 0?$o.createElement(W6.Consumer,null,function(n){return e(n)}):e(N8)}function f$(t){return Zc({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 7a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 13a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"}}]})(t)}function J6(t){return Zc({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]})(t)}/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function i0(){return i0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i0.apply(this,arguments)}var Va;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Va||(Va={}));const Y6="popstate";function h$(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:c}=r.location;return dI("",{pathname:s,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Tv(i)}return p$(e,n,null,t)}function nn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function C2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function d$(){return Math.random().toString(36).substr(2,8)}function X6(t,e){return{usr:t.state,key:t.key,idx:e}}function dI(t,e,n,r){return n===void 0&&(n=null),i0({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Gh(e):e,{state:n,key:e&&e.key||r||d$()})}function Tv(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Gh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function p$(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,c=Va.Pop,l=null,h=p();h==null&&(h=0,a.replaceState(i0({},a.state,{idx:h}),""));function p(){return(a.state||{idx:null}).idx}function g(){c=Va.Pop;let k=p(),S=k==null?null:k-h;h=k,l&&l({action:c,location:I.location,delta:S})}function y(k,S){c=Va.Push;let T=dI(I.location,k,S);n&&n(T,k),h=p()+1;let x=X6(T,h),_=I.createHref(T);try{a.pushState(x,"",_)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(_)}s&&l&&l({action:c,location:I.location,delta:1})}function w(k,S){c=Va.Replace;let T=dI(I.location,k,S);n&&n(T,k),h=p();let x=X6(T,h),_=I.createHref(T);a.replaceState(x,"",_),s&&l&&l({action:c,location:I.location,delta:0})}function E(k){let S=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof k=="string"?k:Tv(k);return nn(S,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,S)}let I={get action(){return c},get location(){return t(i,a)},listen(k){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Y6,g),l=k,()=>{i.removeEventListener(Y6,g),l=null}},createHref(k){return e(i,k)},createURL:E,encodeLocation(k){let S=E(k);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:w,go(k){return a.go(k)}};return I}var Z6;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Z6||(Z6={}));function g$(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Gh(e):e,i=N2(r.pathname||"/",n);if(i==null)return null;let s=O8(t);m$(s);let a=null;for(let c=0;a==null&&c<s.length;++c)a=T$(s[c],N$(i));return a}function O8(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,c)=>{let l={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(nn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let h=eu([r,l.relativePath]),p=n.concat(l);s.children&&s.children.length>0&&(nn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),O8(s.children,e,p,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:S$(h,s.index),routesMeta:p})};return t.forEach((s,a)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,a);else for(let l of P8(s.path))i(s,a,l)}),e}function P8(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=P8(r.join("/")),c=[];return c.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&c.push(...a),c.map(l=>t.startsWith("/")&&l===""?"/":l)}function m$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:I$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const y$=/^:\w+$/,v$=3,w$=2,b$=1,E$=10,A$=-2,eO=t=>t==="*";function S$(t,e){let n=t.split("/"),r=n.length;return n.some(eO)&&(r+=A$),e&&(r+=w$),n.filter(i=>!eO(i)).reduce((i,s)=>i+(y$.test(s)?v$:s===""?b$:E$),r)}function I$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function T$(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let a=0;a<n.length;++a){let c=n[a],l=a===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=x$({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},h);if(!p)return null;Object.assign(r,p.params);let g=c.route;s.push({params:r,pathname:eu([i,p.pathname]),pathnameBase:D$(eu([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=eu([i,p.pathnameBase]))}return s}function x$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=C$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,p,g)=>{if(p==="*"){let y=c[g]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}return h[p]=k$(c[g]||"",p),h},{}),pathname:s,pathnameBase:a,pattern:t}}function C$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),C2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,c)=>(r.push(c),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function N$(t){try{return decodeURI(t)}catch(e){return C2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function k$(t,e){try{return decodeURIComponent(t)}catch(n){return C2(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function N2(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function O$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Gh(t):t;return{pathname:n?n.startsWith("/")?n:P$(n,e):e,search:_$(r),hash:R$(i)}}function P$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function MA(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function D8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _8(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Gh(t):(i=i0({},t),nn(!i.pathname||!i.pathname.includes("?"),MA("?","pathname","search",i)),nn(!i.pathname||!i.pathname.includes("#"),MA("#","pathname","hash",i)),nn(!i.search||!i.search.includes("#"),MA("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,c;if(r||a==null)c=n;else{let g=e.length-1;if(a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}c=g>=0?e[g]:"/"}let l=O$(i,c),h=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(h||p)&&(l.pathname+="/"),l}const eu=t=>t.join("/").replace(/\/\/+/g,"/"),D$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,R$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function L$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const R8=["post","put","patch","delete"];new Set(R8);const M$=["get",...R8];new Set(M$);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xv(){return xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xv.apply(this,arguments)}const k2=G.createContext(null),F$=G.createContext(null),qh=G.createContext(null),$w=G.createContext(null),pu=G.createContext({outlet:null,matches:[],isDataRoute:!1}),L8=G.createContext(null);function U$(t,e){let{relative:n}=e===void 0?{}:e;fg()||nn(!1);let{basename:r,navigator:i}=G.useContext(qh),{hash:s,pathname:a,search:c}=F8(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:eu([r,a])),i.createHref({pathname:l,search:c,hash:s})}function fg(){return G.useContext($w)!=null}function Hw(){return fg()||nn(!1),G.useContext($w).location}function M8(t){G.useContext(qh).static||G.useLayoutEffect(t)}function O2(){let{isDataRoute:t}=G.useContext(pu);return t?X$():B$()}function B$(){fg()||nn(!1);let t=G.useContext(k2),{basename:e,navigator:n}=G.useContext(qh),{matches:r}=G.useContext(pu),{pathname:i}=Hw(),s=JSON.stringify(D8(r).map(l=>l.pathnameBase)),a=G.useRef(!1);return M8(()=>{a.current=!0}),G.useCallback(function(l,h){if(h===void 0&&(h={}),!a.current)return;if(typeof l=="number"){n.go(l);return}let p=_8(l,JSON.parse(s),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:eu([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,s,i,t])}function j$(){let{matches:t}=G.useContext(pu),e=t[t.length-1];return e?e.params:{}}function F8(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=G.useContext(pu),{pathname:i}=Hw(),s=JSON.stringify(D8(r).map(a=>a.pathnameBase));return G.useMemo(()=>_8(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function V$(t,e){return $$(t,e)}function $$(t,e,n){fg()||nn(!1);let{navigator:r}=G.useContext(qh),{matches:i}=G.useContext(pu),s=i[i.length-1],a=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let l=Hw(),h;if(e){var p;let I=typeof e=="string"?Gh(e):e;c==="/"||(p=I.pathname)!=null&&p.startsWith(c)||nn(!1),h=I}else h=l;let g=h.pathname||"/",y=c==="/"?g:g.slice(c.length)||"/",w=g$(t,{pathname:y}),E=K$(w&&w.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:eu([c,r.encodeLocation?r.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?c:eu([c,r.encodeLocation?r.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),i,n);return e&&E?G.createElement($w.Provider,{value:{location:xv({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Va.Pop}},E):E}function H$(){let t=Y$(),e=L$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:i},n):null,s)}const z$=G.createElement(H$,null);class G$ extends G.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?G.createElement(pu.Provider,{value:this.props.routeContext},G.createElement(L8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function q$(t){let{routeContext:e,match:n,children:r}=t,i=G.useContext(k2);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),G.createElement(pu.Provider,{value:e},r)}function K$(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let c=s.findIndex(l=>l.route.id&&(a==null?void 0:a[l.route.id]));c>=0||nn(!1),s=s.slice(0,Math.min(s.length,c+1))}return s.reduceRight((c,l,h)=>{let p=l.route.id?a==null?void 0:a[l.route.id]:null,g=null;n&&(g=l.route.errorElement||z$);let y=e.concat(s.slice(0,h+1)),w=()=>{let E;return p?E=g:l.route.Component?E=G.createElement(l.route.Component,null):l.route.element?E=l.route.element:E=c,G.createElement(q$,{match:l,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:E})};return n&&(l.route.ErrorBoundary||l.route.errorElement||h===0)?G.createElement(G$,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var U8=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(U8||{}),Cv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Cv||{});function Q$(t){let e=G.useContext(k2);return e||nn(!1),e}function W$(t){let e=G.useContext(F$);return e||nn(!1),e}function J$(t){let e=G.useContext(pu);return e||nn(!1),e}function B8(t){let e=J$(),n=e.matches[e.matches.length-1];return n.route.id||nn(!1),n.route.id}function Y$(){var t;let e=G.useContext(L8),n=W$(Cv.UseRouteError),r=B8(Cv.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function X$(){let{router:t}=Q$(U8.UseNavigateStable),e=B8(Cv.UseNavigateStable),n=G.useRef(!1);return M8(()=>{n.current=!0}),G.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,xv({fromRouteId:e},s)))},[t,e])}function My(t){nn(!1)}function Z$(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Va.Pop,navigator:s,static:a=!1}=t;fg()&&nn(!1);let c=e.replace(/^\/*/,"/"),l=G.useMemo(()=>({basename:c,navigator:s,static:a}),[c,s,a]);typeof r=="string"&&(r=Gh(r));let{pathname:h="/",search:p="",hash:g="",state:y=null,key:w="default"}=r,E=G.useMemo(()=>{let I=N2(h,c);return I==null?null:{location:{pathname:I,search:p,hash:g,state:y,key:w},navigationType:i}},[c,h,p,g,y,w,i]);return E==null?null:G.createElement(qh.Provider,{value:l},G.createElement($w.Provider,{children:n,value:E}))}function eH(t){let{children:e,location:n}=t;return V$(pI(e),n)}new Promise(()=>{});function pI(t,e){e===void 0&&(e=[]);let n=[];return G.Children.forEach(t,(r,i)=>{if(!G.isValidElement(r))return;let s=[...e,i];if(r.type===G.Fragment){n.push.apply(n,pI(r.props.children,s));return}r.type!==My&&nn(!1),!r.props.index||!r.props.children||nn(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=pI(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gI(){return gI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gI.apply(this,arguments)}function tH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function nH(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rH(t,e){return t.button===0&&(!e||e==="_self")&&!nH(t)}const iH=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],oH="startTransition",tO=Yj[oH];function sH(t){let{basename:e,children:n,future:r,window:i}=t,s=G.useRef();s.current==null&&(s.current=h$({window:i,v5Compat:!0}));let a=s.current,[c,l]=G.useState({action:a.action,location:a.location}),{v7_startTransition:h}=r||{},p=G.useCallback(g=>{h&&tO?tO(()=>l(g)):l(g)},[l,h]);return G.useLayoutEffect(()=>a.listen(p),[a,p]),G.createElement(Z$,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:a})}const aH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cH=G.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:c,target:l,to:h,preventScrollReset:p}=e,g=tH(e,iH),{basename:y}=G.useContext(qh),w,E=!1;if(typeof h=="string"&&uH.test(h)&&(w=h,aH))try{let T=new URL(window.location.href),x=h.startsWith("//")?new URL(T.protocol+h):new URL(h),_=N2(x.pathname,y);x.origin===T.origin&&_!=null?h=_+x.search+x.hash:E=!0}catch{}let I=U$(h,{relative:i}),k=lH(h,{replace:a,state:c,target:l,preventScrollReset:p,relative:i});function S(T){r&&r(T),T.defaultPrevented||k(T)}return G.createElement("a",gI({},g,{href:w||I,onClick:E||s?r:S,ref:n,target:l}))});var nO;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(nO||(nO={}));var rO;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(rO||(rO={}));function lH(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a}=e===void 0?{}:e,c=O2(),l=Hw(),h=F8(t,{relative:a});return G.useCallback(p=>{if(rH(p,n)){p.preventDefault();let g=r!==void 0?r:Tv(l)===Tv(h);c(t,{replace:g,state:i,preventScrollReset:s,relative:a})}},[l,c,h,r,i,n,t,s,a])}const j8="/assets/logo-deefe77a.png",iO=({title:t,classProps:e})=>D.jsx("li",{className:`mx-4 cursor-pointer ${e}`,children:t}),V8=()=>{const[t,e]=G.useState(!1);return D.jsxs("nav",{className:"w-full flex md:justify-center justify-between items-center p-4",children:[D.jsx("div",{className:"md:flex-[0.5] flex-initial justify-center items-center",children:D.jsx("img",{src:j8,alt:"logo",className:"w-32 cursor-pointer"})}),D.jsxs("ul",{className:"text-white md:flex hidden list-none flex-row justify-between items-center flex-initial",children:[["Market","Exchange","Tutorials","Wallets"].map((n,r)=>D.jsx(iO,{title:n},n+r)),D.jsx(cH,{to:"/game-select",children:D.jsx("li",{className:" py-2 px-7 mx-4 rounded-full cursor-pointer hover:bg-[#2546bd]",children:"Play Game"})})," "]}),D.jsxs("div",{className:"flex relative",children:[t?D.jsx(J6,{fontSize:28,className:"text-white md:hidden cursor-pointer",onClick:()=>e(!1)}):D.jsx(f$,{fontSize:28,className:"text-white md:hidden cursor-pointer",onClick:()=>e(!0)}),t&&D.jsxs("ul",{className:"z-10 fixed top-0 -right-2 p-3 w-[70-vw] h-screen shadow-2xl md:hidden list-none flex flex-col justify-start items-end rounded-md blue-glassmorphism text-white animate-slide-in",children:[D.jsx("li",{className:"text-xl w-full my-2",children:D.jsx(J6,{onClick:()=>e(!1)})}),["Market","Exchange","Tutorials","Wallets"].map((n,r)=>D.jsx(iO,{title:n,classProps:"my-2 text-lg"},n+r))]})]})," "]})};function fH(t){return Zc({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}},{tag:"path",attr:{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"}}]})(t)}function hH(t){return Zc({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 0c-.69 0-1.843.265-2.928.56-1.11.3-2.229.655-2.887.87a1.54 1.54 0 0 0-1.044 1.262c-.596 4.477.787 7.795 2.465 9.99a11.777 11.777 0 0 0 2.517 2.453c.386.273.744.482 1.048.625.28.132.581.24.829.24s.548-.108.829-.24a7.159 7.159 0 0 0 1.048-.625 11.775 11.775 0 0 0 2.517-2.453c1.678-2.195 3.061-5.513 2.465-9.99a1.541 1.541 0 0 0-1.044-1.263 62.467 62.467 0 0 0-2.887-.87C9.843.266 8.69 0 8 0zm2.146 5.146a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 7.793l2.646-2.647z"}}]})(t)}function dH(t){return Zc({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 18a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6z"}},{tag:"path",attr:{d:"M11.412 8.586c.379.38.588.882.588 1.414h2a3.977 3.977 0 0 0-1.174-2.828c-1.514-1.512-4.139-1.512-5.652 0l1.412 1.416c.76-.758 2.07-.756 2.826-.002z"}}]})(t)}function pH(t){return Zc({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.2426 4.75736C22.5053 7.02472 22.583 10.637 20.4786 12.993L11.9999 21.485L3.52138 12.993C1.41705 10.637 1.49571 7.01901 3.75736 4.75736C5.51545 2.99926 8.09315 2.56029 10.2605 3.44044L6.34315 7.35843L7.75736 8.77264L12 4.53L11.9872 4.51617C11.9918 4.52028 11.9964 4.5244 12.001 4.52853C14.35 2.42 17.98 2.49 20.2426 4.75736Z"}}]})(t)}const FA=({color:t,title:e,icon:n,subtitle:r})=>D.jsxs("div",{className:"flex w-full flex-row justify-start items-start white-glassmorphism p-3 m-2 cursor-pointer hover-shadow-xl",children:[D.jsx("div",{className:`w-10 h-10 rounded-full flex justify-center items-center ${t}`,children:n}),D.jsxs("div",{className:"ml-5 flex flex-col flex-1",children:[D.jsx("h3",{className:"mt-2 text-white text-lg",children:e}),D.jsx("p",{className:"mt-1 text-white text-sm md:w-9/12",children:r})]})]}),gH=()=>D.jsx("div",{className:"flex flex-col md:flex-row w-full justify-center items-center gradient-bg-services",children:D.jsxs("div",{className:"flex mf:flex-row flex-col items-center justify-between md:p-20 py-12 px-4",children:[D.jsx("div",{className:"flex-1 flex flex-col justify-start items-start",children:D.jsxs("h1",{className:"text-white text-3xl sm:text-5xl py-2 text-gradient ",children:["Services that we",D.jsx("br",{}),"continue to improve"]})}),D.jsxs("div",{className:"flex-1 flex flex-col justify-start items-center",children:[D.jsx(FA,{color:"bg-[#2952E3]",title:"Security Guaranteed",icon:D.jsx(hH,{fontSize:21,className:"text-white"}),subtitle:"Security is guaranteed. We always maintain privacy."}),D.jsx(FA,{color:"bg-[#8945F8]",title:"Best exchange rates",icon:D.jsx(dH,{fontSize:21,className:"text-white"}),subtitle:"Security is guranteed. We always maintain privacy and maintain the quality of our products"}),D.jsx(FA,{color:"bg-[#F84550]",title:"Fastest transactions",icon:D.jsx(pH,{fontSize:21,className:"text-white"}),subtitle:"Security is guranteed. We always maintain privacy and maintain the quality of our products"})]})]})}),mH="6.7.0";function yH(t,e,n){const r=e.split("|").map(s=>s.trim());for(let s=0;s<r.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=t,i}async function rr(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,i,s)=>(r[e[s]]=i,r),{})}function Se(t,e,n){for(let r in e){let i=e[r];const s=n?n[r]:null;s&&yH(i,s,r),Object.defineProperty(t,r,{enumerable:!0,value:i,writable:!1})}}function rf(t){if(t==null)return"null";if(Array.isArray(t))return"[ "+t.map(rf).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let n="0x";for(let r=0;r<t.length;r++)n+=e[t[r]>>4],n+=e[t[r]&15];return n}if(typeof t=="object"&&typeof t.toJSON=="function")return rf(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"number":return t.toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map(n=>`${rf(n)}: ${rf(t[n])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function ki(t,e){return t&&t.code===e}function P2(t){return ki(t,"CALL_EXCEPTION")}function ln(t,e,n){{const i=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${rf(n)}`);for(const s in n){const a=n[s];i.push(s+"="+rf(a))}}i.push(`code=${e}`),i.push(`version=${mH}`),i.length&&(t+=" ("+i.join(", ")+")")}let r;switch(e){case"INVALID_ARGUMENT":r=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(t);break;default:r=new Error(t)}return Se(r,{code:e}),n&&Object.assign(r,n),r}function K(t,e,n,r){if(!t)throw ln(e,n,r)}function M(t,e,n,r){K(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function $8(t,e,n){n==null&&(n=""),n&&(n=": "+n),K(t>=e,"missing arguemnt"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),K(t<=e,"too many arguemnts"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}const vH=["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"){const n=String.fromCharCode(233).normalize("NFD"),r=String.fromCharCode(101,769);if(n!==r)throw new Error("broken")}t.push(e)}catch{}return t},[]);function wH(t){K(vH.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}function hg(t,e,n){if(n==null&&(n=""),t!==e){let r=n,i="new";n&&(r+=".",i+=" "+n),K(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function H8(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x([0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let i=2;for(let s=0;s<r.length;s++)r[s]=parseInt(t.substring(i,i+2),16),i+=2;return r}M(!1,"invalid BytesLike value",e||"value",t)}function ze(t,e){return H8(t,e,!1)}function xr(t,e){return H8(t,e,!0)}function Mt(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function bH(t){return Mt(t,!0)||t instanceof Uint8Array}const oO="0123456789abcdef";function me(t){const e=ze(t);let n="0x";for(let r=0;r<e.length;r++){const i=e[r];n+=oO[(i&240)>>4]+oO[i&15]}return n}function rn(t){return"0x"+t.map(e=>me(e).substring(2)).join("")}function wf(t){return Mt(t,!0)?(t.length-2)/2:ze(t).length}function jt(t,e,n){const r=ze(t);return n!=null&&n>r.length&&K(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),me(r.slice(e??0,n??r.length))}function z8(t,e,n){const r=ze(t);K(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),n?i.set(r,e-r.length):i.set(r,0),me(i)}function Fc(t,e){return z8(t,e,!0)}function EH(t,e){return z8(t,e,!1)}const zw=BigInt(0),io=BigInt(1),of=9007199254740991;function Nv(t,e){const n=Gw(t,"value"),r=BigInt(_e(e,"width"));if(K(n>>r===zw,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-io){const i=(io<<r)-io;return-((~n&i)+io)}return n}function G8(t,e){let n=be(t,"value");const r=BigInt(_e(e,"width")),i=io<<r-io;if(n<zw){n=-n,K(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const s=(io<<r)-io;return(~n&s)+io}else K(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function ec(t,e){const n=Gw(t,"value"),r=BigInt(_e(e,"bits"));return n&(io<<r)-io}function be(t,e){switch(typeof t){case"bigint":return t;case"number":return M(Number.isInteger(t),"underflow",e||"value",t),M(t>=-of&&t<=of,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){M(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}M(!1,"invalid BigNumberish value",e||"value",t)}function Gw(t,e){const n=be(t,e);return K(n>=zw,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const sO="0123456789abcdef";function qw(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=sO[n>>4],e+=sO[n&15];return BigInt(e)}return be(t)}function _e(t,e){switch(typeof t){case"bigint":return M(t>=-of&&t<=of,"overflow",e||"value",t),Number(t);case"number":return M(Number.isInteger(t),"underflow",e||"value",t),M(t>=-of&&t<=of,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return _e(BigInt(t),e)}catch(n){M(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}M(!1,"invalid numeric value",e||"value",t)}function AH(t){return _e(qw(t))}function au(t,e){let r=Gw(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const i=_e(e,"width");for(K(i*2>=r.length,`value exceeds width (${i} bits)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<i*2;)r="0"+r}return"0x"+r}function Zr(t){const e=Gw(t,"value");if(e===zw)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const s=i*2;r[i]=parseInt(n.substring(s,s+2),16)}return r}function sf(t){let e=me(bH(t)?t:Zr(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const SH="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const aO=BigInt(58);function IH(t){let e=qw(ze(t)),n="";for(;e;)n=SH[Number(e%aO)]+n,e/=aO;return n}function TH(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return ze(e)}function xH(t){const e=ze(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}var Cf;class q8{constructor(e,n,r){B(this,"filter");B(this,"emitter");j(this,Cf,void 0);P(this,Cf,n),Se(this,{emitter:e,filter:r})}async removeListener(){b(this,Cf)!=null&&await this.emitter.off(this.filter,b(this,Cf))}}Cf=new WeakMap;function CH(t,e,n,r,i){M(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function K8(t,e,n,r,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let s=0;for(let a=e+1;a<n.length&&n[a]>>6===2;a++)s++;return s}return t==="OVERRUN"?n.length-e-1:0}function NH(t,e,n,r,i){return t==="OVERLONG"?(M(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),K8(t,e,n))}const kH=Object.freeze({error:CH,ignore:K8,replace:NH});function OH(t,e){e==null&&(e=kH.error);const n=ze(t,"bytes"),r=[];let i=0;for(;i<n.length;){const s=n[i++];if(!(s>>7)){r.push(s);continue}let a=null,c=null;if((s&224)===192)a=1,c=127;else if((s&240)===224)a=2,c=2047;else if((s&248)===240)a=3,c=65535;else{(s&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,n,r):i+=e("BAD_PREFIX",i-1,n,r);continue}if(i-1+a>=n.length){i+=e("OVERRUN",i-1,n,r);continue}let l=s&(1<<8-a-1)-1;for(let h=0;h<a;h++){let p=n[i];if((p&192)!=128){i+=e("MISSING_CONTINUE",i,n,r),l=null;break}l=l<<6|p&63,i++}if(l!==null){if(l>1114111){i+=e("OUT_OF_RANGE",i-1-a,n,r,l);continue}if(l>=55296&&l<=57343){i+=e("UTF16_SURROGATE",i-1-a,n,r,l);continue}if(l<=c){i+=e("OVERLONG",i-1-a,n,r,l);continue}r.push(l)}}return r}function Os(t,e){e!=null&&(wH(e),t=t.normalize(e));let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const s=t.charCodeAt(r);M(r<t.length&&(s&64512)===56320,"invalid surrogate pair","str",t);const a=65536+((i&1023)<<10)+(s&1023);n.push(a>>18|240),n.push(a>>12&63|128),n.push(a>>6&63|128),n.push(a&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return new Uint8Array(n)}function PH(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function D2(t,e){return PH(OH(t,e))}async function DH(t,e){const n=t.url.split(":")[0].toLowerCase();K(n==="http"||n==="https",`unsupported protocol ${n}`,"UNSUPPORTED_OPERATION",{info:{protocol:n},operation:"request"}),K(n==="https"||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let r;if(e){const h=new AbortController;r=h.signal,e.addListener(()=>{h.abort()})}const i={method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:r},s=await fetch(t.url,i),a={};s.headers.forEach((h,p)=>{a[p.toLowerCase()]=h});const c=await s.arrayBuffer(),l=c==null?null:new Uint8Array(c);return{statusCode:s.status,statusMessage:s.statusText,headers:a,body:l}}const _H=12,RH=250;let uO=DH;const LH=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),MH=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let UA=!1;async function Q8(t,e){try{const n=t.match(LH);if(!n)throw new Error("invalid data");return new tu(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?TH(n[3]):UH(n[3]))}catch{return new tu(599,"BAD REQUEST (invalid data: URI)",{},null,new uu(t))}}function W8(t){async function e(n,r){try{const i=n.match(MH);if(!i)throw new Error("invalid link");return new uu(`${t}${i[2]}`)}catch{return new tu(599,"BAD REQUEST (invalid IPFS URI)",{},null,new uu(n))}}return e}const ty={data:Q8,ipfs:W8("https://gateway.ipfs.io/ipfs/")},J8=new WeakMap;var sc,Ta;class FH{constructor(e){j(this,sc,void 0);j(this,Ta,void 0);P(this,sc,[]),P(this,Ta,!1),J8.set(e,()=>{if(!b(this,Ta)){P(this,Ta,!0);for(const n of b(this,sc))setTimeout(()=>{n()},0);P(this,sc,[])}})}addListener(e){K(!b(this,Ta),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),b(this,sc).push(e)}get cancelled(){return b(this,Ta)}checkSignal(){K(!this.cancelled,"cancelled","CANCELLED",{})}}sc=new WeakMap,Ta=new WeakMap;function ny(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var Nf,kf,Ji,cs,Of,Pf,mn,zr,ls,ac,uc,cc,Po,fs,lc,hp;const vw=class vw{constructor(e){j(this,lc);j(this,Nf,void 0);j(this,kf,void 0);j(this,Ji,void 0);j(this,cs,void 0);j(this,Of,void 0);j(this,Pf,void 0);j(this,mn,void 0);j(this,zr,void 0);j(this,ls,void 0);j(this,ac,void 0);j(this,uc,void 0);j(this,cc,void 0);j(this,Po,void 0);j(this,fs,void 0);P(this,Pf,String(e)),P(this,Nf,!1),P(this,kf,!0),P(this,Ji,{}),P(this,cs,""),P(this,Of,3e5),P(this,fs,{slotInterval:RH,maxAttempts:_H})}get url(){return b(this,Pf)}set url(e){P(this,Pf,String(e))}get body(){return b(this,mn)==null?null:new Uint8Array(b(this,mn))}set body(e){if(e==null)P(this,mn,void 0),P(this,zr,void 0);else if(typeof e=="string")P(this,mn,Os(e)),P(this,zr,"text/plain");else if(e instanceof Uint8Array)P(this,mn,e),P(this,zr,"application/octet-stream");else if(typeof e=="object")P(this,mn,Os(JSON.stringify(e))),P(this,zr,"application/json");else throw new Error("invalid body")}hasBody(){return b(this,mn)!=null}get method(){return b(this,cs)?b(this,cs):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),P(this,cs,String(e).toUpperCase())}get headers(){const e=Object.assign({},b(this,Ji));return b(this,ls)&&(e.authorization=`Basic ${xH(Os(b(this,ls)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&b(this,zr)&&(e["content-type"]=b(this,zr)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){b(this,Ji)[String(e).toLowerCase()]=String(n)}clearHeaders(){P(this,Ji,{})}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return b(this,ls)||null}setCredentials(e,n){M(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),P(this,ls,`${e}:${n}`)}get allowGzip(){return b(this,kf)}set allowGzip(e){P(this,kf,!!e)}get allowInsecureAuthentication(){return!!b(this,Nf)}set allowInsecureAuthentication(e){P(this,Nf,!!e)}get timeout(){return b(this,Of)}set timeout(e){M(e>=0,"timeout must be non-zero","timeout",e),P(this,Of,e)}get preflightFunc(){return b(this,ac)||null}set preflightFunc(e){P(this,ac,e)}get processFunc(){return b(this,uc)||null}set processFunc(e){P(this,uc,e)}get retryFunc(){return b(this,cc)||null}set retryFunc(e){P(this,cc,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${b(this,mn)?me(b(this,mn)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(b(this,fs).slotInterval=e.slotInterval),e.maxAttempts!=null&&(b(this,fs).maxAttempts=e.maxAttempts)}send(){return K(b(this,Po)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),P(this,Po,new FH(this)),ee(this,lc,hp).call(this,0,cO()+this.timeout,0,this,new tu(0,"",{},null,this))}cancel(){K(b(this,Po)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=J8.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();K(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new vw(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,P(i,Ji,Object.assign({},b(this,Ji))),b(this,mn)&&P(i,mn,new Uint8Array(b(this,mn))),P(i,zr,b(this,zr)),i}clone(){const e=new vw(this.url);return P(e,cs,b(this,cs)),b(this,mn)&&P(e,mn,b(this,mn)),P(e,zr,b(this,zr)),P(e,Ji,Object.assign({},b(this,Ji))),P(e,ls,b(this,ls)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),P(e,ac,b(this,ac)),P(e,uc,b(this,uc)),P(e,cc,b(this,cc)),e}static lockConfig(){UA=!0}static getGateway(e){return ty[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(UA)throw new Error("gateways locked");ty[e]=n}static registerGetUrl(e){if(UA)throw new Error("gateways locked");uO=e}static createDataGateway(){return Q8}static createIpfsGatewayFunc(e){return W8(e)}};Nf=new WeakMap,kf=new WeakMap,Ji=new WeakMap,cs=new WeakMap,Of=new WeakMap,Pf=new WeakMap,mn=new WeakMap,zr=new WeakMap,ls=new WeakMap,ac=new WeakMap,uc=new WeakMap,cc=new WeakMap,Po=new WeakMap,fs=new WeakMap,lc=new WeakSet,hp=async function(e,n,r,i,s){var p,g,y;if(e>=b(this,fs).maxAttempts)return s.makeServerError("exceeded maximum retry limit");K(cO()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await BH(r);let a=this.clone();const c=(a.url.split(":")[0]||"").toLowerCase();if(c in ty){const w=await ty[c](a.url,ny(b(i,Po)));if(w instanceof tu){let E=w;if(this.processFunc){ny(b(i,Po));try{E=await this.processFunc(a,E)}catch(I){(I.throttle==null||typeof I.stall!="number")&&E.makeServerError("error in post-processing function",I).assertOk()}}return E}a=w}this.preflightFunc&&(a=await this.preflightFunc(a));const l=await uO(a,ny(b(i,Po)));let h=new tu(l.statusCode,l.statusMessage,l.headers,l.body,i);if(h.statusCode===301||h.statusCode===302){try{const w=h.headers.location||"";return ee(p=a.redirect(w),lc,hp).call(p,e+1,n,0,i,h)}catch{}return h}else if(h.statusCode===429&&(this.retryFunc==null||await this.retryFunc(a,h,e))){const w=h.headers["retry-after"];let E=b(this,fs).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof w=="string"&&w.match(/^[1-9][0-9]*$/)&&(E=parseInt(w)),ee(g=a.clone(),lc,hp).call(g,e+1,n,E,i,h)}if(this.processFunc){ny(b(i,Po));try{h=await this.processFunc(a,h)}catch(w){(w.throttle==null||typeof w.stall!="number")&&h.makeServerError("error in post-processing function",w).assertOk();let E=b(this,fs).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return w.stall>=0&&(E=w.stall),ee(y=a.clone(),lc,hp).call(y,e+1,n,E,i,h)}}return h};let uu=vw;var B0,j0,V0,Yi,Df,fc;const pC=class pC{constructor(e,n,r,i,s){j(this,B0,void 0);j(this,j0,void 0);j(this,V0,void 0);j(this,Yi,void 0);j(this,Df,void 0);j(this,fc,void 0);P(this,B0,e),P(this,j0,n),P(this,V0,Object.keys(r).reduce((a,c)=>(a[c.toLowerCase()]=String(r[c]),a),{})),P(this,Yi,i==null?null:new Uint8Array(i)),P(this,Df,s||null),P(this,fc,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${b(this,Yi)?me(b(this,Yi)):"null"}>`}get statusCode(){return b(this,B0)}get statusMessage(){return b(this,j0)}get headers(){return Object.assign({},b(this,V0))}get body(){return b(this,Yi)==null?null:new Uint8Array(b(this,Yi))}get bodyText(){try{return b(this,Yi)==null?"":D2(b(this,Yi))}catch{K(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{K(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new pC(599,r,this.headers,this.body,b(this,Df)||void 0);return P(i,fc,{message:e,error:n}),i}throwThrottleError(e,n){n==null?n=-1:M(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw Se(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return b(this,Yi)!=null}get request(){return b(this,Df)}ok(){return b(this,fc).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=b(this,fc);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`),K(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n})}};B0=new WeakMap,j0=new WeakMap,V0=new WeakMap,Yi=new WeakMap,Df=new WeakMap,fc=new WeakMap;let tu=pC;function cO(){return new Date().getTime()}function UH(t){return Os(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function BH(t){return new Promise(e=>setTimeout(e,t))}const jH=BigInt(-1),Ki=BigInt(0),af=BigInt(1),VH=BigInt(5),Dl={};let bf="0000";for(;bf.length<80;)bf+=bf;function Hu(t){let e=bf;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function tp(t,e,n){const r=BigInt(e.width);if(e.signed){const i=af<<r-af;K(n==null||t>=-i&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t>Ki?t=Nv(ec(t,r),r):t=-Nv(ec(-t,r),r)}else{const i=af<<r;K(n==null||t>=0&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t=(t%i+i)%i&i-af}return t}function BA(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,n=128,r=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);M(s,"invalid fixed format","format",t),e=s[1]!=="u",n=parseInt(s[2]),r=parseInt(s[3])}}else if(t){const s=t,a=(c,l,h)=>s[c]==null?h:(M(typeof s[c]===l,"invalid fixed format ("+c+" not "+l+")","format."+c,s[c]),s[c]);e=a("signed","boolean",e),n=a("width","number",n),r=a("decimals","number",r)}M(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),M(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const i=(e?"":"u")+"fixed"+String(n)+"x"+String(r);return{signed:e,width:n,decimals:r,name:i}}function $H(t,e){let n="";t<Ki&&(n="-",t*=jH);let r=t.toString();if(e===0)return n+r;for(;r.length<=e;)r=bf+r;const i=r.length-e;for(r=r.substring(0,i)+"."+r.substring(i);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return n+r}var Xi,lt,tr,hs,Ku,Zi,ns,$0,yI,H0,vI,z0,wI,G0,bI;const ma=class ma{constructor(e,n,r){j(this,hs);j(this,Zi);j(this,$0);j(this,H0);j(this,z0);j(this,G0);B(this,"format");j(this,Xi,void 0);j(this,lt,void 0);j(this,tr,void 0);B(this,"_value");hg(e,Dl,"FixedNumber"),P(this,lt,n),P(this,Xi,r);const i=$H(n,r.decimals);Se(this,{format:r.name,_value:i}),P(this,tr,Hu(r.decimals))}get signed(){return b(this,Xi).signed}get width(){return b(this,Xi).width}get decimals(){return b(this,Xi).decimals}get value(){return b(this,lt)}addUnsafe(e){return ee(this,$0,yI).call(this,e)}add(e){return ee(this,$0,yI).call(this,e,"add")}subUnsafe(e){return ee(this,H0,vI).call(this,e)}sub(e){return ee(this,H0,vI).call(this,e,"sub")}mulUnsafe(e){return ee(this,z0,wI).call(this,e)}mul(e){return ee(this,z0,wI).call(this,e,"mul")}mulSignal(e){ee(this,hs,Ku).call(this,e);const n=b(this,lt)*b(e,lt);return K(n%b(this,tr)===Ki,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),ee(this,Zi,ns).call(this,n/b(this,tr),"mulSignal")}divUnsafe(e){return ee(this,G0,bI).call(this,e)}div(e){return ee(this,G0,bI).call(this,e,"div")}divSignal(e){K(b(e,lt)!==Ki,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),ee(this,hs,Ku).call(this,e);const n=b(this,lt)*b(this,tr);return K(n%b(e,lt)===Ki,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),ee(this,Zi,ns).call(this,n/b(e,lt),"divSignal")}cmp(e){let n=this.value,r=e.value;const i=this.decimals-e.decimals;return i>0?r*=Hu(i):i<0&&(n*=Hu(-i)),n<r?-1:n>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=b(this,lt);return b(this,lt)<Ki&&(e-=b(this,tr)-af),e=b(this,lt)/b(this,tr)*b(this,tr),ee(this,Zi,ns).call(this,e,"floor")}ceiling(){let e=b(this,lt);return b(this,lt)>Ki&&(e+=b(this,tr)-af),e=b(this,lt)/b(this,tr)*b(this,tr),ee(this,Zi,ns).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const n=this.decimals-e,r=VH*Hu(n-1);let i=this.value+r;const s=Hu(n);return i=i/s*s,tp(i,b(this,Xi),"round"),new ma(Dl,i,b(this,Xi))}isZero(){return b(this,lt)===Ki}isNegative(){return b(this,lt)<Ki}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return ma.fromString(this.toString(),e)}static fromValue(e,n,r){const i=n==null?0:_e(n),s=BA(r);let a=be(e,"value");const c=i-s.decimals;if(c>0){const l=Hu(c);K(a%l===Ki,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),a/=l}else c<0&&(a*=Hu(-c));return tp(a,s,"fromValue"),new ma(Dl,a,s)}static fromString(e,n){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);M(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const i=BA(n);let s=r[2]||"0",a=r[3]||"";for(;a.length<i.decimals;)a+=bf;K(a.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),a=a.substring(0,i.decimals);const c=BigInt(r[1]+s+a);return tp(c,i,"fromString"),new ma(Dl,c,i)}static fromBytes(e,n){let r=qw(ze(e,"value"));const i=BA(n);return i.signed&&(r=Nv(r,i.width)),tp(r,i,"fromBytes"),new ma(Dl,r,i)}};Xi=new WeakMap,lt=new WeakMap,tr=new WeakMap,hs=new WeakSet,Ku=function(e){M(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},Zi=new WeakSet,ns=function(e,n){return e=tp(e,b(this,Xi),n),new ma(Dl,e,b(this,Xi))},$0=new WeakSet,yI=function(e,n){return ee(this,hs,Ku).call(this,e),ee(this,Zi,ns).call(this,b(this,lt)+b(e,lt),n)},H0=new WeakSet,vI=function(e,n){return ee(this,hs,Ku).call(this,e),ee(this,Zi,ns).call(this,b(this,lt)-b(e,lt),n)},z0=new WeakSet,wI=function(e,n){return ee(this,hs,Ku).call(this,e),ee(this,Zi,ns).call(this,b(this,lt)*b(e,lt)/b(this,tr),n)},G0=new WeakSet,bI=function(e,n){return K(b(e,lt)!==Ki,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),ee(this,hs,Ku).call(this,e),ee(this,Zi,ns).call(this,b(this,lt)*b(this,tr)/b(e,lt),n)};let mI=ma;function HH(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function lO(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function fO(t,e,n,r){const i=[];for(;n<e+1+r;){const s=Y8(t,n);i.push(s.result),n+=s.consumed,K(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:i}}function Y8(t,e){K(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{K(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const i=lO(t,e+1,r);return n(e+1+r+i),fO(t,e,e+1+r,r+i)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),fO(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const i=lO(t,e+1,r);n(e+1+r+i);const s=me(t.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:s}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const i=me(t.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:HH(t[e])}}function _2(t){const e=ze(t,"data"),n=Y8(e,0);return M(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function hO(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function X8(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(s){r=r.concat(X8(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=hO(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(ze(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=hO(e.length);return n.unshift(183+n.length),n.concat(e)}const dO="0123456789abcdef";function o0(t){let e="0x";for(const n of X8(t))e+=dO[n>>4],e+=dO[n&15];return e}const zH=["wei","kwei","mwei","gwei","szabo","finney","ether"];function GH(t,e){M(typeof t=="string","value must be a string","value",t);let n=18;if(typeof e=="string"){const r=zH.indexOf(e);M(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=_e(e,"unit"));return mI.fromString(t,{decimals:n,width:512}).value}function qH(t){return GH(t,18)}const ur=32,EI=new Uint8Array(ur),KH=["then"],ry={};function np(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}var xa;const Bp=class Bp extends Array{constructor(...n){const r=n[0];let i=n[1],s=(n[2]||[]).slice(),a=!0;r!==ry&&(i=n,s=[],a=!1);super(i.length);j(this,xa,void 0);i.forEach((l,h)=>{this[h]=l});const c=s.reduce((l,h)=>(typeof h=="string"&&l.set(h,(l.get(h)||0)+1),l),new Map);if(P(this,xa,Object.freeze(i.map((l,h)=>{const p=s[h];return p!=null&&c.get(p)===1?p:null}))),!!a)return Object.freeze(this),new Proxy(this,{get:(l,h,p)=>{if(typeof h=="string"){if(h.match(/^[0-9]+$/)){const y=_e(h,"%index");if(y<0||y>=this.length)throw new RangeError("out of result range");const w=l[y];return w instanceof Error&&np(`index ${y}`,w),w}if(KH.indexOf(h)>=0)return Reflect.get(l,h,p);const g=l[h];if(g instanceof Function)return function(...y){return g.apply(this===p?l:this,y)};if(!(h in l))return l.getValue.apply(this===p?l:this,[h])}return Reflect.get(l,h,p)}})}toArray(){const n=[];return this.forEach((r,i)=>{r instanceof Error&&np(`index ${i}`,r),n.push(r)}),n}toObject(){return b(this,xa).reduce((n,r,i)=>(K(r!=null,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),r in n||(n[r]=this.getValue(r)),n),{})}slice(n,r){n==null&&(n=0),n<0&&(n+=this.length,n<0&&(n=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const i=[],s=[];for(let a=n;a<r;a++)i.push(this[a]),s.push(b(this,xa)[a]);return new Bp(ry,i,s)}filter(n,r){const i=[],s=[];for(let a=0;a<this.length;a++){const c=this[a];c instanceof Error&&np(`index ${a}`,c),n.call(r,c,a,this)&&(i.push(c),s.push(b(this,xa)[a]))}return new Bp(ry,i,s)}map(n,r){const i=[];for(let s=0;s<this.length;s++){const a=this[s];a instanceof Error&&np(`index ${s}`,a),i.push(n.call(r,a,s,this))}return i}getValue(n){const r=b(this,xa).indexOf(n);if(r===-1)return;const i=this[r];return i instanceof Error&&np(`property ${JSON.stringify(n)}`,i.error),i}static fromItems(n,r){return new Bp(ry,n,r)}};xa=new WeakMap;let kv=Bp;function pO(t){let e=Zr(t);return K(e.length<=ur,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:ur,offset:e.length}),e.length!==ur&&(e=xr(rn([EI.slice(e.length%ur),e]))),e}class Hs{constructor(e,n,r,i){B(this,"name");B(this,"type");B(this,"localName");B(this,"dynamic");Se(this,{name:e,type:n,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){M(!1,e,this.localName,n)}}var ds,hc,_f,Fy;class AI{constructor(){j(this,_f);j(this,ds,void 0);j(this,hc,void 0);P(this,ds,[]),P(this,hc,0)}get data(){return rn(b(this,ds))}get length(){return b(this,hc)}appendWriter(e){return ee(this,_f,Fy).call(this,xr(e.data))}writeBytes(e){let n=xr(e);const r=n.length%ur;return r&&(n=xr(rn([n,EI.slice(r)]))),ee(this,_f,Fy).call(this,n)}writeValue(e){return ee(this,_f,Fy).call(this,pO(e))}writeUpdatableValue(){const e=b(this,ds).length;return b(this,ds).push(EI),P(this,hc,b(this,hc)+ur),n=>{b(this,ds)[e]=pO(n)}}}ds=new WeakMap,hc=new WeakMap,_f=new WeakSet,Fy=function(e){return b(this,ds).push(e),P(this,hc,b(this,hc)+e.length),e.length};var Gr,bi,ww,Z8;const gC=class gC{constructor(e,n){j(this,ww);B(this,"allowLoose");j(this,Gr,void 0);j(this,bi,void 0);Se(this,{allowLoose:!!n}),P(this,Gr,xr(e)),P(this,bi,0)}get data(){return me(b(this,Gr))}get dataLength(){return b(this,Gr).length}get consumed(){return b(this,bi)}get bytes(){return new Uint8Array(b(this,Gr))}subReader(e){return new gC(b(this,Gr).slice(b(this,bi)+e),this.allowLoose)}readBytes(e,n){let r=ee(this,ww,Z8).call(this,0,e,!!n);return P(this,bi,b(this,bi)+r.length),r.slice(0,e)}readValue(){return qw(this.readBytes(ur))}readIndex(){return AH(this.readBytes(ur))}};Gr=new WeakMap,bi=new WeakMap,ww=new WeakSet,Z8=function(e,n,r){let i=Math.ceil(n/ur)*ur;return b(this,bi)+i>b(this,Gr).length&&(this.allowLoose&&r&&b(this,bi)+n<=b(this,Gr).length?i=n:K(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:xr(b(this,Gr)),length:b(this,Gr).length,offset:b(this,bi)+i})),b(this,Gr).slice(b(this,bi),b(this,bi)+i)};let SI=gC;function II(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function QH(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function eL(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function WH(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");II(t.outputLen),II(t.blockLen)}function JH(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function YH(t,e){eL(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Wr={number:II,bool:QH,bytes:eL,hash:WH,exists:JH,output:YH};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const XH=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),jA=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),No=(t,e)=>t<<32-e|t>>>e,ZH=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ZH)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ez(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function dg(t){if(typeof t=="string"&&(t=ez(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}class Ov{clone(){return this._cloneInto()}}function pg(t){const e=r=>t().update(dg(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function tz(t){const e=(r,i)=>t(i).update(dg(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}class tL extends Ov{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Wr.hash(e);const r=dg(n);if(this.iHash=e.create(),!(this.iHash instanceof Ov))throw new TypeError("Expected instance of class which extends utils.Hash");const i=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const s=new Uint8Array(i);s.set(r.length>this.iHash.blockLen?e.create().update(r).digest():r);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return Wr.exists(this),this.iHash.update(e),this}digestInto(e){Wr.exists(this),Wr.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const nL=(t,e,n)=>new tL(t,e).update(n).digest();nL.create=(t,e)=>new tL(t,e);function nz(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),c=Number(n&s),l=r?4:0,h=r?0:4;t.setUint32(e+l,a,r),t.setUint32(e+h,c,r)}class rL extends Ov{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=jA(this.buffer)}update(e){Wr.exists(this);const{view:n,buffer:r,blockLen:i}=this;e=dg(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(i-this.pos,s-a);if(c===i){const l=jA(e);for(;i<=s-a;a+=i)this.process(l,a);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Wr.exists(this),Wr.output(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(r,0),a=0);for(let l=a;l<i;l++)n[l]=0;nz(r,i-8,BigInt(this.length*8),s),this.process(r,0);const c=jA(e);this.get().forEach((l,h)=>c.setUint32(4*h,l,s))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%n&&e.buffer.set(r),e}}const rz=(t,e,n)=>t&e^~t&n,iz=(t,e,n)=>t&e^t&n^e&n,oz=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),sa=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),aa=new Uint32Array(64);class sz extends rL{constructor(){super(64,32,8,!1),this.A=sa[0]|0,this.B=sa[1]|0,this.C=sa[2]|0,this.D=sa[3]|0,this.E=sa[4]|0,this.F=sa[5]|0,this.G=sa[6]|0,this.H=sa[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:a,G:c,H:l}=this;return[e,n,r,i,s,a,c,l]}set(e,n,r,i,s,a,c,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=l|0}process(e,n){for(let g=0;g<16;g++,n+=4)aa[g]=e.getUint32(n,!1);for(let g=16;g<64;g++){const y=aa[g-15],w=aa[g-2],E=No(y,7)^No(y,18)^y>>>3,I=No(w,17)^No(w,19)^w>>>10;aa[g]=I+aa[g-7]+E+aa[g-16]|0}let{A:r,B:i,C:s,D:a,E:c,F:l,G:h,H:p}=this;for(let g=0;g<64;g++){const y=No(c,6)^No(c,11)^No(c,25),w=p+y+rz(c,l,h)+oz[g]+aa[g]|0,I=(No(r,2)^No(r,13)^No(r,22))+iz(r,i,s)|0;p=h,h=l,l=c,c=a+w|0,a=s,s=i,i=r,r=w+I|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,l=l+this.F|0,h=h+this.G|0,p=p+this.H|0,this.set(r,i,s,a,c,l,h,p)}roundClean(){aa.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const az=pg(()=>new sz),iy=BigInt(2**32-1),TI=BigInt(32);function iL(t,e=!1){return e?{h:Number(t&iy),l:Number(t>>TI&iy)}:{h:Number(t>>TI&iy)|0,l:Number(t&iy)|0}}function uz(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:a}=iL(t[i],e);[n[i],r[i]]=[s,a]}return[n,r]}const cz=(t,e)=>BigInt(t>>>0)<<TI|BigInt(e>>>0),lz=(t,e,n)=>t>>>n,fz=(t,e,n)=>t<<32-n|e>>>n,hz=(t,e,n)=>t>>>n|e<<32-n,dz=(t,e,n)=>t<<32-n|e>>>n,pz=(t,e,n)=>t<<64-n|e>>>n-32,gz=(t,e,n)=>t>>>n-32|e<<64-n,mz=(t,e)=>e,yz=(t,e)=>t,vz=(t,e,n)=>t<<n|e>>>32-n,wz=(t,e,n)=>e<<n|t>>>32-n,bz=(t,e,n)=>e<<n-32|t>>>64-n,Ez=(t,e,n)=>t<<n-32|e>>>64-n;function Az(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const Sz=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Iz=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Tz=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),xz=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,Cz=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Nz=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Ce={fromBig:iL,split:uz,toBig:cz,shrSH:lz,shrSL:fz,rotrSH:hz,rotrSL:dz,rotrBH:pz,rotrBL:gz,rotr32H:mz,rotr32L:yz,rotlSH:vz,rotlSL:wz,rotlBH:bz,rotlBL:Ez,add:Az,add3L:Sz,add3H:Iz,add4L:Tz,add4H:xz,add5H:Nz,add5L:Cz},[kz,Oz]=Ce.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ua=new Uint32Array(80),ca=new Uint32Array(80);class R2 extends rL{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:a,Dh:c,Dl:l,Eh:h,El:p,Fh:g,Fl:y,Gh:w,Gl:E,Hh:I,Hl:k}=this;return[e,n,r,i,s,a,c,l,h,p,g,y,w,E,I,k]}set(e,n,r,i,s,a,c,l,h,p,g,y,w,E,I,k){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=l|0,this.Eh=h|0,this.El=p|0,this.Fh=g|0,this.Fl=y|0,this.Gh=w|0,this.Gl=E|0,this.Hh=I|0,this.Hl=k|0}process(e,n){for(let x=0;x<16;x++,n+=4)ua[x]=e.getUint32(n),ca[x]=e.getUint32(n+=4);for(let x=16;x<80;x++){const _=ua[x-15]|0,R=ca[x-15]|0,F=Ce.rotrSH(_,R,1)^Ce.rotrSH(_,R,8)^Ce.shrSH(_,R,7),q=Ce.rotrSL(_,R,1)^Ce.rotrSL(_,R,8)^Ce.shrSL(_,R,7),H=ua[x-2]|0,Ae=ca[x-2]|0,N=Ce.rotrSH(H,Ae,19)^Ce.rotrBH(H,Ae,61)^Ce.shrSH(H,Ae,6),tt=Ce.rotrSL(H,Ae,19)^Ce.rotrBL(H,Ae,61)^Ce.shrSL(H,Ae,6),oe=Ce.add4L(q,tt,ca[x-7],ca[x-16]),it=Ce.add4H(oe,F,N,ua[x-7],ua[x-16]);ua[x]=it|0,ca[x]=oe|0}let{Ah:r,Al:i,Bh:s,Bl:a,Ch:c,Cl:l,Dh:h,Dl:p,Eh:g,El:y,Fh:w,Fl:E,Gh:I,Gl:k,Hh:S,Hl:T}=this;for(let x=0;x<80;x++){const _=Ce.rotrSH(g,y,14)^Ce.rotrSH(g,y,18)^Ce.rotrBH(g,y,41),R=Ce.rotrSL(g,y,14)^Ce.rotrSL(g,y,18)^Ce.rotrBL(g,y,41),F=g&w^~g&I,q=y&E^~y&k,H=Ce.add5L(T,R,q,Oz[x],ca[x]),Ae=Ce.add5H(H,S,_,F,kz[x],ua[x]),N=H|0,tt=Ce.rotrSH(r,i,28)^Ce.rotrBH(r,i,34)^Ce.rotrBH(r,i,39),oe=Ce.rotrSL(r,i,28)^Ce.rotrBL(r,i,34)^Ce.rotrBL(r,i,39),it=r&s^r&c^s&c,ft=i&a^i&l^a&l;S=I|0,T=k|0,I=w|0,k=E|0,w=g|0,E=y|0,{h:g,l:y}=Ce.add(h|0,p|0,Ae|0,N|0),h=c|0,p=l|0,c=s|0,l=a|0,s=r|0,a=i|0;const Ke=Ce.add3L(N,oe,ft);r=Ce.add3H(Ke,Ae,tt,it),i=Ke|0}({h:r,l:i}=Ce.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:a}=Ce.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l}=Ce.add(this.Ch|0,this.Cl|0,c|0,l|0),{h,l:p}=Ce.add(this.Dh|0,this.Dl|0,h|0,p|0),{h:g,l:y}=Ce.add(this.Eh|0,this.El|0,g|0,y|0),{h:w,l:E}=Ce.add(this.Fh|0,this.Fl|0,w|0,E|0),{h:I,l:k}=Ce.add(this.Gh|0,this.Gl|0,I|0,k|0),{h:S,l:T}=Ce.add(this.Hh|0,this.Hl|0,S|0,T|0),this.set(r,i,s,a,c,l,h,p,g,y,w,E,I,k,S,T)}roundClean(){ua.fill(0),ca.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Pz extends R2{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Dz extends R2{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const _z=pg(()=>new R2);pg(()=>new Pz);pg(()=>new Dz);function Rz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const gO=Rz();gO.crypto||gO.msCrypto;function Lz(t,e){const n={sha256:az,sha512:_z}[t];return M(n!=null,"invalid hmac algorithm","algorithm",t),nL.create(n,e)}let oL=!1;const sL=function(t,e,n){return Lz(t,e).update(n).digest()};let aL=sL;function gg(t,e,n){const r=ze(e,"key"),i=ze(n,"data");return me(aL(t,r,i))}gg._=sL;gg.lock=function(){oL=!0};gg.register=function(t){if(oL)throw new Error("computeHmac is locked");aL=t};Object.freeze(gg);const[uL,cL,lL]=[[],[],[]],Mz=BigInt(0),rp=BigInt(1),Fz=BigInt(2),Uz=BigInt(7),Bz=BigInt(256),jz=BigInt(113);for(let t=0,e=rp,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],uL.push(2*(5*r+n)),cL.push((t+1)*(t+2)/2%64);let i=Mz;for(let s=0;s<7;s++)e=(e<<rp^(e>>Uz)*jz)%Bz,e&Fz&&(i^=rp<<(rp<<BigInt(s))-rp);lL.push(i)}const[Vz,$z]=Ce.split(lL,!0),mO=(t,e,n)=>n>32?Ce.rotlBH(t,e,n):Ce.rotlSH(t,e,n),yO=(t,e,n)=>n>32?Ce.rotlBL(t,e,n):Ce.rotlSL(t,e,n);function Hz(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const c=(a+8)%10,l=(a+2)%10,h=n[l],p=n[l+1],g=mO(h,p,1)^n[c],y=yO(h,p,1)^n[c+1];for(let w=0;w<50;w+=10)t[a+w]^=g,t[a+w+1]^=y}let i=t[2],s=t[3];for(let a=0;a<24;a++){const c=cL[a],l=mO(i,s,c),h=yO(i,s,c),p=uL[a];i=t[p],s=t[p+1],t[p]=l,t[p+1]=h}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)n[c]=t[a+c];for(let c=0;c<10;c++)t[a+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=Vz[r],t[1]^=$z[r]}n.fill(0)}class Kw extends Ov{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Wr.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=XH(this.state)}keccak(){Hz(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Wr.exists(this);const{blockLen:n,state:r}=this;e=dg(e);const i=e.length;for(let s=0;s<i;){const a=Math.min(n-this.pos,i-s);for(let c=0;c<a;c++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Wr.exists(this,!1),Wr.bytes(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Wr.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Wr.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new Kw(n,r,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}const gu=(t,e,n)=>pg(()=>new Kw(e,t,n));gu(6,144,224/8);gu(6,136,256/8);gu(6,104,384/8);gu(6,72,512/8);gu(1,144,224/8);const zz=gu(1,136,256/8);gu(1,104,384/8);gu(1,72,512/8);const fL=(t,e,n)=>tz((r={})=>new Kw(e,t,r.dkLen===void 0?n:r.dkLen,!0));fL(31,168,128/8);fL(31,136,256/8);let hL=!1;const dL=function(t){return zz(t)};let pL=dL;function Lt(t){const e=ze(t,"data");return me(pL(e))}Lt._=dL;Lt.lock=function(){hL=!0};Lt.register=function(t){if(hL)throw new TypeError("keccak256 is locked");pL=t};Object.freeze(Lt);const Gz={},qz=Object.freeze(Object.defineProperty({__proto__:null,default:Gz},Symbol.toStringTag,{value:"Module"}));/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const Ge=BigInt(0),It=BigInt(1),$a=BigInt(2),Np=BigInt(3),vO=BigInt(8),Wt=Object.freeze({a:Ge,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:It,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),wO=(t,e)=>(t+e/$a)/e,oy={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){const{n:e}=Wt,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-It*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,a=BigInt("0x100000000000000000000000000000000"),c=wO(s*t,e),l=wO(-r*t,e);let h=ue(t-c*n-l*i,e),p=ue(-c*r-l*s,e);const g=h>a,y=p>a;if(g&&(h=e-h),y&&(p=e-p),h>a||p>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:g,k1:h,k2neg:y,k2:p}}},oo=32,wh=32,Kz=32,Pv=oo+1,Dv=2*oo+1;function bO(t){const{a:e,b:n}=Wt,r=ue(t*t),i=ue(r*t);return ue(i+e*t+n)}const sy=Wt.a===Ge;class gL extends Error{constructor(e){super(e)}}function EO(t){if(!(t instanceof Xe))throw new TypeError("JacobianPoint expected")}class Xe{constructor(e,n,r){this.x=e,this.y=n,this.z=r}static fromAffine(e){if(!(e instanceof rt))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(rt.ZERO)?Xe.ZERO:new Xe(e.x,e.y,It)}static toAffineBatch(e){const n=Xz(e.map(r=>r.z));return e.map((r,i)=>r.toAffine(n[i]))}static normalizeZ(e){return Xe.toAffineBatch(e).map(Xe.fromAffine)}equals(e){EO(e);const{x:n,y:r,z:i}=this,{x:s,y:a,z:c}=e,l=ue(i*i),h=ue(c*c),p=ue(n*h),g=ue(s*l),y=ue(ue(r*c)*h),w=ue(ue(a*i)*l);return p===g&&y===w}negate(){return new Xe(this.x,ue(-this.y),this.z)}double(){const{x:e,y:n,z:r}=this,i=ue(e*e),s=ue(n*n),a=ue(s*s),c=e+s,l=ue($a*(ue(c*c)-i-a)),h=ue(Np*i),p=ue(h*h),g=ue(p-$a*l),y=ue(h*(l-g)-vO*a),w=ue($a*n*r);return new Xe(g,y,w)}add(e){EO(e);const{x:n,y:r,z:i}=this,{x:s,y:a,z:c}=e;if(s===Ge||a===Ge)return this;if(n===Ge||r===Ge)return e;const l=ue(i*i),h=ue(c*c),p=ue(n*h),g=ue(s*l),y=ue(ue(r*c)*h),w=ue(ue(a*i)*l),E=ue(g-p),I=ue(w-y);if(E===Ge)return I===Ge?this.double():Xe.ZERO;const k=ue(E*E),S=ue(E*k),T=ue(p*k),x=ue(I*I-S-$a*T),_=ue(I*(T-x)-y*S),R=ue(i*c*E);return new Xe(x,_,R)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const n=Xe.ZERO;if(typeof e=="bigint"&&e===Ge)return n;let r=IO(e);if(r===It)return this;if(!sy){let g=n,y=this;for(;r>Ge;)r&It&&(g=g.add(y)),y=y.double(),r>>=It;return g}let{k1neg:i,k1:s,k2neg:a,k2:c}=oy.splitScalar(r),l=n,h=n,p=this;for(;s>Ge||c>Ge;)s&It&&(l=l.add(p)),c&It&&(h=h.add(p)),p=p.double(),s>>=It,c>>=It;return i&&(l=l.negate()),a&&(h=h.negate()),h=new Xe(ue(h.x*oy.beta),h.y,h.z),l.add(h)}precomputeWindow(e){const n=sy?128/e+1:256/e+1,r=[];let i=this,s=i;for(let a=0;a<n;a++){s=i,r.push(s);for(let c=1;c<2**(e-1);c++)s=s.add(i),r.push(s);i=s.double()}return r}wNAF(e,n){!n&&this.equals(Xe.BASE)&&(n=rt.BASE);const r=n&&n._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=n&&xI.get(n);i||(i=this.precomputeWindow(r),n&&r!==1&&(i=Xe.normalizeZ(i),xI.set(n,i)));let s=Xe.ZERO,a=Xe.BASE;const c=1+(sy?128/r:256/r),l=2**(r-1),h=BigInt(2**r-1),p=2**r,g=BigInt(r);for(let y=0;y<c;y++){const w=y*l;let E=Number(e&h);e>>=g,E>l&&(E-=p,e+=It);const I=w,k=w+Math.abs(E)-1,S=y%2!==0,T=E<0;E===0?a=a.add(ay(S,i[I])):s=s.add(ay(T,i[k]))}return{p:s,f:a}}multiply(e,n){let r=IO(e),i,s;if(sy){const{k1neg:a,k1:c,k2neg:l,k2:h}=oy.splitScalar(r);let{p,f:g}=this.wNAF(c,n),{p:y,f:w}=this.wNAF(h,n);p=ay(a,p),y=ay(l,y),y=new Xe(ue(y.x*oy.beta),y.y,y.z),i=p.add(y),s=g.add(w)}else{const{p:a,f:c}=this.wNAF(r,n);i=a,s=c}return Xe.normalizeZ([i,s])[0]}toAffine(e){const{x:n,y:r,z:i}=this,s=this.equals(Xe.ZERO);e==null&&(e=s?vO:mg(i));const a=e,c=ue(a*a),l=ue(c*a),h=ue(n*c),p=ue(r*l),g=ue(i*a);if(s)return rt.ZERO;if(g!==It)throw new Error("invZ was invalid");return new rt(h,p)}}Xe.BASE=new Xe(Wt.Gx,Wt.Gy,It);Xe.ZERO=new Xe(Ge,It,Ge);function ay(t,e){const n=e.negate();return t?n:e}const xI=new WeakMap;class rt{constructor(e,n){this.x=e,this.y=n}_setWindowSize(e){this._WINDOW_SIZE=e,xI.delete(this)}hasEvenY(){return this.y%$a===Ge}static fromCompressedHex(e){const n=e.length===32,r=nu(n?e:e.subarray(1));if(!VA(r))throw new Error("Point is not on curve");const i=bO(r);let s=Yz(i);const a=(s&It)===It;n?a&&(s=ue(-s)):(e[0]&1)===1!==a&&(s=ue(-s));const c=new rt(r,s);return c.assertValidity(),c}static fromUncompressedHex(e){const n=nu(e.subarray(1,oo+1)),r=nu(e.subarray(oo+1,oo*2+1)),i=new rt(n,r);return i.assertValidity(),i}static fromHex(e){const n=s0(e),r=n.length,i=n[0];if(r===oo)return this.fromCompressedHex(n);if(r===Pv&&(i===2||i===3))return this.fromCompressedHex(n);if(r===Dv&&i===4)return this.fromUncompressedHex(n);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Pv} compressed bytes or ${Dv} uncompressed bytes, not ${r}`)}static fromPrivateKey(e){return rt.BASE.multiply(u0(e))}static fromSignature(e,n,r){const{r:i,s}=rG(n);if(![0,1,2,3].includes(r))throw new Error("Cannot recover: invalid recovery bit");const a=mL(s0(e)),{n:c}=Wt,l=r===2||r===3?i+c:i,h=mg(l,c),p=ue(-a*h,c),g=ue(s*h,c),y=r&1?"03":"02",w=rt.fromHex(y+Af(l)),E=rt.BASE.multiplyAndAddUnsafe(w,p,g);if(!E)throw new Error("Cannot recover signature: point at infinify");return E.assertValidity(),E}toRawBytes(e=!1){return Cc(this.toHex(e))}toHex(e=!1){const n=Af(this.x);return e?`${this.hasEvenY()?"02":"03"}${n}`:`04${n}${Af(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:n,y:r}=this;if(!VA(n)||!VA(r))throw new Error(e);const i=ue(r*r),s=bO(n);if(ue(i-s)!==Ge)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new rt(this.x,ue(-this.y))}double(){return Xe.fromAffine(this).double().toAffine()}add(e){return Xe.fromAffine(this).add(Xe.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Xe.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,n,r){const i=Xe.fromAffine(this),s=n===Ge||n===It||this!==rt.BASE?i.multiplyUnsafe(n):i.multiply(n),a=Xe.fromAffine(e).multiplyUnsafe(r),c=s.add(a);return c.equals(Xe.ZERO)?void 0:c.toAffine()}}rt.BASE=new rt(Wt.Gx,Wt.Gy);rt.ZERO=new rt(Ge,Ge);function AO(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function SO(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${bh(t)}`);const e=t[1],n=t.subarray(2,e+2);if(!e||n.length!==e)throw new Error("Invalid signature integer: wrong length");if(n[0]===0&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:nu(n),left:t.subarray(e+2)}}function Qz(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${bh(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:n}=SO(t.subarray(2)),{data:r,left:i}=SO(n);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${bh(i)}`);return{r:e,s:r}}let Ef=class Uy{constructor(e,n){this.r=e,this.s=n,this.assertValidity()}static fromCompact(e){const n=e instanceof Uint8Array,r="Signature.fromCompact";if(typeof e!="string"&&!n)throw new TypeError(`${r}: Expected string or Uint8Array`);const i=n?bh(e):e;if(i.length!==128)throw new Error(`${r}: Expected 64-byte hex`);return new Uy(_v(i.slice(0,64)),_v(i.slice(64,128)))}static fromDER(e){const n=e instanceof Uint8Array;if(typeof e!="string"&&!n)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s:i}=Qz(n?e:Cc(e));return new Uy(r,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:n}=this;if(!a0(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!a0(n))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=Wt.n>>It;return this.s>e}normalizeS(){return this.hasHighS()?new Uy(this.r,ue(-this.s,Wt.n)):this}toDERRawBytes(){return Cc(this.toDERHex())}toDERHex(){const e=AO(ip(this.s)),n=AO(ip(this.r)),r=e.length/2,i=n.length/2,s=ip(r),a=ip(i);return`30${ip(i+r+4)}02${a}${n}02${s}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Cc(this.toCompactHex())}toCompactHex(){return Af(this.r)+Af(this.s)}};function ba(...t){if(!t.every(r=>r instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];const e=t.reduce((r,i)=>r+i.length,0),n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const Wz=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function bh(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let n=0;n<t.length;n++)e+=Wz[t[n]];return e}const Jz=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Af(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(Ge<=t&&t<Jz))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function CI(t){const e=Cc(Af(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function ip(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function _v(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function Cc(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=n*2,i=t.slice(r,r+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[n]=s}return e}function nu(t){return _v(bh(t))}function s0(t){return t instanceof Uint8Array?Uint8Array.from(t):Cc(t)}function IO(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&a0(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function ue(t,e=Wt.P){const n=t%e;return n>=Ge?n:e+n}function gi(t,e){const{P:n}=Wt;let r=t;for(;e-- >Ge;)r*=r,r%=n;return r}function Yz(t){const{P:e}=Wt,n=BigInt(6),r=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,h=l*l*t%e,p=gi(h,Np)*h%e,g=gi(p,Np)*h%e,y=gi(g,$a)*l%e,w=gi(y,r)*y%e,E=gi(w,i)*w%e,I=gi(E,a)*E%e,k=gi(I,c)*I%e,S=gi(k,a)*E%e,T=gi(S,Np)*h%e,x=gi(T,s)*w%e,_=gi(x,n)*l%e,R=gi(_,$a);if(R*R%e!==t)throw new Error("Cannot find square root");return R}function mg(t,e=Wt.P){if(t===Ge||e<=Ge)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=ue(t,e),r=e,i=Ge,s=It;for(;n!==Ge;){const c=r/n,l=r%n,h=i-s*c;r=n,n=l,i=s,s=h}if(r!==It)throw new Error("invert: does not exist");return ue(i,e)}function Xz(t,e=Wt.P){const n=new Array(t.length),r=t.reduce((s,a,c)=>a===Ge?s:(n[c]=s,ue(s*a,e)),It),i=mg(r,e);return t.reduceRight((s,a,c)=>a===Ge?s:(n[c]=ue(s*n[c],e),ue(s*a,e)),i),n}function Zz(t){const e=t.length*8-wh*8,n=nu(t);return e>0?n>>BigInt(e):n}function mL(t,e=!1){const n=Zz(t);if(e)return n;const{n:r}=Wt;return n>=r?n-r:n}let Sf,kp;class eG{constructor(e,n){if(this.hashLen=e,this.qByteLen=n,typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof n!="number"||n<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return Ha.hmacSha256(this.k,...e)}hmacSync(...e){return kp(this.k,...e)}checkSync(){if(typeof kp!="function")throw new gL("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0;const n=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);const r=this.v.slice();n.push(r),e+=this.v.length}return ba(...n)}generateSync(){this.checkSync(),this.incr();let e=0;const n=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);const r=this.v.slice();n.push(r),e+=this.v.length}return ba(...n)}}function a0(t){return Ge<t&&t<Wt.n}function VA(t){return Ge<t&&t<Wt.P}function tG(t,e,n,r=!0){const{n:i}=Wt,s=mL(t,!0);if(!a0(s))return;const a=mg(s,i),c=rt.BASE.multiply(s),l=ue(c.x,i);if(l===Ge)return;const h=ue(a*ue(e+n*l,i),i);if(h===Ge)return;let p=new Ef(l,h),g=(c.x===p.r?0:2)|Number(c.y&It);return r&&p.hasHighS()&&(p=p.normalizeS(),g^=1),{sig:p,recovery:g}}function u0(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*wh)throw new Error("Expected 32 bytes of private key");e=_v(t)}else if(t instanceof Uint8Array){if(t.length!==wh)throw new Error("Expected 32 bytes of private key");e=nu(t)}else throw new TypeError("Expected valid private key");if(!a0(e))throw new Error("Expected private key: 0 < key < n");return e}function nG(t){return t instanceof rt?(t.assertValidity(),t):rt.fromHex(t)}function rG(t){if(t instanceof Ef)return t.assertValidity(),t;try{return Ef.fromDER(t)}catch{return Ef.fromCompact(t)}}function iG(t,e=!1){return rt.fromPrivateKey(t).toRawBytes(e)}function oG(t,e,n,r=!1){return rt.fromSignature(t,e,n).toRawBytes(r)}function TO(t){const e=t instanceof Uint8Array,n=typeof t=="string",r=(e||n)&&t.length;return e?r===Pv||r===Dv:n?r===Pv*2||r===Dv*2:t instanceof rt}function sG(t,e,n=!1){if(TO(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!TO(e))throw new TypeError("getSharedSecret: second arg must be public key");const r=nG(e);return r.assertValidity(),r.multiply(u0(t)).toRawBytes(n)}function yL(t){const e=t.length>oo?t.slice(0,oo):t;return nu(e)}function aG(t){const e=yL(t),n=ue(e,Wt.n);return vL(n<Ge?e:n)}function vL(t){return CI(t)}function uG(t,e,n){if(t==null)throw new Error(`sign: expected valid message hash, not "${t}"`);const r=s0(t),i=u0(e),s=[vL(i),aG(r)];if(n!=null){n===!0&&(n=Ha.randomBytes(oo));const l=s0(n);if(l.length!==oo)throw new Error(`sign: Expected ${oo} bytes of extra data`);s.push(l)}const a=ba(...s),c=yL(r);return{seed:a,m:c,d:i}}function cG(t,e){const{sig:n,recovery:r}=t,{der:i,recovered:s}=Object.assign({canonical:!0,der:!0},e),a=i?n.toDERRawBytes():n.toCompactRawBytes();return s?[a,r]:a}function lG(t,e,n={}){const{seed:r,m:i,d:s}=uG(t,e,n.extraEntropy),a=new eG(Kz,wh);a.reseedSync(r);let c;for(;!(c=tG(a.generateSync(),i,s,n.canonical));)a.reseedSync();return cG(c,n)}rt.BASE._setWindowSize(8);const $r={node:qz,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},uy={},Ha={bytesToHex:bh,hexToBytes:Cc,concatBytes:ba,mod:ue,invert:mg,isValidPrivateKey(t){try{return u0(t),!0}catch{return!1}},_bigintTo32Bytes:CI,_normalizePrivateKey:u0,hashToPrivateKey:t=>{t=s0(t);const e=wh+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const n=ue(nu(t),Wt.n-It)+It;return CI(n)},randomBytes:(t=32)=>{if($r.web)return $r.web.getRandomValues(new Uint8Array(t));if($r.node){const{randomBytes:e}=$r.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Ha.hashToPrivateKey(Ha.randomBytes(wh+8)),precompute(t=8,e=rt.BASE){const n=e===rt.BASE?e:new rt(e.x,e.y);return n._setWindowSize(t),n.multiply(Np),n},sha256:async(...t)=>{if($r.web){const e=await $r.web.subtle.digest("SHA-256",ba(...t));return new Uint8Array(e)}else if($r.node){const{createHash:e}=$r.node,n=e("sha256");return t.forEach(r=>n.update(r)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if($r.web){const n=await $r.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=ba(...e),i=await $r.web.subtle.sign("HMAC",n,r);return new Uint8Array(i)}else if($r.node){const{createHmac:n}=$r.node,r=n("sha256",t);return e.forEach(i=>r.update(i)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let n=uy[t];if(n===void 0){const r=await Ha.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));n=ba(r,r),uy[t]=n}return Ha.sha256(n,...e)},taggedHashSync:(t,...e)=>{if(typeof Sf!="function")throw new gL("sha256Sync is undefined, you need to set it");let n=uy[t];if(n===void 0){const r=Sf(Uint8Array.from(t,i=>i.charCodeAt(0)));n=ba(r,r),uy[t]=n}return Sf(n,...e)},_JacobianPoint:Xe};Object.defineProperties(Ha,{sha256Sync:{configurable:!1,get(){return Sf},set(t){Sf||(Sf=t)}},hmacSha256Sync:{configurable:!1,get(){return kp},set(t){kp||(kp=t)}}});const NI="0x0000000000000000000000000000000000000000",xO="0x0000000000000000000000000000000000000000000000000000000000000000",CO=BigInt(0),NO=BigInt(1),kO=BigInt(2),OO=BigInt(27),PO=BigInt(28),cy=BigInt(35),_l={};function DO(t){return Fc(Zr(t),32)}var Rf,Lf,Mf,dc;const Qi=class Qi{constructor(e,n,r,i){j(this,Rf,void 0);j(this,Lf,void 0);j(this,Mf,void 0);j(this,dc,void 0);hg(e,_l,"Signature"),P(this,Rf,n),P(this,Lf,r),P(this,Mf,i),P(this,dc,null)}get r(){return b(this,Rf)}set r(e){M(wf(e)===32,"invalid r","value",e),P(this,Rf,me(e))}get s(){return b(this,Lf)}set s(e){M(wf(e)===32,"invalid s","value",e);const n=me(e);M(parseInt(n.substring(0,3))<8,"non-canonical s","value",n),P(this,Lf,n)}get v(){return b(this,Mf)}set v(e){const n=_e(e,"value");M(n===27||n===28,"invalid v","v",e),P(this,Mf,n)}get networkV(){return b(this,dc)}get legacyChainId(){const e=this.networkV;return e==null?null:Qi.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=ze(this.s);return this.yParity&&(e[0]|=128),me(e)}get compactSerialized(){return rn([this.r,this.yParityAndS])}get serialized(){return rn([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Qi(_l,this.r,this.s,this.v);return this.networkV&&P(e,dc,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const n=be(e,"v");return n==OO||n==PO?CO:(M(n>=cy,"invalid EIP-155 v","v",e),(n-cy)/kO)}static getChainIdV(e,n){return be(e)*kO+BigInt(35+n-27)}static getNormalizedV(e){const n=be(e);return n===CO||n===OO?27:n===NO||n===PO?28:(M(n>=cy,"invalid v","v",e),n&NO?27:28)}static from(e){function n(h,p){M(h,p,"signature",e)}if(e==null)return new Qi(_l,xO,xO,27);if(typeof e=="string"){const h=ze(e,"signature");if(h.length===64){const p=me(h.slice(0,32)),g=h.slice(32,64),y=g[0]&128?28:27;return g[0]&=127,new Qi(_l,p,me(g),y)}if(h.length===65){const p=me(h.slice(0,32)),g=h.slice(32,64);n((g[0]&128)===0,"non-canonical s");const y=Qi.getNormalizedV(h[64]);return new Qi(_l,p,me(g),y)}n(!1,"invalid raw signature length")}if(e instanceof Qi)return e.clone();const r=e.r;n(r!=null,"missing r");const i=DO(r),s=function(h,p){if(h!=null)return DO(h);if(p!=null){n(Mt(p,32),"invalid yParityAndS");const g=ze(p);return g[0]&=127,me(g)}n(!1,"missing s")}(e.s,e.yParityAndS);n((ze(s)[0]&128)==0,"non-canonical s");const{networkV:a,v:c}=function(h,p,g){if(h!=null){const y=be(h);return{networkV:y>=cy?y:void 0,v:Qi.getNormalizedV(y)}}if(p!=null)return n(Mt(p,32),"invalid yParityAndS"),{v:ze(p)[0]&128?28:27};if(g!=null){switch(_e(g,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),l=new Qi(_l,i,s,c);return a&&P(l,dc,a),n(e.yParity==null||_e(e.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}};Rf=new WeakMap,Lf=new WeakMap,Mf=new WeakMap,dc=new WeakMap;let ho=Qi;Ha.hmacSha256Sync=function(t,...e){return ze(gg("sha256",t,rn(e)))};var ps;const Ju=class Ju{constructor(e){j(this,ps,void 0);M(wf(e)===32,"invalid private key","privateKey","[REDACTED]"),P(this,ps,me(e))}get privateKey(){return b(this,ps)}get publicKey(){return Ju.computePublicKey(b(this,ps))}get compressedPublicKey(){return Ju.computePublicKey(b(this,ps),!0)}sign(e){M(wf(e)===32,"invalid digest length","digest",e);const[n,r]=lG(xr(e),xr(b(this,ps)),{recovered:!0,canonical:!0}),i=Ef.fromHex(n);return ho.from({r:au("0x"+i.r.toString(16),32),s:au("0x"+i.s.toString(16),32),v:r?28:27})}computeSharedSecret(e){const n=Ju.computePublicKey(e);return me(sG(xr(b(this,ps)),ze(n)))}static computePublicKey(e,n){let r=ze(e,"key");if(r.length===32){const s=iG(r,!!n);return me(s)}if(r.length===64){const s=new Uint8Array(65);s[0]=4,s.set(r,1),r=s}const i=rt.fromHex(r);return me(i.toRawBytes(n))}static recoverPublicKey(e,n){M(wf(e)===32,"invalid digest length","digest",e);const r=ho.from(n),i=Ef.fromCompact(xr(rn([r.r,r.s]))).toDERRawBytes(),s=oG(xr(e),i,r.yParity);return M(s!=null,"invalid signautre for digest","signature",n),me(s)}static addPoints(e,n,r){const i=rt.fromHex(Ju.computePublicKey(e).substring(2)),s=rt.fromHex(Ju.computePublicKey(n).substring(2));return"0x"+i.add(s).toHex(!!r)}};ps=new WeakMap;let c0=Ju;const fG=BigInt(0),hG=BigInt(36);function _O(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=ze(Lt(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const L2={};for(let t=0;t<10;t++)L2[String(t)]=String(t);for(let t=0;t<26;t++)L2[String.fromCharCode(65+t)]=String(10+t);const RO=15;function dG(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>L2[r]).join("");for(;e.length>=RO;){let r=e.substring(0,RO);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const pG=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function gG(t){t=t.toLowerCase();let e=fG;for(let n=0;n<t.length;n++)e=e*hG+pG[t[n]];return e}function et(t){if(M(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=_O(t);return M(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){M(t.substring(2,4)===dG(t),"bad icap checksum","address",t);let e=gG(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return _O("0x"+e)}M(!1,"invalid address","address",t)}function mG(t){const e=et(t.from);let r=be(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,et(jt(Lt(o0([e,r])),12))}function wL(t){return t&&typeof t.getAddress=="function"}async function $A(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(K(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),M(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),et(n)}function Nr(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?et(t):(K(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),$A(t,e.resolveName(t)));if(wL(t))return $A(t,t.getAddress());if(t&&typeof t.then=="function")return $A(t,t);M(!1,"unsupported addressable value","target",t)}const os={};function ae(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new Kn(os,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function Je(t,e){return new Kn(os,`bytes${e||""}`,t,{size:e})}const LO=Symbol.for("_ethers_typed");var pc;const ss=class ss{constructor(e,n,r,i){B(this,"type");B(this,"value");j(this,pc,void 0);B(this,"_typedSymbol");i==null&&(i=null),hg(os,e,"Typed"),Se(this,{_typedSymbol:LO,type:n,value:r}),P(this,pc,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return b(this,pc)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return b(this,pc)===!0?-1:b(this,pc)===!1?this.value.length:null}static from(e,n){return new ss(os,e,n)}static uint8(e){return ae(e,8)}static uint16(e){return ae(e,16)}static uint24(e){return ae(e,24)}static uint32(e){return ae(e,32)}static uint40(e){return ae(e,40)}static uint48(e){return ae(e,48)}static uint56(e){return ae(e,56)}static uint64(e){return ae(e,64)}static uint72(e){return ae(e,72)}static uint80(e){return ae(e,80)}static uint88(e){return ae(e,88)}static uint96(e){return ae(e,96)}static uint104(e){return ae(e,104)}static uint112(e){return ae(e,112)}static uint120(e){return ae(e,120)}static uint128(e){return ae(e,128)}static uint136(e){return ae(e,136)}static uint144(e){return ae(e,144)}static uint152(e){return ae(e,152)}static uint160(e){return ae(e,160)}static uint168(e){return ae(e,168)}static uint176(e){return ae(e,176)}static uint184(e){return ae(e,184)}static uint192(e){return ae(e,192)}static uint200(e){return ae(e,200)}static uint208(e){return ae(e,208)}static uint216(e){return ae(e,216)}static uint224(e){return ae(e,224)}static uint232(e){return ae(e,232)}static uint240(e){return ae(e,240)}static uint248(e){return ae(e,248)}static uint256(e){return ae(e,256)}static uint(e){return ae(e,256)}static int8(e){return ae(e,-8)}static int16(e){return ae(e,-16)}static int24(e){return ae(e,-24)}static int32(e){return ae(e,-32)}static int40(e){return ae(e,-40)}static int48(e){return ae(e,-48)}static int56(e){return ae(e,-56)}static int64(e){return ae(e,-64)}static int72(e){return ae(e,-72)}static int80(e){return ae(e,-80)}static int88(e){return ae(e,-88)}static int96(e){return ae(e,-96)}static int104(e){return ae(e,-104)}static int112(e){return ae(e,-112)}static int120(e){return ae(e,-120)}static int128(e){return ae(e,-128)}static int136(e){return ae(e,-136)}static int144(e){return ae(e,-144)}static int152(e){return ae(e,-152)}static int160(e){return ae(e,-160)}static int168(e){return ae(e,-168)}static int176(e){return ae(e,-176)}static int184(e){return ae(e,-184)}static int192(e){return ae(e,-192)}static int200(e){return ae(e,-200)}static int208(e){return ae(e,-208)}static int216(e){return ae(e,-216)}static int224(e){return ae(e,-224)}static int232(e){return ae(e,-232)}static int240(e){return ae(e,-240)}static int248(e){return ae(e,-248)}static int256(e){return ae(e,-256)}static int(e){return ae(e,-256)}static bytes1(e){return Je(e,1)}static bytes2(e){return Je(e,2)}static bytes3(e){return Je(e,3)}static bytes4(e){return Je(e,4)}static bytes5(e){return Je(e,5)}static bytes6(e){return Je(e,6)}static bytes7(e){return Je(e,7)}static bytes8(e){return Je(e,8)}static bytes9(e){return Je(e,9)}static bytes10(e){return Je(e,10)}static bytes11(e){return Je(e,11)}static bytes12(e){return Je(e,12)}static bytes13(e){return Je(e,13)}static bytes14(e){return Je(e,14)}static bytes15(e){return Je(e,15)}static bytes16(e){return Je(e,16)}static bytes17(e){return Je(e,17)}static bytes18(e){return Je(e,18)}static bytes19(e){return Je(e,19)}static bytes20(e){return Je(e,20)}static bytes21(e){return Je(e,21)}static bytes22(e){return Je(e,22)}static bytes23(e){return Je(e,23)}static bytes24(e){return Je(e,24)}static bytes25(e){return Je(e,25)}static bytes26(e){return Je(e,26)}static bytes27(e){return Je(e,27)}static bytes28(e){return Je(e,28)}static bytes29(e){return Je(e,29)}static bytes30(e){return Je(e,30)}static bytes31(e){return Je(e,31)}static bytes32(e){return Je(e,32)}static address(e){return new ss(os,"address",e)}static bool(e){return new ss(os,"bool",!!e)}static bytes(e){return new ss(os,"bytes",e)}static string(e){return new ss(os,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new ss(os,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===LO}static dereference(e,n){if(ss.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}};pc=new WeakMap;let Kn=ss;class yG extends Hs{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=Kn.dereference(n,"string");try{r=et(r)}catch(i){return this._throwError(i.message,n)}return e.writeValue(r)}decode(e){return et(au(e.readValue(),20))}}class vG extends Hs{constructor(n){super(n.name,n.type,"_",n.dynamic);B(this,"coder");this.coder=n}defaultValue(){return this.coder.defaultValue()}encode(n,r){return this.coder.encode(n,r)}decode(n){return this.coder.decode(n)}}function bL(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let l={};r=e.map(h=>{const p=h.localName;return K(p,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:h},value:n}),K(!l[p],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:h},value:n}),l[p]=!0,n[p]})}else M(!1,"invalid tuple value","tuple",n);M(e.length===r.length,"types/value length mismatch","tuple",n);let i=new AI,s=new AI,a=[];e.forEach((l,h)=>{let p=r[h];if(l.dynamic){let g=s.length;l.encode(s,p);let y=i.writeUpdatableValue();a.push(w=>{y(w+g)})}else l.encode(i,p)}),a.forEach(l=>{l(i.length)});let c=t.appendWriter(i);return c+=t.appendWriter(s),c}function EL(t,e){let n=[],r=[],i=t.subReader(0);return e.forEach(s=>{let a=null;if(s.dynamic){let c=t.readIndex(),l=i.subReader(c);try{a=s.decode(l)}catch(h){if(ki(h,"BUFFER_OVERRUN"))throw h;a=h,a.baseType=s.name,a.name=s.localName,a.type=s.type}}else try{a=s.decode(t)}catch(c){if(ki(c,"BUFFER_OVERRUN"))throw c;a=c,a.baseType=s.name,a.name=s.localName,a.type=s.type}if(a==null)throw new Error("investigate");n.push(a),r.push(s.localName||null)}),kv.fromItems(n,r)}class wG extends Hs{constructor(n,r,i){const s=n.type+"["+(r>=0?r:"")+"]",a=r===-1||n.dynamic;super("array",s,i,a);B(this,"coder");B(this,"length");Se(this,{coder:n,length:r})}defaultValue(){const n=this.coder.defaultValue(),r=[];for(let i=0;i<this.length;i++)r.push(n);return r}encode(n,r){const i=Kn.dereference(r,"array");Array.isArray(i)||this._throwError("expected array value",i);let s=this.length;s===-1&&(s=i.length,n.writeValue(i.length)),$8(i.length,s,"coder array"+(this.localName?" "+this.localName:""));let a=[];for(let c=0;c<i.length;c++)a.push(this.coder);return bL(n,a,i)}decode(n){let r=this.length;r===-1&&(r=n.readIndex(),K(r*ur<=n.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:n.bytes,offset:r*ur,length:n.dataLength}));let i=[];for(let s=0;s<r;s++)i.push(new vG(this.coder));return EL(n,i)}}class bG extends Hs{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=Kn.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class AL extends Hs{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=xr(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class EG extends AL{constructor(e){super("bytes",e)}decode(e){return me(super.decode(e))}}class AG extends Hs{constructor(n,r){let i="bytes"+String(n);super(i,i,r,!1);B(this,"size");Se(this,{size:n},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(n,r){let i=xr(Kn.dereference(r,this.type));return i.length!==this.size&&this._throwError("incorrect data length",r),n.writeBytes(i)}decode(n){return me(n.readBytes(this.size))}}const SG=new Uint8Array([]);class IG extends Hs{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(SG)}decode(e){return e.readBytes(0),null}}const TG=BigInt(0),xG=BigInt(1),CG=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class NG extends Hs{constructor(n,r,i){const s=(r?"int":"uint")+n*8;super(s,s,i,!1);B(this,"size");B(this,"signed");Se(this,{size:n,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(n,r){let i=be(Kn.dereference(r,this.type)),s=ec(CG,ur*8);if(this.signed){let a=ec(s,this.size*8-1);(i>a||i<-(a+xG))&&this._throwError("value out-of-bounds",r),i=G8(i,8*ur)}else(i<TG||i>ec(s,this.size*8))&&this._throwError("value out-of-bounds",r);return n.writeValue(i)}decode(n){let r=ec(n.readValue(),this.size*8);return this.signed&&(r=Nv(r,this.size*8)),r}}class kG extends AL{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,Os(Kn.dereference(n,"string")))}decode(e){return D2(super.decode(e))}}class ly extends Hs{constructor(n,r){let i=!1;const s=[];n.forEach(c=>{c.dynamic&&(i=!0),s.push(c.type)});const a="tuple("+s.join(",")+")";super("tuple",a,r,i);B(this,"coders");Se(this,{coders:Object.freeze(n.slice())})}defaultValue(){const n=[];this.coders.forEach(i=>{n.push(i.defaultValue())});const r=this.coders.reduce((i,s)=>{const a=s.localName;return a&&(i[a]||(i[a]=0),i[a]++),i},{});return this.coders.forEach((i,s)=>{let a=i.localName;!a||r[a]!==1||(a==="length"&&(a="_length"),n[a]==null&&(n[a]=n[s]))}),Object.freeze(n)}encode(n,r){const i=Kn.dereference(r,"tuple");return bL(n,this.coders,i)}decode(n){return EL(n,this.coders)}}function Uc(t){return Lt(Os(t))}function OG(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let R=1;R<r;R++)s.push(i+=n());let a=n(),c=e;e+=a;let l=0,h=0;function p(){return l==0&&(h=h<<8|t[e++],l=8),h>>--l&1}const g=31,y=2**g,w=y>>>1,E=w>>1,I=y-1;let k=0;for(let R=0;R<g;R++)k=k<<1|p();let S=[],T=0,x=y;for(;;){let R=Math.floor(((k-T+1)*i-1)/x),F=0,q=r;for(;q-F>1;){let N=F+q>>>1;R<s[N]?q=N:F=N}if(F==0)break;S.push(F);let H=T+Math.floor(x*s[F]/i),Ae=T+Math.floor(x*s[F+1]/i)-1;for(;!((H^Ae)&w);)k=k<<1&I|p(),H=H<<1&I,Ae=Ae<<1&I|1;for(;H&~Ae&E;)k=k&w|k<<1&I>>>1|p(),H=H<<1^w,Ae=(Ae^w)<<1|w|1;T=H,x=1+Ae-H}let _=r-4;return S.map(R=>{switch(R-_){case 3:return _+65792+(t[c++]<<16|t[c++]<<8|t[c++]);case 2:return _+256+(t[c++]<<8|t[c++]);case 1:return _+t[c++];default:return R-1}})}function PG(t){let e=0;return()=>t[e++]}function SL(t){return PG(OG(DG(t)))}function DG(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,a=0,c=0;i<n;i++)c=c<<6|e[t.charCodeAt(i)],a+=6,a>=8&&(r[s++]=c>>(a-=8));return r}function _G(t){return t&1?~t>>1:t>>1}function RG(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=_G(e());return n}function cu(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let s=0;s<i;s++)n.push(e+s);e+=i+1}return n}function IL(t){return l0(()=>{let e=cu(t);if(e.length)return e})}function TL(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(LG(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(MG(n,t))}return e.flat()}function l0(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function xL(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)RG(t,n).forEach((s,a)=>r[a].push(s));return r}function LG(t,e){let n=1+e(),r=e(),i=l0(e);return xL(i.length,1+t,e).flatMap((a,c)=>{let[l,...h]=a;return Array(i[c]).fill().map((p,g)=>{let y=g*r;return[l+g*n,h.map(w=>w+y)]})})}function MG(t,e){let n=1+e();return xL(n,1+t,e).map(i=>[i[0],i.slice(1)])}var oi=SL("AEgSbwjEDVYByQKaAQsBOQDpATQAngDUAHsAoABoANQAagCNAEQAhABMAHIAOwA9ACsANgAmAGIAHgAvACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGAAeABMAFwAXAA0ADgAWAA8AFAAVBFsF1QEXE0o3xAXUALIArkABaACmAgPGAK6AMDAwMAE/qAYK7P4HQAblMgVYBVkAPSw5Afa3EgfJwgAPA8meNALGCjACjqIChtk/j2+KAsXMAoPzASDgCgDyrgFCAi6OCkCQAOQA4woWABjVuskNDD6eBBx4AP4COhi+D+wKBirqBgSCaA0cBy4ArABqku+mnIAAXAaUJAbqABwAPAyUFvyp/Mo8INAIvCoDshQ8APcubKQAon4ZABgEJtgXAR4AuhnOBPsKIE04CZgJiR8cVlpM5INDABQADQAWAA9sVQAiAA8ASO8W2T30OVnKluYvChEeX05ZPe0AFAANABYAD2wgXUCYAMPsABwAOgzGFryp/AHauQVcBeMC0KACxLEKTR2kZhR0Gm5M9gC8DmgC4gAMLjSKF8qSAoF8ARMcAL4OaALiAAwuAUlQJpJMCwMt/AUpCthqGK4B2EQAciwSeAIyFiIDKCi6OGwAOuIB9iYAyA7MtgEcZIIAsgYABgCK1EoFHNZsGACoKNIBogAAAAAAKy4DnABoAQoaPu43dQQZGACrAcgCIgDgLBJ0OvRQsTOiKDVJBfsoBVoFWbC5BWo7XkITO1hCmHuUZmCh+QwUA8YIJvJ4JASkTAJUVAJ2HKwoAZCkpjZcA0YYBIRiCgDSBqxAMCQHKgI6XgBsAWIgcgCEHhoAlgFKuAAoahgBsMYDOC4iRFQBcFoGZgJmAPJKGAMqAgYASkIArABeAHQALLYGCPTwGo6AAAAKIgAqALQcSAHSAdwIDDKXeYHpAAsAEgA1AD4AOTR3etTBEGAQXQJNCkxtOxUMAq0PpwvmERYM0irM09kANKoH7ANUB+wDVANUB+wH7ANUB+wDVANUA1QDVBwL8BvUwRBgD0kEbgWPBYwE1wiEJkoRggcpCNNUDnQfHEgDRgD9IyZJHTuUMwwlQ0wNTQQH/TZDbKh9OQNIMaxU9pCjA8wyUDltAh5yEqEAKw90HTW2Tn96SHGhCkxPr7WASWNOaAK/Oqk/+QoiCZRvvHdPBj4QGCeiEPQMMAGyATgN6kvVBO4GOATGH3oZFg/KlZkIoi3aDOom4C6egFcj8iqABepL8TzaC0pRZQ9WC2IJ4DpggUsDHgEKIogK2g02CGoQ8ArGaA3iEUIHNgPSSZcAogb+Cw4dMhWyJg1iqQsGOXQG+BrzC4wmrBMmevkF0BoeBkoBJhr8AMwu5IWtWi5cGU9cBgALIiPEFKVQHQ0iQLR4RRoYBxIlpgKOQ21KhFEzHpAh8zw6DWMuEFF5B/I8AhlMC348m0aoRQsRzz6KPUUiRkwpBDJ8LCwniAnMD4IMtnxvAVYJHgmuDG4TLhEUN8IINgcWKpchJxIIHkaSYJcE9JwD8BPOAwgFPAk+BxADshwqEysVJgUKgSHUAvA20i6wAoxWfQEUBcgPIh/cEE1H3Q7mCJgCYgOAJegAKhUeABQimAhAYABcj9VTAi7ICMRqaSNxA2QU5F4RcAeODlQHpBwwFbwc3nDFXgiGBSigrAlYAXIJlgFcBOAIBjVYjJ0gPmdQi1UYmCBeQTxd+QIuDGIVnES6h3UCiA9oEhgBMgFwBzYM/gJ0EeoRaBCSCOiGATWyM/U6IgRMIYAgDgokA0xsywskJvYM9WYBoBJfAwk0OnfrZ6hgsyEX+gcWMsJBXSHuC49PygyZGr4YP1QrGeEHvAPwGvAn50FUBfwDoAAQOkoz6wS6C2YIiAk8AEYOoBQH1BhnCm6MzQEuiAG0lgNUjoACbIwGNAcIAGQIhAV24gAaAqQIoAACAMwDVAA2AqoHmgAWAII+AToDJCwBHuICjAOQCC7IAZIsAfAmBBjADBIA9DRuRwLDrgKAZ2afBdpVAosCRjIBSiIEAktETgOsbt4A2ABIBhDcRAESqEfIF+BAAdxsKADEAPgAAjIHAj4BygHwagC0AVwLLgmfsLIBSuYmAIAAEmgB1AKGANoAMgB87gFQAEoFVvYF0AJMRgEOLhUoVF4BuAMcATABCgB2BsiKosYEHARqB9ACEBgV3gLvKweyAyLcE8pCwgK921IAMhMKNQqkCqNgWF0wAy5vPU0ACx+lPsQ/SwVOO1A7VTtQO1U7UDtVO1A7VTtQO1UDlLzfvN8KaV9CYegMow3RRMU6RhPYYE5gLxPFLbQUvhXLJVMZOhq5JwIl4VUGDwEt0GYtCCk0che5ADwpZYM+Y4MeLQpIHORTjlT1LRgArkufM6wNqRsSRD0FRHXqYicWCwofAmR+AmI/WEqsWDcdAqH0AmiVAmYGAp+BOBgIAmY4AmYjBGsEfAN/EAN+jzkDOXQUOX86ICACbBoCMjM4BwJtxAJtq+yHMGRCKAFkANsA3gBHAgeVDIoA+wi/AAqyAncsAnafPAJ5SEACeLcaWdhFq0bwAnw8AnrFAn0GAnztR/1IemAhACgSSVVKWBIUSskC0P4C0MlLJAOITAOH40TCkS8C8p5dAAMDq0vLTCoiAMxNSU2sAos8AorVvhgEGkBkArQCjjQCjlk9lH4CjtYCjll1UbFTMgdS0VSCApP4ApMJAOYAGVUbVaxVzQMsGCmSgzLeeGNFODYCl5wC769YHqUAViIClowClnmZAKZZqVoGfkoAOAKWsgKWS1xBXM4CmcgCmWFcx10EFgKcmDm/OpoCnBMCn5gCnrWHABoMLicMAp3uAp6PALI6YTFh7AKe0AKgawGmAp6cHAKeS6JjxWQkIigCJ6wCJnsCoPgCoEnUAqYsAqXLAqf8AHoCp+9oeWiuAABGahlqzgKs4AKsqwKtZAKs/wJXGgJV2QKx3tQDH0tslAKyugoCsuUUbN1tYG1FXAMlygK2WTg8bo0DKUICuFsCuUQSArkndHAzcN4CvRYDLa8DMg4CvoVx/wMzbgK+F3Mfc0wCw8gCwwFzf3RIMkJ03QM8pAM8lwM9vALFeQLGRALGDYYCyGZOAshBAslMAskrAmSaAt3PeHZeeKt5IkvNAxigZv8CYfEZ8JUhewhej164DgLPaALPaSxIUM/wEJwAw6oCz3ABJucDTg9+SAIC3CQC24cC0kwDUlkDU1wA/gNViYCGPMgT6l1CcoLLg4oC2sQC2duEDYRGpzkDhqIALANkC4ZuVvYAUgLfYgLetXB0AuIs7REB8y0kAfSYAfLPhALr8ALpbXYC6vYC6uEA9kQBtgLuhgLrmZanlwAC7jwDhd2YdnDdcZ4C8wAAZgOOE5mQAvcQA5FrA5KEAveVAvnWAvhjmhmaqLg0mxsDnYAC/vcBGAA2nxmfsAMFigOmZwOm1gDOwgMGZ6GFogIGAwxGAQwBHAdqBl62ZAIAuARovA6IHrAKABRyNgAgAzASSgOGfAFgJB4AjOwAHgDmoAScjgi0BhygwgCoBRK86h4+PxZ5BWk4P0EsQiJCtV9yEl+9AJbGBTMAkE0am7o7J2AzErrQDjAYxxiKyfcFWAVZBVgFWQVkBVkFWAVZBVgFWQVYBVkFWAVZRxYI2IZoAwMDCmVe6iwEygOyBjC8vAC8BKi8AOhBKhazBUc+aj5xQkBCt192OF/pAFgSM6wAjP/MbMv9puhGez4nJAUsFyg3Nn5u32vB8hnDLGoBbNdvMRgFYAVrycLJuQjQSlwBAQEKfV5+jL8AND+CAAQW0gbmriQGAIzEDAMCDgDlZh4+JSBLQrJCvUI5JF8oYDcoOSQJwj4KRT9EPnk+gj5xPnICikK9SkM8X8xPUGtOCy1sVTBrDG8gX+E0OxwJaJwKYyQsPR4nQqxCvSzMAsv9X8oPIC8KCQoAACN+nt9rOy5LGMmsya0JZsLMzQphQWAP5hCkEgCTjh5GQiYbqm06zjkKND9EPnFCQBwICx5NSG1cLS5a4rwTCn7uHixCQBxeCUsKDzRVREM4BTtEnC0KghwuQkAb9glUIyQZMTIBBo9i8F8KcmTKYAxgLiRvAERgGjoDHB9gtAcDbBFmT2BOEgIAZOhgFmCWYH5gtGBMYJJpFhgGtg/cVqq8WwtDF6wBvCzOwgMgFgEdBB8BegJtMDGWU4EBiwq5SBsA5SR0jwvLDqdN6wGcAoidUAVBYAD4AD4LATUXWHsMpg0lILuwSABQDTUAFhO4NVUC0wxLZhEcANlPBnYECx9bADIAtwKbKAsWcKwzOaAaAVwBhwn9A9ruEAarBksGugAey1aqWwq7YhOKCy1ADrwBvAEjA0hbKSkpIR8gIi0TJwciDY4AVQJvWJFKlgJvIA9ySAHUdRDPUiEaqrFN6wcSBU1gAPgAPgsBewAHJW0LiAymOTEuyLBXDgwAYL0MAGRKaFAiIhzAADIAtwKbKC08D88CkRh8ULxYyXRzjtilnA72mhU+G+0S2hIHDxwByAk7EJQGESwNNwwAPAC0zwEDAKUA4gCbizAAFQBcG8cvbXcrDsIRAzwlRNTiHR8MG34CfATCC6vxbQA4Oi4Opzkuz6IdB7wKABA7Ls8SGgB9rNsdD7wbSBzOoncfAT4qYB0C7KAJBE3z5R9mDL0M+wg9Cj8ABcELPgJMDbwIvQ09CT0KvS7PoisOvAaYAhwPjBriBBwLvBY8AKELPBC8BRihe90AO2wMPQACpwm9BRzR9QYFB2/LBnwAB7wSXBISvQECAOsCAAB1FVwHFswV/HAXvBg8AC68AuyovAAevAJWISuAAAG8AALkFT0VvCvso7zJqDwEAp8nTAACXADn3hm8CaVcD7/FAPUafAiiBQv/cQDfvKe8GNwavKOMeXMG/KmchAASvAcbDAADlABtvAcAC7ynPAIaPLsIopzLDvwHwak8AOF8L7dtvwNJAAPsABW8AAb8AAm8AGmMABq8AA68Axi8jmoV/AABXAAObAAuTB8ABrwAF7wIIgANSwC6vCcAA7wADpwq7ACyWwAcHAAbvAAB7AqiAAXHCxYV3AAHnABCvAEDAGm8AAt8AB28AAi8CaIABcsAbqAZ1gCSCCIABcsAATwAB9wAHZwIIgAGmwAJfAAbLABtHADmvIEACFwACDwAFLwAaPwJIgAGywDjjAAJPAuiDsX7YAAHPABunUBJAEgACrwFAAM8AAmuAzgABxwAGXwAAgym/AAKHAAKPAAJ/KfsBrwACRwAAwwAEDwBABQ8ABFsAA+MAA3sAA28ABkMBxYcABU8AG6cFrQBvAC7ABM8BABpLAsA4UwAAjwABFMAF3wFHAAG0QAYvB8BfClTADpGALAJBw4McwApK3EBpQYIXwJtJA0ACghwTG1gK4oggRVjLjcDogq1AALZABcC/ARvAXdzSFMVIgNQAhY/AS0GBHRHvnxTe0EAKgAyAvwAVAvcAHyRLQEsAHfmDhIzRwJLAFgGAAJRAQiLzQB5PAQhpgBbANcWAJZpOCCMAM5ssgDQ1RcJw3Z0HBlXHgrSAYmRrCNUVE5JEz3DivoAgB04QSos4RKYUABzASosMSlDGhADMVYE+MbvAExm3QBrAnICQBF7Osh4LzXWBhETIAUVCK6v/xPNACYAAQIbAIYAiQCONgDjALQA1QCdPQC7AKsApgChAOcAnwDTAJwA4AEBAPwAwAB6AFsAywDNAPwA1wDrAIkAogEqAOMA2ADVBAIIKzTT09PTtb/bzM/NQjEWAUsBVS5GAVMBYgFhAVQBRUpCRGcMAUwUBgkEMzcMBwAgDSQmKCs3OTk8PDw9Pg0/HVBQUFBSUlFSKFNUVlVVHFxgYF9hYCNlZ29ucXFxcXFxc3Nzc3Nzc3Nzc3N1dXZ1dFsAPesAQgCTAHEAKwBf8QCHAFAAUAAwAm/oAIT+8fEAXQCM6wCYAEgAWwBd+PipAH4AfgBiAE8AqgAdAK8AfAI5AjwA9QDgAPcA9wDhAPgA4gDiAOEA3wAoAnQBSgE5ATcBTQE3ATcBNwEyATEBMQExARUBURAAKgkBAEwYCxcEFhcPAIcAjwCfAEoAYxkCKgBvAGgAkAMOAyArAxpCP0gqAIoCSADAAlACnQC5Ao8CjwKPAo8CjwKPAoQCjwKPAo8CjwKPAo8CjgKOApECmQKQAo8CjwKNAo0CjQKNAosCjgJuAc0CkAKYAo8CjwKOF3oMAPcGA5gCWgIzGAFNETYC2xILLBQBRzgUTpIBdKU9AWJaAP4DOkgA/wCSKh4ZkGsAKmEAagAvAIoDlcyM8K+FWwa7LA/DEgKe1nUrCwQkWwGzAN5/gYB/gX+Cg4N/hIeFf4aJh4GIg4mDin+Lf4x/jYuOf49/kIORf5J/k3+Uf5WElomXg5h/AIMloQCEBDwEOQQ7BD4EPARCBD8EOgRABEIEQQQ9BD8EQgCkA4gAylIA0AINAPdbAPcBGgD3APUA9QD2APXVhSRmvwD3APUA9QD2APUdAIpbAPcAigEaAPcAigLtAPcAitWFJGa/HQD4WwEaAPcA9wD1APUA9gD1APgA9QD1APYA9dWFJGa/HQCKWwEaAPcAigD3AIoC7QD3AIrVhSRmvx0CRAE3AksBOgJMwgOfAu0Dn9WFJGa/HQCKWwEaA58AigOfAIoC7QOfAIrVhSRmvx0EMQCKBDIAigeOMm4hLQCKAT9vBCQA/gDHWwMAVVv/FDMDAIoDPtkASgMAigMAl2dBtv/TrfLzakaPh3aztmIuZQrR3ER2n5Yo+qNR2jK/aP/V04UK1njIJXLgkab9PjOxyJDVbIN3R/FZLoZVl2kYFQIZ7V6LpRqGDt9OdDohnJKp5yX/HLj0voPpLrneDaN11t5W3sSM4ALscgSw8fyWLVkKa/cNcQmjYOgTLZUgOLi2F05g4TR0RfgZ4PBdntxdV3qvdxQt8DeaMMgjJMgwUxYN3tUNpUNx21AvwADDAIa0+raTWaoBXmShAl5AThpMi282o+WzOKMlxjHj7a+DI6AM6VI9w+xyh3Eyg/1XvPmbqjeg2MGXugHt8wW03DQMRTd5iqqOhjLvyOCcKtViGwAHVLyl86KqvxVX7MxSW8HLq6KCrLpB8SspAOHO9IuOwCh9poLoMEha9CHCxlRAXJNDobducWjqhFHqCkzjTM2V9CHslwq4iU19IxqhIFZMve15lDTiMVZIPdADXGxTqzSTv0dDWyk1ht430yvaYCy9qY0MQ3cC5c1uw4mHcTGkMHTAGC99TkNXFAiLQgw9ZWhwKJjGCe+J5FIaMpYhhyUnEgfrF3zEtzn40DdgCIJUJfZ0mo3eXsDwneJ8AYCr7Vx2eHFnt2H6ZEyAHs9JoQ4Lzh5zBoGOGwAz37NOPuqSNmZf51hBEovtpm2T1wI79OBWDyvCFYkONqAKGVYgIL0F+uxTcMLSPtFbiNDbBPFgip8MGDmLLHbSyGXdCMO6f7teiW9EEmorZ+75KzanZwvUySgjoUQBTfHlOIerJs6Y9wLlgDw18AB1ne0tZRNgGjcrqHbtubSUooEpy4hWpDzTSrmvqw0H9AoXQLolMt9eOM+l9RitBB1OBnrdC1XL4yLFyXqZSgZhv7FnnDEXLUeffb4nVDqYTLY6X7gHVaK4ZZlepja2Oe6OhLDI/Ve5SQTCmJdH3HJeb14cw99XsBQAlDy5s5kil2sGezZA3tFok2IsNja7QuFgM30Hff3NGSsSVFYZLOcTBOvlPx8vLhjJrSI7xrNMA/BOzpBIJrdR1+v+zw4RZ7ry6aq4/tFfvPQxQCPDsXlcRvIZYl+E5g3kJ+zLMZon0yElBvEOQTh6SaAdIO6BwdqJqfvgU+e8Y65FQhdiHkZMVt9/39N2jGd26J6cNjq8cQIyp6RonRPgVn2fl89uRDcQ27GacaN0MPrcNyRlbUWelKfDfyrNVVGBG5sjd3jXzTx06ywyzuWn5jbvEfPPCTbpClkgEu9oPLKICxU5HuDe3jA1XnvU85IYYhaEtOU1YVWYhEFsa4/TQj3rHdsU2da2eVbF8YjSI0m619/8bLMZu3xildwqM7zf1cjn4Whx0PSYXcY5bR7wEQfGC7CTOXwZdmsdTO8q3uGm7Rh/RfCWwpzBHCAaVfjxgibL5vUeL0pH6bzDmI9yCXKC/okkmbc28OJvI87L/bjFzpq0DHepw4kT1Od+fL7cyuFaRgfaUWB2++TCFvz11J0leEtrGkpccfX9z2LY39sph4PBHCjNOOkd0ybUm+ZzS8GkFbqMpq8uiX2yHpa0jllTLfGTDBMYR6FT5FWLLDPMkYxt1Q0eyMvxJWztDjy0m6VvZPvamrFXjHmPpU6WxrZqH6WW//I37RwvqPQhPz8I3RPuXAk1C94ZprQWm9iGM/KgiGDO6SV9sjp+Jmk4TBajMNJ5zzWZ1k1jrteQQBp9C2dOvmbIeeEME8y573Q8TgGe+ZCzutM45gYLBzYm2LNvgq2kebAbMpHRDSyh6dQ27GbsAAdCqQVVXWC1C+zpwBM2Lr4eqtobmmu1vJEDlIQR1iN8CUWpztq50z7FFQBn3SKViX6wSqzVQCoYvAjByjeSa+h1PRnYWvBinTDB9cHt4eqDsPS4jcD3FwXJKT0RQsl8EvslI2SFaz2OtmYLFV8FwgvWroZ3fKmh7btewX9tfL2upXsrsqpLJzpzNGyNlnuZyetg7DIOxQTMBR7dqlrTlZ6FWi1g4j1NSjA2j1Yd7fzTH6k9LxCyUCneAKYCU581bnvKih6KJTeTeCX4Zhme/QIz7w2o+AdSgtLAkdrLS9nfweYEqrMLsrGGSWXtgWamAWp6+x6GM/Z8jNw3BqPNQ39hrzYLECn3tPvh/LqKbRSCiDGauDKBBj/kGbpnM1Bb/my8hv4NWStclkwjfl57y4oNDgw1JAG9VOti3QVVoSziMEsSdfEjaCPIDb7SgpLXykQsM+nbqbt97I0mIlzWv0uqFobLMAq8Rd9pszUBKxFhBPwOjf//gVOz2r7URJ2OnpviCXv9iz3a4X/YLBYbXoYwxBv/Kq0a5s4utQHzoTerJ7PmFW/no/ZAsid/hRIV82tD+Qabh5F1ssIM8Ri3chu0PuPD3sSJRMjDoxLAbwUbroiPAz/V52e8s3DIixxlO7OrvhMj3qfzA0kKxzwicr5wJmZwJxTXgrwYsqhRvpgC2Nfdyd+TYYxJSZgk+gk2g9KyHSlwQVAyPtWWgvVGyVBqsU2LpDlLNosSAtolC1uBKt5pQZLhAxTjeGCWIC/HVpagc5rRwkgpCHKEsjA8d+scp8aiMewwQBhp5dYTV5t/Nvl+HbDMu8F3S0psPyZb1bSnqlHPFUnMQeQqSqwDBT23fJO9gO3aVaa1icrXU0PKwlMM5K+iL3ATcVq2fFWKk0irCTF4LDVDG4gUpkyplq6efcZS+WDR1woApjD18x+2JQR9oOXzuA7uy4b+/91WsJd/tSd1QcAH8PVPXApieA37B7YXPhDPH1azP3PKR+HfHmOoDYLeuKsIi/ssSsdYs62qJo14Hw1P2N/6zpr8F3FTWmJ4ysAVcl84Iv/tl///Z8FaAWbBQbyMNDZjrZ2JwdRjtd1jOeNumSodFtr4/Zf45iRJf/8HSW+KIB/+GlKu8Rv1BPLr/4duoL+kFPRqrstEr41gfJupoJRf4hcYDWX93FOcfEBiIivxtjtV8g7mvOReiamYWKE7vfPbv3v2L9Kwq3cIDFGLyhyfOGuf/9vA5muH6Pjg7B4SUj2ydDXra9fSBI+DrsNHA6l51wfHssJb+11TfNk7B8OleUe3Y+ZmHboMFHdv7FFP2cfISFyeAQR0sk/Xv62HBTdW4HmnGSLFk/cqyWVVFJkdIIa+4hos3JRHcqLoRKM5h2Qtk1RZtzISMtlXTfTqIc77YsCCgQD0r61jtxskCctwJOtjE/pL8wC4LBD4AZFjh2wzzFCrT/PNqW0/DeBbkfMfzVm9yy06WiF+1mTdNNEAytVtohBKg3brWd2VQa+aF+cQ0mW5CvbwOlWCT07liX226PjiVLwFCRs/Ax2/u+ZNPjrNFIWIPf5GjHyUKp60OeXe9F01f7IaPf/SDTvyDAf7LSWWejtiZcsqtWZjrdn6A2MqBwnSeKhrZOlUMmgMionmiCIvXqKZfmhGZ1MwD3uMF4n9KJcfWLA3cL5pq48tm5NDYNh3SS/TKUtmFSlQR89MR4+kxcqJgpGbhm9gXneDELkyqAN5nitmIzTscKeJRXqd64RiaOALR2d295NWwbjHRNG2AU5oR9OS2oJg/5CY6BFPc1JvD2Mxdhp2/MZdI8dLePxiP4KRIp8VXmqfg+jqd/RNG7GNuq1U2SiI4735Bdc0MVFx6mH5UOWEa5HuhYykd6t4M1gYLVS8m1B+9bUqi5DziQq7qT8d94cxB6AB4WqMCOF/zPPtRSZUUaMSsvHOWxGASufywTX8ogy6HgUf9p+Z30wUEosl8qgmwm6o2AV6nO9HKQjRHpN6SUegI5pvR61RLnUJ1lqCtmfcsRQutEizVpAaPXN7xMp5UQ5OSZK6tniCK9CpyMd7LjR6+MxfoMEDPpWdf2p2m5N3KO4QMxf+V7vGdYjemQczQ+m2MGIkFNYDMf0Yop2eSx81sP36WHUczqEhKysp2iJSYAvfgJjinKwToPvRKb+HBi+7cJ96S5ngfLOXaHAFRLkulo4TnXTFO51gX0TCCo4ZUHdbpdgkMEwUZAPjh6M+hA8DzycbtxAgH3uD6i0nN1aTiIuQ4BYCE9dEHHwAmINU+4YEWx4EC3OZwFGfYZMPLScVlb+BAAJeARUh+gdWA3/gRqCrf1jecgqeFf1MdzrrP4SVlGm5mMihSP+zYYksAB7O+SBPwNQqSNMiLnkviY/klwgcRmvqtCqeWeA0gjuir4CMZqmw/ntP6M+l0pdN8/P9xI53aP7x/zavJbbKOz8VzO/nXxIr1tjparMnqd6iWdByHKw4lF4p/u57Yv07WeZPDnRl7wgmDVZZ44fQsjdYO/gmXQ+940PRGst8UMQApFC4OOV22e4N+lVOPyFLAOj4t8R3PFw/FjbSWy0ELuAFReNkee8ORcBOT2NPDcs7OfpUmzvn/F9Czk9o9naMyVYy/j8I5qVFmQDFcptBp65J/+sJA3w/j6y/eqUkKxTsf0CZjtNdRSBEmJ2tmfgmJbqpcsSagk+Ul9qdyV+NnqFBIJZFCB1XwPvWGDBOjVUmpWGHsWA5uDuMgLUNKZ4vlq5qfzY1LnRhCc/mh5/EX+hzuGdDy5aYYx4BAdwTTeZHcZpl3X0YyuxZFWNE6wFNppYs3LcFJePOyfKZ8KYb7dmRyvDOcORLPH0sytC6mH1US3JVj6paYM1GEr+CUmyHRnabHPqLlh6Kl0/BWd3ebziDfvpRQpPoR7N+LkUeYWtQ6Rn5v5+NtNeBPs2+DKDlzEVR5aYbTVPrZekJsZ9UC9qtVcP99thVIt1GREnN8zXP8mBfzS+wKYym8fcW6KqrE702Zco+hFQAEIR7qimo7dd7wO8B7R+QZPTuCWm1UAwblDTyURSbd85P4Pz+wBpQyGPeEpsEvxxIZkKsyfSOUcfE3UqzMFwZKYijb7sOkzpou+tC4bPXey5GI1GUAg9c3vLwIwAhcdPHRsYvpAfzkZHWY20vWxxJO0lvKfj6sG2g/pJ1vd/X2EBZkyEjLN4nUZOpOO7MewyHCrxQK8d5aF7rCeQlFX+XksK6l6z971BPuJqwdjj68ULOj9ZTDdOLopMdOLL0PFSS792SXE/EC9EDnIXZGYhr52aQb+9b2zEdBSnpkxAdBUkwJDqGCpZk/HkRidjdp0zKv/Cm52EenmfeKX6HkLUJgMbTTxxIZkIeL/6xuAaAAHbA7mONVduTHNX/UJj1nJEaI7f3HlUyiqKn7VfBE+bdb4HWln1HPJx001Ulq1tOxFf8WZEARvq5Da1+pE7fPVxLntGACz3nkoLsKcPdUqdCwwiyWkmXTd5+bv3j7HaReRt3ESn783Ew3SWsvkEjKtbocNksbrLmV+GVZn1+Uneo35MT1/4r8fngQX5/ptORfgmWfF6KSB/ssJmUSijXxQqUpzkANEkSkYgYj560OOjJr6uqckFuO15TRNgABEwNDjus1V3q2huLPYERMCLXUNmJJpbMrUQsSO7Qnxta55TvPWL6gWmMOvFknqETzqzFVO8SVkovEdYatypLGmDy9VWfgAc0KyIChiOhbd7UlbAeVLPZyEDp4POXKBwN/KP5pT6Cyqs6yaI00vXMn1ubk9OWT9Q/O2t/C25qlnO/zO0xcBzpMBCAB8vsdsh3U8fnPX1XlPEWfaYJxKVaTUgfCESWl4CCkIyjE6iQ5JFcwU6S4/IH0/Agacp8d5Gzq2+GzPnJ7+sqk40mfFQpKrDbAKwLlr3ONEati2k/ycLMSUu7V/7BBkDlNyXoN9tvqXCbbMc4SSQXgC/DBUY9QjtrCtQ+susEomCq8xcNJNNMWCH31GtlTw2BdCXkJBjT+/QNWlBWwQ5SWCh1LdQ99QVii/DyTxjSR6rmdap3l3L3aiplQpPYlrzNm9er88fXd2+ao+YdUNjtqmxiVxmyYPzJxl67OokDcTezEGqldkGgPbRdXA+fGcuZVkembZByo7J1dMnkGNjwwCny+FNcVcWvWYL9mg8oF7jACVWI3bA64EXpdM8bSIEVIAs5JJH+LHXgnCsgcMGPZyAAVBncvbLiexzg9YozcytjPXVlAbQAC7Tc4S0C8QN4LlAGjj4pQAVWrwkaDoUYGxxvkCWKRRHkdzJB5zpREleBDL1oDKEvAqmkDibVC4kTqF89YO6laUjgtJPebBfzr16tg4t10GmN1sJ5vezk2sUOq8blCn5mPZyT3ltaDcddKupQjqusNM9wtFVD0ABzv17fZDn7GPT1nkCtdcgYejcK1qOcTGtPxnCX1rErEjVWCnEJv5HaOAUjgpiKQjUKkQi64D5g2COgwas8FcgIl0Pw95H9dWxE3QG0VbMNffh6BPlAojLDf4es2/5Xfq7hw5NGcON2g8Qsy2UQm94KddKyy3kdJxWgpNaEc15xcylbLC3vnT26u8qS90qc2MU8LdOJc5VPF5KnSpXIhnj1eJJ/jszjZ01oR6JDFJRoeTPO/wh4IPFbdG9KljuSzeuI92p8JF/bpgDE8wG86/W2EBKgPrmzdLijxssQn8mM44ky/KLGOJcrSwXIpZa/Z3v7W6HCRk7ewds99LTsUW1LbeJytw8Q/BFZVZyfO9BUHOCe2suuEkO8DU4fLX0IQSQ2TdOkKXDtPf3sNV9tYhYFueuPRhfQlEEy+aYM/MCz7diDNmFSswYYlZZPmKr2Q5AxLsSVEqqBtn6hVl1BCFOFExnqnIsmyY/NA8jXnDaNzr7Zv3hu+I1Mf/PJjk0gALN2G8ABzdf9FNvWHvZHhv6xIoDCXf964MxG92vGZtx/LYU5PeZqgly8tT5tGeQGeJzMMsJc5p+a5Rn2PtEhiRzo/5Owjy1n0Lzx3ev8GHQmeWb8vagG6O5Qk5nrZuQTiKODI4UqL0LLAusS2Ve7j1Ivdxquu1BR9Rc4QkOiUPwQXJv6du2E8i5pDhVoQpUhyMWGUT2O2YODIhjAfI71gxep5r5zAY7GBUZpy51hAw0pcCCrhOmU8Wp6ujQTdZQsCjtq6SHX8QAMNiPCIIkoxhHEZPgsBcOlP4aErJZPhF7qvx6gHrn8hEwPwYbx8YmT/n7lbcmTip1v8kgsrIjFTAlvLY4Nuil0KDmgz3svYs0ZJ3O3Is/vSx4xpxF1e2VAtZE8dJxGYEIhCSuPvCjP54l/NSNDnwlKvAW8mG+AQkgp7a87Igh26uKMFGD0PoPHTSvoWxiHuk+su8XkQiHIjeYKl/RdcOHpxhQH3zHCNE3aARm83Bl6zGxU/vMltlVPQhubcqhW4RYkl6uXk5JdP/QpzaKFpw2M8zvysv2qj7xaQECuu2akM0Cssj/uB9+wDR7uA6XOnLNaoczalHoMj33eiiu+DRaFsUmlmUZuh9bjDY4INMNSSAivSh03uJvny4Gj+D+neudoa7iJi7c4VFlZ/J5gUR82308zSNAt/ZroBXDWw0fV3eVPAn3aX0mtJabF6RsUZmL+Ehn+wn51/4QipMjD+6y64t7bjL6bjENan2prQ4h7++hBJ9NXvX8CUocJqMC937IasLzm5K0qwXeFMAimMHkEIQIQI2LrQ9sLBfXuyp66zWvlsh74GPv7Xpabj993pRNNDuFud5oIcn/92isbADXdpRPbjmbCNOrwRbxGZx2XmYNGMiV5kjF4IKyxCBvKier9U4uVoheCdmk83rp5G0PihAm2fAtczI4b9BWqX+nrZTrJX5kSwQddi93NQrXG+Cl3eBGNkM77VBsMpEolhXex1MVvMkZN9fG59GGbciH11FEXaY1MxrArovaSjE/lUUqBg2cZBNmiWbvzCHCPJ4RVGFK2dTbObM1m+gJyEX53fa7u3+TZpm74mNEzWbkVL4vjNwfL9uzRCu1cgbrNx5Yv5dDruNrIOgwIk+UZWwJfdbu/WHul6PMmRflVCIzd7B37Pgm/Up/NuCiQW7RXyafevN3AL6ycciCc4ZPlTRzEu+aURGlUBOJbUEsheX7PPyrrhdUt5JAG12EEEZpY/N3Vhbl5uLAfT0CbC2XmpnryFkxZmBTs5prvEeuf0bn73i3O82WTiQtJWEPLsBXnQmdnKhB06NbbhLtlTZYJMxDMJpFeajSNRDB2v61BMUHqXggUwRJ19m6p5zl51v11q34T74lTXdJURuV6+bg2D6qpfGnLy7KGLuLZngobM4pIouz4+n0/UzFKxDgLM4h+fUwKZozQ9UGrHjcif51Ruonz7oIVZ56xWtZS8z7u5zay6J2LD4gCYh2RXoBRLDKsUlZ80R8kmoxlJiL8aZCy2wCAonnucFxCLT1HKoMhbPKt34D97EXPPh0joO93iJVF1Uruew61Qoy3ZUVNX9uIJDt9AQWKLLo+mSzmTibyLHq0D6hhzpvgUgI6ekyVEL3FD+Fi5R3A8MRHPXspN1VyKkfRlC+OGiNgPC4NREZpFETgVmdXrQ2TxChuS3aY+Ndc7CiYv5+CmzfiqeZrWIQJW/C4RvjbGUoJFf1K6ZdR2xL/bG4kVq1+I4jQWX+26YUijpp+lpN7o5c6ZodXJCF56UkFGsqz44sIg8jrdWvbjRCxi2Bk0iyM3a7ecAV93zB6h1Ei38c0s6+8nrbkopArccGP8vntQe1bFeEh2nJIFOHX/k3/UHb5PtKGpnzbkmnRETMX+9X/QduLZWw/feklW/kH/JnzToJe9Kgu9Hct1UGbH5BPCLo4OOtQnZonW0xnyCcdtKyPQ/sbLiSTYJdSx4sJqWLMnfn6fIqPB3WAgk00J+fCOkomPHqtS67pf0mFmKoItYZUlJu6BihSZ8qve8+/X+LX1MhQXF95AshfUleCtmdn6l6QFXzLg2sgLn1oyVFuZecv7fzsIHzoRlAGp0gwYDOn1S4qabWvB5xUaE+Svw4KmjWtxdnuQbI32dw87D4N95u8qQRJTSQg0wLxOLkxSrPMLEn1UIhNKjAa9VLs3WLaXGrtCIt8bKY2AQP/ZdyRU6zT/E8qP2ltyBE2CCZPgWgEYDoJJO4n92y61ylNaSFXKohJhLjkfvYWm592539sIpmBNLlDo1bExFBfmHJJ0lFEiC/fj8v42OoMC9Mo3whIoWvyHfq6Uacqq55mzFf/EGC+NP/gHjhd6urc6R0hES27VXux7UY8CGKPohplWIZtTrFSaPWslCWy78E22Pw8fvReSUZx/txqLtHrFqg1DY/Eus6Iq1heZdrdcqE0/c971Bz1HW/XNXHsXpUIbI4kHdOfCc6T5zHZzvzQJB0ggMFL6IGPAilU9bj/ASdPk6fNvNtZqPuwEDhMBtBnhCexo6D6VAGIOPvJPPV523Y8R8a9vCqZbswSZKzOT1291BsUbmUWehtbb1fdRX9hiJKXvwr1QX6GjnZMgyMvnwOo2Dr24amr7FqEAbVeJAjRNOceM2EQ1Mna9fInqPJ5mh5X8CzT1aDOv08An0blz0fF5Gq4mS2cwq5glwIOlY5nznE8X4j/UdZ3FJsVIXte1JH0A7iibuPfazStM5O/Vo3KXIpXBeGORV0M9XDXFvsYZUHGvFCUubWzTw248EHE0cpQM2zNg6rjavreq3NHCAWsoZ7wvVy7l5gvtKRmIj1MnvfWEm0yFnGcuOq192350a5WefpfKCcX3Sn+AgHU+qnpstNtddbdVebagJU390lq9ko4aI9rqdaWXYG8tv5O/ZQHSqDRYHC6zfH10l5z++opso7aOSaIczlQ13iAzXvLdEu0V7kwNUZ1c8Y8aq7SeIEe5p902FlNkW8DnwHyueHchbK8vVFJfmr9mz7P8nUSccl1ULaoWMRSI1ls32kvlK0h46h3J25Yd9AzfcJbp9qYF/SEt3H5j69mMdcsNxZcAzT/A89ov3tglTX54y/EwjMfuoDoxPwLJDm5I7q6F9Kp469yNy1zSxz0N4HbRRBj9xFFuogvBspv7DXUNIsGxTINEQfmctb42XImWAODgARNo7dfcTqFKq6aTfivmvunLmzP9f8yLsJvXD3JbcPcDGNriMAcjzeDTNr65t8YB5tsnFDFLa0Uwmd2OvUdkLMX9TsAUYUfooSv47sw5J88j7CpahRjjO3/UhOXjTS39W5YZAel2KTbQd1h7INOw9P23GW7GDAe4agIUFHP48MZr7ubq0efFmmtwYMyk7D0r1oeG/CGOODgb9Ur+JMHxkwzPbtCX2ZnENQuI0RN5SyTIZuoY4XS9Rd/tPe3vNAZGSHM/YYwqs9xkkENx0O+eC2YVW1cwOJ3ckE890nbQeHLKlW15L0P0W2VliyYrfNr0nrIYddoRyGaCtj4OYd2MT7ebApqZOAQIaSHJM4mphhfjNjtnjg6YRyx9qM2FT3xOiYIMqXPFWdzhSgFF8ItocqVV09CmIoO8k6U/oJB7++wSX/YksxfPXHyjSgAGZOj1aKEq9fSvXBqtp2wu8/FxEf5AxapAD06pPGuLVUYLdgEzHR8wqRGYEwiUO9MyYbgswstuLYhwYFpSVKOdzAihZ9LuHtD598EGhINU9xc9xhL+QgTLAstmPIvvm2xyRw/WTUPXkP3ZHu6GyPmj5xFH9/QGpkglKXRVUBgVmLOJx8uZO2AstxQYocZH2JhORlxawj66BAXUEs7K/gPxINIRAFyK3WLuyq9oBTF9wEbnmCot82WjIg7CPNwYK3KrZMrKAz5yFszg4wCVLJVnIL8+OYA0xRDH8cHQjQUiQ2i1mr/be32k/3Xej9sdf3iuGvZHyLFSJvPSqz/wltnxumTJYKZsrWXtx/Rmu39jjV9lFaJttfFn57/No2h/unsJmMHbrnZ8csxkp5HQ4xR1s0HH+t3Iz82a3iQWTUDGq/+l2W3TUYLE8zNdL8Y+5oXaIH/Y2UUcX67cXeN4WvENZjz4+8q7vjhowOI3rSjFhGZ6KzwmU7+5nFV+kGWAZ5z2UWvzq0TK0pk1hPwAN4jbw//1CApRvIaIjhSGhioY6TUmsToek9cF9XjJdHvLPcyyCV3lbR5Jiz/ts46ay2F820VjTXvllElwrGzKcNSyvQlWDXdwrUINXmHorAM3fE19ngLZmgeUaCJLsSITf2VcfAOuWwX7mTPdP8Zb/04KqRniufCpwnDUk7sP0RX6cud/sanFMagnzKInSRVey0YzlVSOtA/AjrofmSH6RYbJQ8b4NDeTkIGc6247+Mnbez/qhJ9GAv9fGNFercPnnrf285Qgs+UqThLRgflcAKFuqWhLzZaR4QqvSwa3xe0LPkqj9xJWub195r7NrrR0e78FR+0mRBNMPsraqZctAUVAJfYKehTDV1MGGQSeDsOK9J3sbUuKRIS/WilX/64CBms9jCZocBlsBSZaIAjWm/SUZ8daWL2a/cJFyUOFqE3Epc2RWbtjNyPwOGpWtzu32kUooUqsJud7IV4E8rstUBXM7tGEtBx99x60g1duhyvxeKJSl8s5E34HTMmADT0836aEdg5Dv9rVyCz8i2REOmiz6wtIVFN0HsjAoN37SrY0bV1Ms8CRUILhvZvvRaDzoVCaSI0u8EPuTe4b7OPowgRGODl22UBBmHSTUY8e4DyL+Bc7bngo+2T8HtNvzyATSL5iJZgFPKpmUyZv54vVL90+/RQGATUmNKnrIvcJMYON9fl83naW5sf6hRkbbTC9RUEE6XADwjgA46wWfUQ+QWZl0J4PVTWAln/YfAz/SV3q3J9+yCYDleruoN5uoc/wT2f4YONGTb6zTGq3V+3JqzmCOjwebKln+fExVLN7sqtqfMnsKVXWbb2Ai5m3D/fCTgX7oKYzTZvj+m28XnDqPbXuP4MyWdmPezcesdrh7rCzA7BWdObiuyDEKjjzBbQ0qnuwjliz+b+j7aPMKlkXyIznV3tGzAfYwIbzGGt098oh4eq3ruDjdgHtjxfFCjHrjjRbHajoz/YOY4raojPFQ910GIlBV7hq47UDgpyajBxQUmD8NctiLV1rTSLAEsQDLTeRKcmPBMVMFF0SPBBhZ5oXoxtD3lMhuAQXmA+57OcciczVW9e9zwSIAHS+FJmvfXMJGF1dMBsIUMaPjvgaVqUc3p32qVCMQYFEiRLzlVSOGMCmv/HJIxAHe3mL/XnoZ1IkWLeRZfgyByjnDbbeRK5KL7bYHSVJZ9UFq+yCiNKeRUaYjgbC3hVUvfJAhy/QNl/JqLKVvGMk9ZcfyGidNeo/VTxK9vUpodzfQI9Z2eAre4nmrkzgxKSnT5IJ1D69oHuUS5hp7pK9IAWuNrAOtOH0mAuwCrY8mXAtVXUeaNK3OXr6PRvmWg4VQqFSy+a1GZfFYgdsJELG8N0kvqmzvwZ02Plf5fH9QTy6br0oY/IDsEA+GBf9pEVWCIuBCjsup3LDSDqI+5+0IKSUFr7A96A2f0FbcU9fqljdqvsd8sG55KcKloHIFZem2Wb6pCLXybnVSB0sjCXzdS8IKvE");const MO=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),FO=4;function FG(t){return t.toString(16).toUpperCase().padStart(2,"0")}function CL(t){return`{${FG(t)}}`}function UG(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function f0(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}var M2=SL("AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g");function dp(t){return t>>24&255}function NL(t){return t&16777215}const BG=new Map(IL(M2).flatMap((t,e)=>t.map(n=>[n,e+1<<24]))),jG=new Set(cu(M2)),kL=new Map,kI=new Map;for(let[t,e]of TL(M2)){if(!jG.has(t)&&e.length==2){let[n,r]=e,i=kI.get(n);i||(i=new Map,kI.set(n,i)),i.set(r,t)}kL.set(t,e.reverse())}const h0=44032,Rv=4352,Lv=4449,Mv=4519,OL=19,PL=21,Eh=28,Fv=PL*Eh,VG=OL*Fv,$G=h0+VG,HG=Rv+OL,zG=Lv+PL,GG=Mv+Eh;function DL(t){return t>=h0&&t<$G}function qG(t,e){if(t>=Rv&&t<HG&&e>=Lv&&e<zG)return h0+(t-Rv)*Fv+(e-Lv)*Eh;if(DL(t)&&e>Mv&&e<GG&&(t-h0)%Eh==0)return t+(e-Mv);{let n=kI.get(t);return n&&(n=n.get(e),n)?n:-1}}function _L(t){let e=[],n=[],r=!1;function i(s){let a=BG.get(s);a&&(r=!0,s|=a),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(DL(s)){let a=s-h0,c=a/Fv|0,l=a%Fv/Eh|0,h=a%Eh;i(Rv+c),i(Lv+l),h>0&&i(Mv+h)}else{let a=kL.get(s);a?n.push(...a):i(s)}if(!n.length)break;s=n.pop()}if(r&&e.length>1){let s=dp(e[0]);for(let a=1;a<e.length;a++){let c=dp(e[a]);if(c==0||s<=c){s=c;continue}let l=a-1;for(;;){let h=e[l+1];if(e[l+1]=e[l],e[l]=h,!l||(s=dp(e[--l]),s<=c))break}s=dp(e[a])}}return e}function KG(t){let e=[],n=[],r=-1,i=0;for(let s of t){let a=dp(s),c=NL(s);if(r==-1)a==0?r=c:e.push(c);else if(i>0&&i>=a)a==0?(e.push(r,...n),n.length=0,r=c):n.push(c),i=a;else{let l=qG(r,c);l>=0?r=l:i==0&&a==0?(e.push(r),r=c):(n.push(c),i=a)}}return r>=0&&e.push(r,...n),e}function RL(t){return _L(t).map(NL)}function QG(t){return KG(_L(t))}const OI=65039,LL=".",ML=1,UO=45;function Kh(){return new Set(cu(oi))}const WG=new Map(TL(oi)),JG=Kh(),Uv=Kh(),BO=new Set(cu(oi).map(function(t){return this[t]},[...Uv])),YG=Kh();Kh();const XG=IL(oi);function jO(){return new Set([cu(oi).map(t=>XG[t]),cu(oi)].flat(2))}const ZG=oi(),d0=l0(t=>{let e=l0(oi).map(n=>n+96);if(e.length){let n=t>=ZG;e[0]-=32,e=f0(e),n&&(e=`Restricted[${e}]`);let r=jO(),i=jO(),s=[...r,...i].sort((c,l)=>c-l),a=!oi();return{N:e,P:r,M:a,R:n,V:new Set(s)}}}),VO=Kh(),p0=new Map;[...VO,...Kh()].sort((t,e)=>t-e).map((t,e,n)=>{let r=oi(),i=n[e]=r?n[e-r]:{V:[],M:new Map};i.V.push(t),VO.has(t)||p0.set(t,i)});for(let{V:t,M:e}of new Set(p0.values())){let n=[];for(let i of t){let s=d0.filter(c=>c.V.has(i)),a=n.find(({G:c})=>s.some(l=>c.has(l)));a||(a={G:new Set,V:[]},n.push(a)),a.V.push(i),s.forEach(c=>a.G.add(c))}let r=n.flatMap(({G:i})=>[...i]);for(let{G:i,V:s}of n){let a=new Set(r.filter(c=>!i.has(c)));for(let c of s)e.set(c,a)}}let g0=new Set,FL=new Set;for(let t of d0)for(let e of t.V)(g0.has(e)?FL:g0).add(e);for(let t of g0)!p0.has(t)&&!FL.has(t)&&p0.set(t,ML);const eq=new Set([...g0,...RL(g0)]),tq=cu(oi),nq=UL([]);function UL(t){let e=l0(()=>{let c=cu(oi).map(l=>tq[l]);if(c.length)return UL(c)}).sort((c,l)=>l.Q.size-c.Q.size),n=oi(),r=n%3;n=n/3|0;let i=n&1;n>>=1;let s=n&1,a=n&2;return{B:e,V:r,F:i,S:s,C:a,Q:new Set(t)}}class rq extends Array{get is_emoji(){return!0}}function Qw(t,e=CL){let n=[];sq(t[0])&&n.push("");let r=0,i=t.length;for(let s=0;s<i;s++){let a=t[s];BL(a)&&(n.push(f0(t.slice(r,s))),n.push(e(a)),r=s+1)}return n.push(f0(t.slice(r,i))),n.join("")}function F2(t){return(BL(t)?"":`${U2(Qw([t]))} `)+CL(t)}function U2(t){return`"${t}"`}function iq(t){if(t.length>=4&&t[2]==UO&&t[3]==UO)throw new Error("invalid label extension")}function $O(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function oq(t){let e=t[0],n=MO.get(e);if(n)throw Op(`leading ${n}`);let r=t.length,i=-1;for(let s=1;s<r;s++){e=t[s];let a=MO.get(e);if(a){if(i==s)throw Op(`${n} + ${a}`);i=s+1,n=a}}if(i==r)throw Op(`trailing ${n}`)}function sq(t){return Uv.has(t)}function BL(t){return YG.has(t)}function aq(t){return fq(uq(t))}function uq(t,e){let n=0;return t.split(LL).map(r=>{let i=UG(r),s={input:i,offset:n};n+=i.length+1;let a;try{let c=s.tokens=dq(i,QG),l=c.length,h;if(l){let p=c[0],g=l>1||p.is_emoji;if(!g&&p.every(y=>y<128))a=p,$O(a),iq(a),h="ASCII";else if(g&&(s.emoji=!0,p=c.flatMap(y=>y.is_emoji?[]:y)),a=c.flatMap(y=>!e&&y.is_emoji?pq(y):y),$O(a),!p.length)h="Emoji";else{if(Uv.has(a[0]))throw Op("leading combining mark");for(let E=1;E<l;E++){let I=c[E];if(!I.is_emoji&&Uv.has(I[0]))throw Op(`emoji + combining mark: "${f0(c[E-1])} + ${Qw([I[0]])}"`)}oq(a);let y=[...new Set(p)],[w]=lq(y);hq(w,p),cq(w,y),h=w.N}}else throw new Error("empty label");s.type=h}catch(c){s.error=c}return s.output=a,s})}function cq(t,e){let n,r=[];for(let i of e){let s=p0.get(i);if(s===ML)return;if(s){let a=s.M.get(i);if(n=n?n.filter(c=>a.has(c)):[...a],!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(s=>i.V.has(s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function lq(t){let e=d0;for(let n of t){let r=e.filter(i=>i.V.has(n));if(!r.length)throw e===d0?jL(n):VL(e[0],n);if(e=r,r.length==1)break}return e}function fq(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${U2(Qw(e))}: ${i}`)}return f0(r)}).join(LL)}function jL(t){return new Error(`disallowed character: ${F2(t)}`)}function VL(t,e){let n=F2(e),r=d0.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function Op(t){return new Error(`illegal placement: ${t}`)}function hq(t,e){let{V:n,M:r}=t;for(let i of e)if(!n.has(i))throw VL(t,i);if(r){let i=RL(e);for(let s=1,a=i.length;s<a;s++)if(BO.has(i[s])){let c=s+1;for(let l;c<a&&BO.has(l=i[c]);c++)for(let h=s;h<c;h++)if(i[h]==l)throw new Error(`non-spacing marks: repeated ${F2(l)}`);if(c-s>FO)throw new Error(`non-spacing marks: too many ${U2(Qw(i.slice(s-1,c)))} (${c-s}/${FO})`);s=c}}}function dq(t,e){let n=[],r=[];for(t=t.slice().reverse();t.length;){let i=gq(t);if(i)r.length&&(n.push(e(r)),r=[]),n.push(i);else{let s=t.pop();if(eq.has(s))r.push(s);else{let a=WG.get(s);if(a)r.push(...a);else if(!JG.has(s))throw jL(s)}}}return r.length&&n.push(e(r)),n}function pq(t){return t.filter(e=>e!=OI)}function gq(t,e){let n=nq,r,i,s=[],a=t.length;for(e&&(e.length=0);a;){let c=t[--a];if(n=n.B.find(l=>l.Q.has(c)),!n)break;if(n.S)i=c;else if(n.C&&c===i)break;s.push(c),n.F&&(s.push(OI),a>0&&t[a-1]==OI&&a--),n.V&&(r=mq(s,n),e&&e.push(...t.slice(a).reverse()),t.length=a)}return r}function mq(t,e){let n=rq.from(t);return e.V==2&&n.splice(1,1),n}const $L=new Uint8Array(32);$L.fill(0);function HO(t){return M(t.length!==0,"invalid ENS name; empty component","comp",t),t}function HL(t){const e=Os(yq(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(HO(e.slice(r,i))),r=i+1);return M(r<e.length,"invalid ENS name; empty component","name",t),n.push(HO(e.slice(r))),n}function yq(t){try{return aq(t)}catch(e){M(!1,`invalid ENS name (${e.message})`,"name",t)}}function PI(t){M(typeof t=="string","invalid ENS name; not a string","name",t);let e=$L;const n=HL(t);for(;n.length;)e=Lt(rn([e,Lt(n.pop())]));return me(e)}function vq(t){return me(rn(HL(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const n=new Uint8Array(e.length+1);return n.set(e,1),n[0]=n.length-1,n})))+"00"}function HA(t,e){return{address:et(t),storageKeys:e.map((n,r)=>(M(Mt(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function el(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(M(n.length===2,"invalid slot set",`value[${r}]`,n),HA(n[0],n[1])):(M(n!=null&&typeof n=="object","invalid address-slot set","value",t),HA(n.address,n.storageKeys)));M(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,s)=>(i[s]=!0,i),{});return HA(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function wq(t){let e;return typeof t=="string"?e=c0.computePublicKey(t,!1):e=t.publicKey,et(Lt("0x"+e.substring(4)).substring(26))}function bq(t,e){return wq(c0.recoverPublicKey(t,e))}const Sr=BigInt(0),Eq=BigInt(2),Aq=BigInt(27),Sq=BigInt(28),Iq=BigInt(35),Tq=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function B2(t){return t==="0x"?null:et(t)}function zL(t,e){try{return el(t)}catch(n){M(!1,n.message,e,t)}}function Ww(t,e){return t==="0x"?0:_e(t,e)}function or(t,e){if(t==="0x")return Sr;const n=be(t,e);return M(n<=Tq,"value exceeds uint size",e,n),n}function Cn(t,e){const n=be(t,"value"),r=Zr(n);return M(r.length<=32,"value too large",`tx.${e}`,n),r}function GL(t){return el(t).map(e=>[e.address,e.storageKeys])}function xq(t){const e=_2(t);M(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:Ww(e[0],"nonce"),gasPrice:or(e[1],"gasPrice"),gasLimit:or(e[2],"gasLimit"),to:B2(e[3]),value:or(e[4],"value"),data:me(e[5]),chainId:Sr};if(e.length===6)return n;const r=or(e[6],"v"),i=or(e[7],"r"),s=or(e[8],"s");if(i===Sr&&s===Sr)n.chainId=r;else{let a=(r-Iq)/Eq;a<Sr&&(a=Sr),n.chainId=a,M(a!==Sr||r===Aq||r===Sq,"non-canonical legacy v","v",e[6]),n.signature=ho.from({r:Fc(e[7],32),s:Fc(e[8],32),v:r}),n.hash=Lt(t)}return n}function zO(t,e){const n=[Cn(t.nonce||0,"nonce"),Cn(t.gasPrice||0,"gasPrice"),Cn(t.gasLimit||0,"gasLimit"),t.to!=null?et(t.to):"0x",Cn(t.value||0,"value"),t.data||"0x"];let r=Sr;if(t.chainId!=Sr)r=be(t.chainId,"tx.chainId"),M(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const s=t.signature.legacyChainId;s!=null&&(r=s)}if(!e)return r!==Sr&&(n.push(Zr(r)),n.push("0x"),n.push("0x")),o0(n);let i=BigInt(27+e.yParity);return r!==Sr?i=ho.getChainIdV(r,e.v):BigInt(e.v)!==i&&M(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(Zr(i)),n.push(Zr(e.r)),n.push(Zr(e.s)),o0(n)}function qL(t,e){let n;try{if(n=Ww(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{M(!1,"invalid yParity","yParity",e[0])}const r=Fc(e[1],32),i=Fc(e[2],32),s=ho.from({r,s:i,yParity:n});t.signature=s}function Cq(t){const e=_2(ze(t).slice(1));M(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",me(t));const n=or(e[2],"maxPriorityFeePerGas"),r=or(e[3],"maxFeePerGas"),i={type:2,chainId:or(e[0],"chainId"),nonce:Ww(e[1],"nonce"),maxPriorityFeePerGas:n,maxFeePerGas:r,gasPrice:null,gasLimit:or(e[4],"gasLimit"),to:B2(e[5]),value:or(e[6],"value"),data:me(e[7]),accessList:zL(e[8],"accessList")};return e.length===9||(i.hash=Lt(t),qL(i,e.slice(9))),i}function GO(t,e){const n=[Cn(t.chainId||0,"chainId"),Cn(t.nonce||0,"nonce"),Cn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Cn(t.maxFeePerGas||0,"maxFeePerGas"),Cn(t.gasLimit||0,"gasLimit"),t.to!=null?et(t.to):"0x",Cn(t.value||0,"value"),t.data||"0x",GL(t.accessList||[])];return e&&(n.push(Cn(e.yParity,"yParity")),n.push(Zr(e.r)),n.push(Zr(e.s))),rn(["0x02",o0(n)])}function Nq(t){const e=_2(ze(t).slice(1));M(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",me(t));const n={type:1,chainId:or(e[0],"chainId"),nonce:Ww(e[1],"nonce"),gasPrice:or(e[2],"gasPrice"),gasLimit:or(e[3],"gasLimit"),to:B2(e[4]),value:or(e[5],"value"),data:me(e[6]),accessList:zL(e[7],"accessList")};return e.length===8||(n.hash=Lt(t),qL(n,e.slice(8))),n}function qO(t,e){const n=[Cn(t.chainId||0,"chainId"),Cn(t.nonce||0,"nonce"),Cn(t.gasPrice||0,"gasPrice"),Cn(t.gasLimit||0,"gasLimit"),t.to!=null?et(t.to):"0x",Cn(t.value||0,"value"),t.data||"0x",GL(t.accessList||[])];return e&&(n.push(Cn(e.yParity,"recoveryParam")),n.push(Zr(e.r)),n.push(Zr(e.s))),rn(["0x01",o0(n)])}var gs,Ff,Uf,Bf,jf,Vf,$f,Hf,zf,Gf,qf,Kf;const ya=class ya{constructor(){j(this,gs,void 0);j(this,Ff,void 0);j(this,Uf,void 0);j(this,Bf,void 0);j(this,jf,void 0);j(this,Vf,void 0);j(this,$f,void 0);j(this,Hf,void 0);j(this,zf,void 0);j(this,Gf,void 0);j(this,qf,void 0);j(this,Kf,void 0);P(this,gs,null),P(this,Ff,null),P(this,Bf,0),P(this,jf,BigInt(0)),P(this,Vf,null),P(this,$f,null),P(this,Hf,null),P(this,Uf,"0x"),P(this,zf,BigInt(0)),P(this,Gf,BigInt(0)),P(this,qf,null),P(this,Kf,null)}get type(){return b(this,gs)}set type(e){switch(e){case null:P(this,gs,null);break;case 0:case"legacy":P(this,gs,0);break;case 1:case"berlin":case"eip-2930":P(this,gs,1);break;case 2:case"london":case"eip-1559":P(this,gs,2);break;default:M(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559"}return null}get to(){return b(this,Ff)}set to(e){P(this,Ff,e==null?null:et(e))}get nonce(){return b(this,Bf)}set nonce(e){P(this,Bf,_e(e,"value"))}get gasLimit(){return b(this,jf)}set gasLimit(e){P(this,jf,be(e))}get gasPrice(){const e=b(this,Vf);return e==null&&(this.type===0||this.type===1)?Sr:e}set gasPrice(e){P(this,Vf,e==null?null:be(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=b(this,$f);return e??(this.type===2?Sr:null)}set maxPriorityFeePerGas(e){P(this,$f,e==null?null:be(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=b(this,Hf);return e??(this.type===2?Sr:null)}set maxFeePerGas(e){P(this,Hf,e==null?null:be(e,"maxFeePerGas"))}get data(){return b(this,Uf)}set data(e){P(this,Uf,me(e))}get value(){return b(this,zf)}set value(e){P(this,zf,be(e,"value"))}get chainId(){return b(this,Gf)}set chainId(e){P(this,Gf,be(e))}get signature(){return b(this,qf)||null}set signature(e){P(this,qf,e==null?null:ho.from(e))}get accessList(){const e=b(this,Kf)||null;return e??(this.type===1||this.type===2?[]:null)}set accessList(e){P(this,Kf,e==null?null:el(e))}get hash(){return this.signature==null?null:Lt(this.serialized)}get unsignedHash(){return Lt(this.unsignedSerialized)}get from(){return this.signature==null?null:bq(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:c0.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){switch(K(this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return zO(this,this.signature);case 1:return qO(this,this.signature);case 2:return GO(this,this.signature)}K(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return zO(this);case 1:return qO(this);case 2:return GO(this)}K(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){return this.inferTypes().pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&K(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),K(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),K(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):n?i.push(2):e?(i.push(1),r||i.push(0)):r?(i.push(1),i.push(2)):(i.push(0),i.push(1),i.push(2)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}clone(){return ya.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new ya;if(typeof e=="string"){const r=ze(e);if(r[0]>=127)return ya.from(xq(r));switch(r[0]){case 1:return ya.from(Nq(r));case 2:return ya.from(Cq(r))}K(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new ya;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=ho.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.hash!=null&&(M(n.isSigned(),"unsigned transaction cannot define hash","tx",e),M(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(M(n.isSigned(),"unsigned transaction cannot define from","tx",e),M(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}};gs=new WeakMap,Ff=new WeakMap,Uf=new WeakMap,Bf=new WeakMap,jf=new WeakMap,Vf=new WeakMap,$f=new WeakMap,Hf=new WeakMap,zf=new WeakMap,Gf=new WeakMap,qf=new WeakMap,Kf=new WeakMap;let Bv=ya;const KL=new Uint8Array(32);KL.fill(0);const kq=BigInt(-1),QL=BigInt(0),WL=BigInt(1),Oq=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Pq(t){const e=ze(t),n=e.length%32;return n?rn([e,KL.slice(n)]):me(e)}const Dq=au(WL,32),_q=au(QL,32),KO={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},zA=["name","version","chainId","verifyingContract","salt"];function QO(t){return function(e){return M(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Rq={name:QO("name"),version:QO("version"),chainId:function(t){const e=be(t,"domain.chainId");return M(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):sf(e)},verifyingContract:function(t){try{return et(t).toLowerCase()}catch{}M(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=ze(t,"domain.salt");return M(e.length===32,'invalid domain value "salt"',"domain.salt",t),me(e)}};function GA(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const n=e[1]==="",r=parseInt(e[2]||"256");M(r%8===0&&r!==0&&r<=256&&(e[2]==null||e[2]===String(r)),"invalid numeric width","type",t);const i=ec(Oq,n?r-1:r),s=n?(i+WL)*kq:QL;return function(a){const c=be(a,"value");return M(c>=s&&c<=i,`value out-of-bounds for ${t}`,"value",c),au(n?G8(c,256):c,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return M(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const i=ze(r);return M(i.length===n,`invalid length for ${t}`,"value",r),Pq(r)}}}switch(t){case"address":return function(e){return Fc(et(e),32)};case"bool":return function(e){return e?Dq:_q};case"bytes":return function(e){return Lt(e)};case"string":return function(e){return Uc(e)}}return null}function WO(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}var q0,ms,Qf,bw,JL;const vi=class vi{constructor(e){j(this,bw);B(this,"primaryType");j(this,q0,void 0);j(this,ms,void 0);j(this,Qf,void 0);P(this,q0,JSON.stringify(e)),P(this,ms,new Map),P(this,Qf,new Map);const n=new Map,r=new Map,i=new Map;Object.keys(e).forEach(c=>{n.set(c,new Set),r.set(c,[]),i.set(c,new Set)});for(const c in e){const l=new Set;for(const h of e[c]){M(!l.has(h.name),`duplicate variable name ${JSON.stringify(h.name)} in ${JSON.stringify(c)}`,"types",e),l.add(h.name);const p=h.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;M(p!==c,`circular type reference to ${JSON.stringify(p)}`,"types",e),!GA(p)&&(M(r.has(p),`unknown type ${JSON.stringify(p)}`,"types",e),r.get(p).push(c),n.get(c).add(p))}}const s=Array.from(r.keys()).filter(c=>r.get(c).length===0);M(s.length!==0,"missing primary type","types",e),M(s.length===1,`ambiguous primary types or unused types: ${s.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),Se(this,{primaryType:s[0]});function a(c,l){M(!l.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),l.add(c);for(const h of n.get(c))if(r.has(h)){a(h,l);for(const p of l)i.get(p).add(h)}l.delete(c)}a(this.primaryType,new Set);for(const[c,l]of i){const h=Array.from(l);h.sort(),b(this,ms).set(c,WO(c,e[c])+h.map(p=>WO(p,e[p])).join(""))}}get types(){return JSON.parse(b(this,q0))}getEncoder(e){let n=b(this,Qf).get(e);return n||(n=ee(this,bw,JL).call(this,e),b(this,Qf).set(e,n)),n}encodeType(e){const n=b(this,ms).get(e);return M(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return Lt(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(GA(e))return r(e,n);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i)return M(!i[3]||parseInt(i[3])===n.length,`array length mismatch; expected length ${parseInt(i[3])}`,"value",n),n.map(a=>this._visit(i[1],a,r));const s=this.types[e];if(s)return s.reduce((a,{name:c,type:l})=>(a[c]=this._visit(l,n[c],r),a),{});M(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new vi(e)}static getPrimaryType(e){return vi.from(e).primaryType}static hashStruct(e,n,r){return vi.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const i=KO[r];M(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>zA.indexOf(r.name)-zA.indexOf(i.name)),vi.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return rn(["0x1901",vi.hashDomain(e),vi.from(n).hash(r)])}static hash(e,n,r){return Lt(vi.encode(e,n,r))}static async resolveNames(e,n,r,i){e=Object.assign({},e);for(const c in e)e[c]==null&&delete e[c];const s={};e.verifyingContract&&!Mt(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const a=vi.from(n);a.visit(r,(c,l)=>(c==="address"&&!Mt(l,20)&&(s[l]="0x"),l));for(const c in s)s[c]=await i(c);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=a.visit(r,(c,l)=>c==="address"&&s[l]?s[l]:l),{domain:e,value:r}}static getPayload(e,n,r){vi.hashDomain(e);const i={},s=[];zA.forEach(l=>{const h=e[l];h!=null&&(i[l]=Rq[l](h),s.push({name:l,type:KO[l]}))});const a=vi.from(n),c=Object.assign({},n);return M(c.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),c.EIP712Domain=s,a.encode(r),{types:c,domain:i,primaryType:a.primaryType,message:a.visit(r,(l,h)=>{if(l.match(/^bytes(\d*)/))return me(ze(h));if(l.match(/^u?int/))return be(h).toString();switch(l){case"address":return h.toLowerCase();case"bool":return!!h;case"string":return M(typeof h=="string","invalid string","value",h),h}M(!1,"unsupported type","type",l)})}}};q0=new WeakMap,ms=new WeakMap,Qf=new WeakMap,bw=new WeakSet,JL=function(e){{const i=GA(e);if(i)return i}const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const i=n[1],s=this.getEncoder(i);return a=>{M(!n[3]||parseInt(n[3])===a.length,`array length mismatch; expected length ${parseInt(n[3])}`,"value",a);let c=a.map(s);return b(this,ms).has(i)&&(c=c.map(Lt)),Lt(rn(c))}}const r=this.types[e];if(r){const i=Uc(b(this,ms).get(e));return s=>{const a=r.map(({name:c,type:l})=>{const h=this.getEncoder(l)(s[c]);return b(this,ms).has(l)?Lt(h):h});return a.unshift(i),rn(a)}}M(!1,`unknown type: ${e}`,"type",e)};let jv=vi;function cr(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const Lq="external public payable",Mq=cr(Lq.split(" ")),YL="constant external internal payable private public pure view",Fq=cr(YL.split(" ")),XL="constructor error event fallback function receive struct",ZL=cr(XL.split(" ")),e3="calldata memory storage payable indexed",Uq=cr(e3.split(" ")),Bq="tuple returns",jq=[XL,e3,Bq,YL].join(" "),Vq=cr(jq.split(" ")),$q={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Hq=new RegExp("^(\\s*)"),zq=new RegExp("^([0-9]+)"),Gq=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),t3=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),n3=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Tn,eo,K0,DI;const Ew=class Ew{constructor(e){j(this,K0);j(this,Tn,void 0);j(this,eo,void 0);P(this,Tn,0),P(this,eo,e.slice())}get offset(){return b(this,Tn)}get length(){return b(this,eo).length-b(this,Tn)}clone(){return new Ew(b(this,eo))}reset(){P(this,Tn,0)}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e)throw new Error(`expected ${e}; got ${JSON.stringify(this.peek())}`);return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=ee(this,K0,DI).call(this,b(this,Tn)+1,e.match+1);return P(this,Tn,e.match+1),n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;b(this,Tn)<e.match-1;){const r=this.peek().linkNext;n.push(ee(this,K0,DI).call(this,b(this,Tn)+1,r)),P(this,Tn,r)}return P(this,Tn,e.match+1),n}peek(){if(b(this,Tn)>=b(this,eo).length)throw new Error("out-of-bounds");return b(this,eo)[b(this,Tn)]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return qd(this,Tn)._++,e}toString(){const e=[];for(let n=b(this,Tn);n<b(this,eo).length;n++){const r=b(this,eo)[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};Tn=new WeakMap,eo=new WeakMap,K0=new WeakSet,DI=function(e=0,n=0){return new Ew(b(this,eo).slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let po=Ew;function mu(t){const e=[],n=a=>{const c=s<t.length?JSON.stringify(t[s]):"$EOI";throw new Error(`invalid token ${c} at ${s}: ${a}`)};let r=[],i=[],s=0;for(;s<t.length;){let a=t.substring(s),c=a.match(Hq);c&&(s+=c[1].length,a=t.substring(s));const l={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(l);let h=$q[a[0]]||"";if(h){if(l.type=h,l.text=a[0],s++,h==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(h=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),l.match=r.pop(),e[l.match].match=e.length-1,l.depth--,l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1;else if(h==="COMMA")l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(h==="OPEN_BRACKET")l.type="BRACKET";else if(h==="CLOSE_BRACKET"){let p=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const g=e.pop().text;p=g+p,e[e.length-1].value=_e(g)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=p}continue}if(c=a.match(Gq),c){if(l.text=c[1],s+=l.text.length,Vq.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(n3)){l.type="TYPE";continue}l.type="ID";continue}if(c=a.match(zq),c){l.text=c[1],l.type="NUMBER",s+=l.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(a[0])} at position ${s}`)}return new po(e.map(a=>Object.freeze(a)))}function JO(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function Jw(t,e){if(e.peekKeyword(ZL)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function Bs(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function r3(t){let e=Bs(t,Fq);return JO(e,cr("constant payable nonpayable".split(" "))),JO(e,cr("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Ps(t,e){return t.popParams().map(n=>On.from(n,e))}function i3(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return be(t.pop().text);throw new Error("invalid gas")}return null}function Bc(t){if(t.length)throw new Error(`unexpected tokens: ${t.toString()}`)}const qq=new RegExp(/^(.*)\[([0-9]*)\]$/);function YO(t){const e=t.match(n3);if(M(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);M(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);M(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const _t={},Rr=Symbol.for("_ethers_internal"),XO="_ParamTypeInternal",ZO="_ErrorInternal",eP="_EventInternal",tP="_ConstructorInternal",nP="_FallbackInternal",rP="_FunctionInternal",iP="_StructInternal";var Wf,By;const wi=class wi{constructor(e,n,r,i,s,a,c,l){j(this,Wf);B(this,"name");B(this,"type");B(this,"baseType");B(this,"indexed");B(this,"components");B(this,"arrayLength");B(this,"arrayChildren");if(hg(e,_t,"ParamType"),Object.defineProperty(this,Rr,{value:XO}),a&&(a=Object.freeze(a.slice())),i==="array"){if(c==null||l==null)throw new Error("")}else if(c!=null||l!=null)throw new Error("");if(i==="tuple"){if(a==null)throw new Error("")}else if(a!=null)throw new Error("");Se(this,{name:n,type:r,baseType:i,indexed:s,components:a,arrayLength:c,arrayChildren:l})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const s=JSON.parse(this.arrayChildren.format("json"));return s.name=r,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(i)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?(e!=="sighash"&&(n+=this.type),n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")"):n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(i=>r.arrayChildren.walk(i,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((i,s)=>r.components[s].walk(i,n))}return n(this.type,e)}async walkAsync(e,n){const r=[],i=[e];return ee(this,Wf,By).call(this,r,e,n,s=>{i[0]=s}),r.length&&await Promise.all(r),i[0]}static from(e,n){if(wi.isParamType(e))return e;if(typeof e=="string")try{return wi.from(mu(e),n)}catch{M(!1,"invalid param type","obj",e)}else if(e instanceof po){let c="",l="",h=null;Bs(e,cr(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(l="tuple",h=e.popParams().map(I=>wi.from(I)),c=`tuple(${h.map(I=>I.format()).join(",")})`):(c=YO(e.popType("TYPE")),l=c);let p=null,g=null;for(;e.length&&e.peekType("BRACKET");){const I=e.pop();p=new wi(_t,"",c,l,null,h,g,p),g=I.value,c+=I.text,l="array",h=null}let y=null;if(Bs(e,Uq).has("indexed")){if(!n)throw new Error("");y=!0}const E=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new wi(_t,E,c,l,y,h,g,p)}const r=e.name;M(!r||typeof r=="string"&&r.match(t3),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(M(n,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let s=e.type,a=s.match(qq);if(a){const c=parseInt(a[2]||"-1"),l=wi.from({type:a[1],components:e.components});return new wi(_t,r||"",s,"array",i,null,c,l)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const c=e.components!=null?e.components.map(h=>wi.from(h)):null;return new wi(_t,r||"",s,"tuple",i,c,null,null)}return s=YO(e.type),new wi(_t,r||"",s,s,i,null,null,null)}static isParamType(e){return e&&e[Rr]===XO}};Wf=new WeakSet,By=function(e,n,r,i){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const a=this.arrayChildren,c=n.slice();c.forEach((l,h)=>{var p;ee(p=a,Wf,By).call(p,e,l,r,g=>{c[h]=g})}),i(c);return}if(this.isTuple()){const a=this.components;let c;if(Array.isArray(n))c=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");c=a.map(l=>{if(!l.name)throw new Error("cannot use object value with unnamed components");if(!(l.name in n))throw new Error(`missing value for component ${l.name}`);return n[l.name]})}if(c.length!==this.components.length)throw new Error("array is wrong length");c.forEach((l,h)=>{var p;ee(p=a[h],Wf,By).call(p,e,l,r,g=>{c[h]=g})}),i(c);return}const s=r(this.type,n);s.then?e.push(async function(){i(await s)}()):i(s)};let On=wi;class jc{constructor(e,n,r){B(this,"type");B(this,"inputs");hg(e,_t,"Fragment"),r=Object.freeze(r.slice()),Se(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{jc.from(JSON.parse(e))}catch{}return jc.from(mu(e))}if(e instanceof po)switch(e.peekKeyword(ZL)){case"constructor":return Ts.from(e);case"error":return Ir.from(e);case"event":return Bo.from(e);case"fallback":case"receive":return us.from(e);case"function":return jo.from(e);case"struct":return Nc.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Ts.from(e);case"error":return Ir.from(e);case"event":return Bo.from(e);case"fallback":case"receive":return us.from(e);case"function":return jo.from(e);case"struct":return Nc.from(e)}K(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}M(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Ts.isFragment(e)}static isError(e){return Ir.isFragment(e)}static isEvent(e){return Bo.isFragment(e)}static isFunction(e){return jo.isFragment(e)}static isStruct(e){return Nc.isFragment(e)}}class Yw extends jc{constructor(n,r,i,s){super(n,r,s);B(this,"name");M(typeof i=="string"&&i.match(t3),"invalid identifier","name",i),s=Object.freeze(s.slice()),Se(this,{name:i})}}function m0(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class Ir extends Yw{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,Rr,{value:ZO})}get selector(){return Uc(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+m0(e,this.inputs)),n.join(" ")}static from(e){if(Ir.isFragment(e))return e;if(typeof e=="string")return Ir.from(mu(e));if(e instanceof po){const n=Jw("error",e),r=Ps(e);return Bc(e),new Ir(_t,n,r)}return new Ir(_t,e.name,e.inputs?e.inputs.map(On.from):[])}static isFragment(e){return e&&e[Rr]===ZO}}class Bo extends Yw{constructor(n,r,i,s){super(n,"event",r,i);B(this,"anonymous");Object.defineProperty(this,Rr,{value:eP}),Se(this,{anonymous:s})}get topicHash(){return Uc(this.format("sighash"))}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("event"),r.push(this.name+m0(n,this.inputs)),n!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(n,r){return r=(r||[]).map(s=>On.from(s)),new Bo(_t,n,r,!1).topicHash}static from(n){if(Bo.isFragment(n))return n;if(typeof n=="string")try{return Bo.from(mu(n))}catch{M(!1,"invalid event fragment","obj",n)}else if(n instanceof po){const r=Jw("event",n),i=Ps(n,!0),s=!!Bs(n,cr(["anonymous"])).has("anonymous");return Bc(n),new Bo(_t,r,i,s)}return new Bo(_t,n.name,n.inputs?n.inputs.map(r=>On.from(r,!0)):[],!!n.anonymous)}static isFragment(n){return n&&n[Rr]===eP}}class Ts extends jc{constructor(n,r,i,s,a){super(n,r,i);B(this,"payable");B(this,"gas");Object.defineProperty(this,Rr,{value:tP}),Se(this,{payable:s,gas:a})}format(n){if(K(n!=null&&n!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),n==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[`constructor${m0(n,this.inputs)}`];return r.push(this.payable?"payable":"nonpayable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(n){if(Ts.isFragment(n))return n;if(typeof n=="string")try{return Ts.from(mu(n))}catch{M(!1,"invalid constuctor fragment","obj",n)}else if(n instanceof po){Bs(n,cr(["constructor"]));const r=Ps(n),i=!!Bs(n,Mq).has("payable"),s=i3(n);return Bc(n),new Ts(_t,"constructor",r,i,s)}return new Ts(_t,"constructor",n.inputs?n.inputs.map(On.from):[],!!n.payable,n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[Rr]===tP}}class us extends jc{constructor(n,r,i){super(n,"fallback",r);B(this,"payable");Object.defineProperty(this,Rr,{value:nP}),Se(this,{payable:i})}format(n){const r=this.inputs.length===0?"receive":"fallback";if(n==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:i})}return`${r}()${this.payable?" payable":""}`}static from(n){if(us.isFragment(n))return n;if(typeof n=="string")try{return us.from(mu(n))}catch{M(!1,"invalid fallback fragment","obj",n)}else if(n instanceof po){const r=n.toString(),i=n.peekKeyword(cr(["fallback","receive"]));if(M(i,"type must be fallback or receive","obj",r),n.popKeyword(cr(["fallback","receive"]))==="receive"){const l=Ps(n);return M(l.length===0,"receive cannot have arguments","obj.inputs",l),Bs(n,cr(["payable"])),Bc(n),new us(_t,[],!0)}let a=Ps(n);a.length?M(a.length===1&&a[0].type==="bytes","invalid fallback inputs","obj.inputs",a.map(l=>l.format("minimal")).join(", ")):a=[On.from("bytes")];const c=r3(n);if(M(c==="nonpayable"||c==="payable","fallback cannot be constants","obj.stateMutability",c),Bs(n,cr(["returns"])).has("returns")){const l=Ps(n);M(l.length===1&&l[0].type==="bytes","invalid fallback outputs","obj.outputs",l.map(h=>h.format("minimal")).join(", "))}return Bc(n),new us(_t,a,c==="payable")}if(n.type==="receive")return new us(_t,[],!0);if(n.type==="fallback"){const r=[On.from("bytes")],i=n.stateMutability==="payable";return new us(_t,r,i)}M(!1,"invalid fallback description","obj",n)}static isFragment(n){return n&&n[Rr]===nP}}class jo extends Yw{constructor(n,r,i,s,a,c){super(n,"function",r,s);B(this,"constant");B(this,"outputs");B(this,"stateMutability");B(this,"payable");B(this,"gas");Object.defineProperty(this,Rr,{value:rP}),a=Object.freeze(a.slice()),Se(this,{constant:i==="view"||i==="pure",gas:c,outputs:a,payable:i==="payable",stateMutability:i})}get selector(){return Uc(this.format("sighash")).substring(0,10)}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n))),outputs:this.outputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("function"),r.push(this.name+m0(n,this.inputs)),n!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(m0(n,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(n,r){return r=(r||[]).map(s=>On.from(s)),new jo(_t,n,"view",r,[],null).selector}static from(n){if(jo.isFragment(n))return n;if(typeof n=="string")try{return jo.from(mu(n))}catch{M(!1,"invalid function fragment","obj",n)}else if(n instanceof po){const i=Jw("function",n),s=Ps(n),a=r3(n);let c=[];Bs(n,cr(["returns"])).has("returns")&&(c=Ps(n));const l=i3(n);return Bc(n),new jo(_t,i,a,s,c,l)}let r=n.stateMutability;return r==null&&(r="payable",typeof n.constant=="boolean"?(r="view",n.constant||(r="payable",typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable"))):typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable")),new jo(_t,n.name,r,n.inputs?n.inputs.map(On.from):[],n.outputs?n.outputs.map(On.from):[],n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[Rr]===rP}}class Nc extends Yw{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,Rr,{value:iP})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Nc.from(mu(e))}catch{M(!1,"invalid struct fragment","obj",e)}else if(e instanceof po){const n=Jw("struct",e),r=Ps(e);return Bc(e),new Nc(_t,n,r)}return new Nc(_t,e.name,e.inputs?e.inputs.map(On.from):[])}static isFragment(e){return e&&e[Rr]===iP}}const mo=new Map;mo.set(0,"GENERIC_PANIC");mo.set(1,"ASSERT_FALSE");mo.set(17,"OVERFLOW");mo.set(18,"DIVIDE_BY_ZERO");mo.set(33,"ENUM_RANGE_ERROR");mo.set(34,"BAD_STORAGE_DATA");mo.set(49,"STACK_UNDERFLOW");mo.set(50,"ARRAY_RANGE_ERROR");mo.set(65,"OUT_OF_MEMORY");mo.set(81,"UNINITIALIZED_FUNCTION_CALL");const Kq=new RegExp(/^bytes([0-9]*)$/),Qq=new RegExp(/^(u?int)([0-9]*)$/);let qA=null;function Wq(t,e,n,r){let i="missing revert data",s=null;const a=null;let c=null;if(n){i="execution reverted";const h=ze(n);if(n=me(n),h.length===0)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(h.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(me(h.slice(0,4))==="0x08c379a0")try{s=r.decode(["string"],h.slice(4))[0],c={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(me(h.slice(0,4))==="0x4e487b71")try{const p=Number(r.decode(["uint256"],h.slice(4))[0]);c={signature:"Panic(uint256)",name:"Panic",args:[p]},s=`Panic due to ${mo.get(p)||"UNKNOWN"}(${p})`,i+=`: ${s}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const l={to:e.to?et(e.to):null,data:e.data||"0x"};return e.from&&(l.from=et(e.from)),ln(i,"CALL_EXCEPTION",{action:t,data:n,reason:s,transaction:l,invocation:a,revert:c})}var Ca,jl;const Aw=class Aw{constructor(){j(this,Ca)}getDefaultValue(e){const n=e.map(i=>ee(this,Ca,jl).call(this,On.from(i)));return new ly(n,"_").defaultValue()}encode(e,n){$8(n.length,e.length,"types/values length mismatch");const r=e.map(a=>ee(this,Ca,jl).call(this,On.from(a))),i=new ly(r,"_"),s=new AI;return i.encode(s,n),s.data}decode(e,n,r){const i=e.map(a=>ee(this,Ca,jl).call(this,On.from(a)));return new ly(i,"_").decode(new SI(n,r))}static defaultAbiCoder(){return qA==null&&(qA=new Aw),qA}static getBuiltinCallException(e,n,r){return Wq(e,n,r,Aw.defaultAbiCoder())}};Ca=new WeakSet,jl=function(e){if(e.isArray())return new wG(ee(this,Ca,jl).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new ly(e.components.map(r=>ee(this,Ca,jl).call(this,r)),e.name);switch(e.baseType){case"address":return new yG(e.name);case"bool":return new bG(e.name);case"string":return new kG(e.name);case"bytes":return new EG(e.name);case"":return new IG(e.name)}let n=e.type.match(Qq);if(n){let r=parseInt(n[2]||"256");return M(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new NG(r/8,n[1]==="int",e.name)}if(n=e.type.match(Kq),n){let r=parseInt(n[1]);return M(r!==0&&r<=32,"invalid bytes length","param",e),new AG(r,e.name)}M(!1,"invalid type","type",e.type)};let y0=Aw;class Jq{constructor(e,n,r){B(this,"fragment");B(this,"name");B(this,"signature");B(this,"topic");B(this,"args");const i=e.name,s=e.format();Se(this,{fragment:e,name:i,signature:s,topic:n,args:r})}}class Yq{constructor(e,n,r,i){B(this,"fragment");B(this,"name");B(this,"args");B(this,"signature");B(this,"selector");B(this,"value");const s=e.name,a=e.format();Se(this,{fragment:e,name:s,args:r,signature:a,selector:n,value:i})}}class Xq{constructor(e,n,r){B(this,"fragment");B(this,"name");B(this,"args");B(this,"signature");B(this,"selector");const i=e.name,s=e.format();Se(this,{fragment:e,name:i,args:r,signature:s,selector:n})}}class oP{constructor(e){B(this,"hash");B(this,"_isIndexed");Se(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const sP={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},aP={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&sP[t.toString()]&&(e=sP[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var Do,_o,Ro,Bn,Jf,jy,Yf,Vy;const lf=class lf{constructor(e){j(this,Jf);j(this,Yf);B(this,"fragments");B(this,"deploy");B(this,"fallback");B(this,"receive");j(this,Do,void 0);j(this,_o,void 0);j(this,Ro,void 0);j(this,Bn,void 0);let n=[];typeof e=="string"?n=JSON.parse(e):n=e,P(this,Ro,new Map),P(this,Do,new Map),P(this,_o,new Map);const r=[];for(const a of n)try{r.push(jc.from(a))}catch(c){console.log("EE",c)}Se(this,{fragments:Object.freeze(r)});let i=null,s=!1;P(this,Bn,this.getAbiCoder()),this.fragments.forEach((a,c)=>{let l;switch(a.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Se(this,{deploy:a});return;case"fallback":a.inputs.length===0?s=!0:(M(!i||a.payable!==i.payable,"conflicting fallback fragments",`fragments[${c}]`,a),i=a,s=i.payable);return;case"function":l=b(this,Ro);break;case"event":l=b(this,_o);break;case"error":l=b(this,Do);break;default:return}const h=a.format();l.has(h)||l.set(h,a)}),this.deploy||Se(this,{deploy:Ts.from("constructor()")}),Se(this,{fallback:i,receive:s})}format(e){const n=e?"minimal":"full";return this.fragments.map(i=>i.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return y0.defaultAbiCoder()}getFunctionName(e){const n=ee(this,Jf,jy).call(this,e,null,!1);return M(n,"no matching function","key",e),n.name}hasFunction(e){return!!ee(this,Jf,jy).call(this,e,null,!1)}getFunction(e,n){return ee(this,Jf,jy).call(this,e,n||null,!0)}forEachFunction(e){const n=Array.from(b(this,Ro).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(b(this,Ro).get(i),r)}}getEventName(e){const n=ee(this,Yf,Vy).call(this,e,null,!1);return M(n,"no matching event","key",e),n.name}hasEvent(e){return!!ee(this,Yf,Vy).call(this,e,null,!1)}getEvent(e,n){return ee(this,Yf,Vy).call(this,e,n||null,!0)}forEachEvent(e){const n=Array.from(b(this,_o).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(b(this,_o).get(i),r)}}getError(e,n){if(Mt(e)){const i=e.toLowerCase();if(aP[i])return Ir.from(aP[i].signature);for(const s of b(this,Do).values())if(i===s.selector)return s;return null}if(e.indexOf("(")===-1){const i=[];for(const[s,a]of b(this,Do))s.split("(")[0]===e&&i.push(a);if(i.length===0)return e==="Error"?Ir.from("error Error(string)"):e==="Panic"?Ir.from("error Panic(uint256)"):null;if(i.length>1){const s=i.map(a=>JSON.stringify(a.format())).join(", ");M(!1,`ambiguous error description (i.e. ${s})`,"name",e)}return i[0]}if(e=Ir.from(e).format(),e==="Error(string)")return Ir.from("error Error(string)");if(e==="Panic(uint256)")return Ir.from("error Panic(uint256)");const r=b(this,Do).get(e);return r||null}forEachError(e){const n=Array.from(b(this,Do).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(b(this,Do).get(i),r)}}_decodeParams(e,n){return b(this,Bn).decode(e,n)}_encodeParams(e,n){return b(this,Bn).encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);M(r,"unknown error","fragment",e),e=r}return M(jt(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,jt(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);M(r,"unknown error","fragment",e),e=r}return rn([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);M(r,"unknown function","fragment",e),e=r}return M(jt(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,jt(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);M(r,"unknown function","fragment",e),e=r}return rn([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const s=this.getFunction(e);M(s,"unknown function","fragment",e),e=s}let r="invalid length for result data";const i=xr(n);if(i.length%32===0)try{return b(this,Bn).decode(e.outputs,i)}catch{r="could not decode result data"}K(!1,r,"BAD_DATA",{value:me(i),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=ze(e,"data"),i=y0.getBuiltinCallException("call",n,r),s="execution reverted (unknown custom error)";if(i.message.startsWith(s)){const c=me(r.slice(0,4)),l=this.getError(c);if(l)try{const h=b(this,Bn).decode(l.inputs,r.slice(4));i.revert={name:l.name,signature:l.format(),args:h},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const a=this.parseTransaction(n);return a&&(i.invocation={method:a.name,signature:a.signature,args:a.args}),i}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);M(r,"unknown function","fragment",e),e=r}return me(b(this,Bn).encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const s=this.getEvent(e);M(s,"unknown event","eventFragment",e),e=s}K(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const i=(s,a)=>s.type==="string"?Uc(a):s.type==="bytes"?Lt(me(a)):(s.type==="bool"&&typeof a=="boolean"?a=a?"0x01":"0x00":s.type.match(/^u?int/)?a=au(a):s.type.match(/^bytes/)?a=EH(a,32):s.type==="address"&&b(this,Bn).encode(["address"],[a]),Fc(me(a),32));for(n.forEach((s,a)=>{const c=e.inputs[a];if(!c.indexed){M(s==null,"cannot filter non-indexed parameters; must be null","contract."+c.name,s);return}s==null?r.push(null):c.baseType==="array"||c.baseType==="tuple"?M(!1,"filtering with tuples or arrays not supported","contract."+c.name,s):Array.isArray(s)?r.push(s.map(l=>i(c,l))):r.push(i(c,s))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const a=this.getEvent(e);M(a,"unknown event","eventFragment",e),e=a}const r=[],i=[],s=[];return e.anonymous||r.push(e.topicHash),M(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((a,c)=>{const l=n[c];if(a.indexed)if(a.type==="string")r.push(Uc(l));else if(a.type==="bytes")r.push(Lt(l));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");r.push(b(this,Bn).encode([a.type],[l]))}else i.push(a),s.push(l)}),{data:b(this,Bn).encode(i,s),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const w=this.getEvent(e);M(w,"unknown event","eventFragment",e),e=w}if(r!=null&&!e.anonymous){const w=e.topicHash;M(Mt(r[0],32)&&r[0].toLowerCase()===w,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const i=[],s=[],a=[];e.inputs.forEach((w,E)=>{w.indexed?w.type==="string"||w.type==="bytes"||w.baseType==="tuple"||w.baseType==="array"?(i.push(On.from({type:"bytes32",name:w.name})),a.push(!0)):(i.push(w),a.push(!1)):(s.push(w),a.push(!1))});const c=r!=null?b(this,Bn).decode(i,rn(r)):null,l=b(this,Bn).decode(s,n,!0),h=[],p=[];let g=0,y=0;return e.inputs.forEach((w,E)=>{let I=null;if(w.indexed)if(c==null)I=new oP(null);else if(a[E])I=new oP(c[y++]);else try{I=c[y++]}catch(k){I=k}else try{I=l[g++]}catch(k){I=k}h.push(I),p.push(w.name||null)}),kv.fromItems(h,p)}parseTransaction(e){const n=ze(e.data,"tx.data"),r=be(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(me(n.slice(0,4)));if(!i)return null;const s=b(this,Bn).decode(i.inputs,n.slice(4));return new Yq(i,i.selector,s,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new Jq(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=me(e),r=this.getError(jt(n,0,4));if(!r)return null;const i=b(this,Bn).decode(r.inputs,jt(n,4));return new Xq(r,r.selector,i)}static from(e){return e instanceof lf?e:typeof e=="string"?new lf(JSON.parse(e)):typeof e.format=="function"?new lf(e.format("json")):new lf(e)}};Do=new WeakMap,_o=new WeakMap,Ro=new WeakMap,Bn=new WeakMap,Jf=new WeakSet,jy=function(e,n,r){if(Mt(e)){const s=e.toLowerCase();for(const a of b(this,Ro).values())if(s===a.selector)return a;return null}if(e.indexOf("(")===-1){const s=[];for(const[a,c]of b(this,Ro))a.split("(")[0]===e&&s.push(c);if(n){const a=n.length>0?n[n.length-1]:null;let c=n.length,l=!0;Kn.isTyped(a)&&a.type==="overrides"&&(l=!1,c--);for(let h=s.length-1;h>=0;h--){const p=s[h].inputs.length;p!==c&&(!l||p!==c-1)&&s.splice(h,1)}for(let h=s.length-1;h>=0;h--){const p=s[h].inputs;for(let g=0;g<n.length;g++)if(Kn.isTyped(n[g])){if(g>=p.length){if(n[g].type==="overrides")continue;s.splice(h,1);break}if(n[g].type!==p[g].baseType){s.splice(h,1);break}}}}if(s.length===1&&n&&n.length!==s[0].inputs.length){const a=n[n.length-1];(a==null||Array.isArray(a)||typeof a!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&r){const a=s.map(c=>JSON.stringify(c.format())).join(", ");M(!1,`ambiguous function description (i.e. matches ${a})`,"key",e)}return s[0]}const i=b(this,Ro).get(jo.from(e).format());return i||null},Yf=new WeakSet,Vy=function(e,n,r){if(Mt(e)){const s=e.toLowerCase();for(const a of b(this,_o).values())if(s===a.topicHash)return a;return null}if(e.indexOf("(")===-1){const s=[];for(const[a,c]of b(this,_o))a.split("(")[0]===e&&s.push(c);if(n){for(let a=s.length-1;a>=0;a--)s[a].inputs.length<n.length&&s.splice(a,1);for(let a=s.length-1;a>=0;a--){const c=s[a].inputs;for(let l=0;l<n.length;l++)if(Kn.isTyped(n[l])&&n[l].type!==c[l].baseType){s.splice(a,1);break}}}if(s.length===0)return null;if(s.length>1&&r){const a=s.map(c=>JSON.stringify(c.format())).join(", ");M(!1,`ambiguous event description (i.e. matches ${a})`,"key",e)}return s[0]}const i=b(this,_o).get(Bo.from(e).format());return i||null};let _I=lf;const o3=BigInt(0);function Pp(t){return t??null}function Hn(t){return t==null?null:t.toString()}class uP{constructor(e,n,r){B(this,"gasPrice");B(this,"maxFeePerGas");B(this,"maxPriorityFeePerGas");Se(this,{gasPrice:Pp(e),maxFeePerGas:Pp(n),maxPriorityFeePerGas:Pp(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:Hn(e),maxFeePerGas:Hn(n),maxPriorityFeePerGas:Hn(r)}}}function Vv(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=me(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=be(t[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=_e(t[i],`request.${i}`));return t.accessList&&(e.accessList=el(t.accessList)),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),e}var ys;class Zq{constructor(e,n){B(this,"provider");B(this,"number");B(this,"hash");B(this,"timestamp");B(this,"parentHash");B(this,"nonce");B(this,"difficulty");B(this,"gasLimit");B(this,"gasUsed");B(this,"miner");B(this,"extraData");B(this,"baseFeePerGas");j(this,ys,void 0);P(this,ys,e.transactions.map(r=>typeof r!="string"?new v0(r,n):r)),Se(this,{provider:n,hash:Pp(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,miner:e.miner,extraData:e.extraData,baseFeePerGas:Pp(e.baseFeePerGas)})}get transactions(){return b(this,ys).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=b(this,ys).slice();return e.length===0?[]:(K(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:i,gasUsed:s,hash:a,miner:c,nonce:l,number:h,parentHash:p,timestamp:g,transactions:y}=this;return{_type:"Block",baseFeePerGas:Hn(e),difficulty:Hn(n),extraData:r,gasLimit:Hn(i),gasUsed:Hn(s),hash:a,miner:c,nonce:l,number:h,parentHash:p,timestamp:g,transactions:y}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return b(this,ys).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=b(this,ys)[e];else{const r=e.toLowerCase();for(const i of b(this,ys))if(typeof i=="string"){if(i!==r)continue;n=i;break}else{if(i.hash===r)continue;n=i;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;M(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return eK(this)}}ys=new WeakMap;class yg{constructor(e,n){B(this,"provider");B(this,"transactionHash");B(this,"blockHash");B(this,"blockNumber");B(this,"removed");B(this,"address");B(this,"data");B(this,"topics");B(this,"index");B(this,"transactionIndex");this.provider=n;const r=Object.freeze(e.topics.slice());Se(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:a,topics:c,transactionHash:l,transactionIndex:h}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:a,topics:c,transactionHash:l,transactionIndex:h}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return K(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return K(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return K(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return tK(this)}}var Q0;class s3{constructor(e,n){B(this,"provider");B(this,"to");B(this,"from");B(this,"contractAddress");B(this,"hash");B(this,"index");B(this,"blockHash");B(this,"blockNumber");B(this,"logsBloom");B(this,"gasUsed");B(this,"cumulativeGasUsed");B(this,"gasPrice");B(this,"type");B(this,"status");B(this,"root");j(this,Q0,void 0);P(this,Q0,Object.freeze(e.logs.map(i=>new yg(i,n))));let r=o3;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),Se(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,gasPrice:r,type:e.type,status:e.status,root:e.root})}get logs(){return b(this,Q0)}toJSON(){const{to:e,from:n,contractAddress:r,hash:i,index:s,blockHash:a,blockNumber:c,logsBloom:l,logs:h,status:p,root:g}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:c,contractAddress:r,cumulativeGasUsed:Hn(this.cumulativeGasUsed),from:n,gasPrice:Hn(this.gasPrice),gasUsed:Hn(this.gasUsed),hash:i,index:s,logs:h,logsBloom:l,root:g,status:p,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return u3(this)}reorderedEvent(e){return K(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),a3(this,e)}}Q0=new WeakMap;var Na;const mC=class mC{constructor(e,n){B(this,"provider");B(this,"blockNumber");B(this,"blockHash");B(this,"index");B(this,"hash");B(this,"type");B(this,"to");B(this,"from");B(this,"nonce");B(this,"gasLimit");B(this,"gasPrice");B(this,"maxPriorityFeePerGas");B(this,"maxFeePerGas");B(this,"data");B(this,"value");B(this,"chainId");B(this,"signature");B(this,"accessList");j(this,Na,void 0);this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,P(this,Na,-1)}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:i,type:s,to:a,from:c,nonce:l,data:h,signature:p,accessList:g}=this;return{_type:"TransactionReceipt",accessList:g,blockNumber:e,blockHash:n,chainId:Hn(this.chainId),data:h,from:c,gasLimit:Hn(this.gasLimit),gasPrice:Hn(this.gasPrice),hash:i,maxFeePerGas:Hn(this.maxFeePerGas),maxPriorityFeePerGas:Hn(this.maxPriorityFeePerGas),nonce:l,signature:p,to:a,index:r,type:s,value:Hn(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await rr({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,i=n??0;let s=b(this,Na),a=-1,c=s===-1;const l=async()=>{if(c)return null;const{blockNumber:y,nonce:w}=await rr({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(w<this.nonce){s=y;return}if(c)return null;const E=await this.getTransaction();if(!(E&&E.blockNumber!=null))for(a===-1&&(a=s-3,a<b(this,Na)&&(a=b(this,Na)));a<=y;){if(c)return null;const I=await this.provider.getBlock(a,!0);if(I==null)return;for(const k of I)if(k===this.hash)return;for(let k=0;k<I.length;k++){const S=await I.getTransaction(k);if(S.from===this.from&&S.nonce===this.nonce){if(c)return null;const T=await this.provider.getTransactionReceipt(S.hash);if(T==null||y-T.blockNumber+1<r)return;let x="replaced";S.data===this.data&&S.to===this.to&&S.value===this.value?x="repriced":S.data==="0x"&&S.from===S.to&&S.value===o3&&(x="cancelled"),K(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:x==="replaced"||x==="cancelled",reason:x,replacement:S.replaceableTransaction(s),hash:S.hash,receipt:T})}}a++}},h=y=>{if(y==null||y.status!==0)return y;K(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:y.to,from:y.from,data:""},receipt:y})},p=await this.provider.getTransactionReceipt(this.hash);if(r===0)return h(p);if(p){if(await p.confirmations()>=r)return h(p)}else if(await l(),r===0)return null;return await new Promise((y,w)=>{const E=[],I=()=>{E.forEach(S=>S())};if(E.push(()=>{c=!0}),i>0){const S=setTimeout(()=>{I(),w(ln("wait for transaction timeout","TIMEOUT"))},i);E.push(()=>{clearTimeout(S)})}const k=async S=>{if(await S.confirmations()>=r){I();try{y(h(S))}catch(T){w(T)}}};if(E.push(()=>{this.provider.off(this.hash,k)}),this.provider.on(this.hash,k),s>=0){const S=async()=>{try{await l()}catch(T){if(ki(T,"TRANSACTION_REPLACED")){I(),w(T);return}}c||this.provider.once("block",S)};E.push(()=>{this.provider.off("block",S)}),this.provider.once("block",S)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}removedEvent(){return K(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),u3(this)}reorderedEvent(e){return K(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),K(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),a3(this,e)}replaceableTransaction(e){M(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new mC(this,this.provider);return P(n,Na,e),n}};Na=new WeakMap;let v0=mC;function eK(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function a3(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function u3(t){return{orphan:"drop-transaction",tx:t}}function tK(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class j2 extends yg{constructor(n,r,i){super(n,n.provider);B(this,"interface");B(this,"fragment");B(this,"args");const s=r.decodeEventLog(i,n.data,n.topics);Se(this,{args:s,fragment:i,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class c3 extends yg{constructor(n,r){super(n,n.provider);B(this,"error");Se(this,{error:r})}}var Xf;class nK extends s3{constructor(n,r,i){super(i,r);j(this,Xf,void 0);P(this,Xf,n)}get logs(){return super.logs.map(n=>{const r=n.topics.length?b(this,Xf).getEvent(n.topics[0]):null;if(r)try{return new j2(n,b(this,Xf),r)}catch(i){return new c3(n,i)}return n})}}Xf=new WeakMap;var W0;class V2 extends v0{constructor(n,r,i){super(i,r);j(this,W0,void 0);P(this,W0,n)}async wait(n){const r=await super.wait(n);return r==null?null:new nK(b(this,W0),this.provider,r)}}W0=new WeakMap;class l3 extends q8{constructor(n,r,i,s){super(n,r,i);B(this,"log");Se(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class rK extends l3{constructor(e,n,r,i,s){super(e,n,r,new j2(s,e.interface,i));const a=e.interface.decodeEventLog(i,this.log.data,this.log.topics);Se(this,{args:a,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const cP=BigInt(0);function f3(t){return t&&typeof t.call=="function"}function h3(t){return t&&typeof t.estimateGas=="function"}function $2(t){return t&&typeof t.resolveName=="function"}function d3(t){return t&&typeof t.sendTransaction=="function"}var J0;class iK{constructor(e,n,r){j(this,J0,void 0);B(this,"fragment");if(Se(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const i=Vc(e.runner,"resolveName"),s=$2(i)?i:null;P(this,J0,async function(){const a=await Promise.all(n.inputs.map((c,l)=>r[l]==null?null:c.walkAsync(r[l],(p,g)=>p==="address"?Array.isArray(g)?Promise.all(g.map(y=>Nr(y,s))):Nr(g,s):g)));return e.interface.encodeFilterTopics(n,a)}())}getTopicFilter(){return b(this,J0)}}J0=new WeakMap;function Vc(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function tc(t){return t==null?null:t.provider||null}async function p3(t,e){const n=Kn.dereference(t,"overrides");M(typeof n=="object","invalid overrides parameter","overrides",t);const r=Vv(n);return M(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),M(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=await Nr(r.from)),r}async function oK(t,e,n){const r=Vc(t,"resolveName"),i=$2(r)?r:null;return await Promise.all(e.map((s,a)=>s.walkAsync(n[a],(c,l)=>(l=Kn.dereference(l,c),c==="address"?Nr(l,i):l))))}function sK(t){const e=async function(a){const c=await p3(a,["data"]);c.to=await t.getAddress();const l=t.interface,h=be(c.value||cP,"overrides.value")===cP,p=(c.data||"0x")==="0x";l.fallback&&!l.fallback.payable&&l.receive&&!p&&!h&&M(!1,"cannot send data to receive or send value to non-payable fallback","overrides",a),M(l.fallback||p,"cannot send data to receive-only contract","overrides.data",c.data);const g=l.receive||l.fallback&&l.fallback.payable;return M(g||h,"cannot send value to non-payable fallback","overrides.value",c.value),M(l.fallback||p,"cannot send data to receive-only contract","overrides.data",c.data),c},n=async function(a){const c=Vc(t.runner,"call");K(f3(c),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await e(a);try{return await c.call(l)}catch(h){throw P2(h)&&h.data?t.interface.makeError(h.data,l):h}},r=async function(a){const c=t.runner;K(d3(c),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await c.sendTransaction(await e(a)),h=tc(t.runner);return new V2(t.interface,h,l)},i=async function(a){const c=Vc(t.runner,"estimateGas");return K(h3(c),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await c.estimateGas(await e(a))},s=async a=>await r(a);return Se(s,{_contract:t,estimateGas:i,populateTransaction:e,send:r,staticCall:n}),s}function aK(t,e){const n=function(...h){const p=t.interface.getFunction(e,h);return K(p,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:h}}),p},r=async function(...h){const p=n(...h);let g={};if(p.inputs.length+1===h.length&&(g=await p3(h.pop())),p.inputs.length!==h.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const y=await oK(t.runner,p.inputs,h);return Object.assign({},g,await rr({to:t.getAddress(),data:t.interface.encodeFunctionData(p,y)}))},i=async function(...h){const p=await c(...h);return p.length===1?p[0]:p},s=async function(...h){const p=t.runner;K(d3(p),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const g=await p.sendTransaction(await r(...h)),y=tc(t.runner);return new V2(t.interface,y,g)},a=async function(...h){const p=Vc(t.runner,"estimateGas");return K(h3(p),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await p.estimateGas(await r(...h))},c=async function(...h){const p=Vc(t.runner,"call");K(f3(p),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const g=await r(...h);let y="0x";try{y=await p.call(g)}catch(E){throw P2(E)&&E.data?t.interface.makeError(E.data,g):E}const w=n(...h);return t.interface.decodeFunctionResult(w,y)},l=async(...h)=>n(...h).constant?await i(...h):await s(...h);return Se(l,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:a,populateTransaction:r,send:s,staticCall:i,staticCallResult:c}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{const h=t.interface.getFunction(e);return K(h,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),h}}),l}function uK(t,e){const n=function(...i){const s=t.interface.getEvent(e,i);return K(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),s},r=function(...i){return new iK(t,n(...i),i)};return Se(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return K(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}const $v=Symbol.for("_ethersInternal_contract"),g3=new WeakMap;function cK(t,e){g3.set(t[$v],e)}function Hr(t){return g3.get(t[$v])}function lK(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function H2(t,e){let n,r=null;if(Array.isArray(e)){const s=function(a){if(Mt(a,32))return a;const c=t.interface.getEvent(a);return M(c,"unknown fragment","name",a),c.topicHash};n=e.map(a=>a==null?null:Array.isArray(a)?a.map(s):s(a))}else e==="*"?n=[null]:typeof e=="string"?Mt(e,32)?n=[e]:(r=t.interface.getEvent(e),M(r,"unknown fragment","event",e),n=[r.topicHash]):lK(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):M(!1,"unknown event name","event",e);n=n.map(s=>{if(s==null)return null;if(Array.isArray(s)){const a=Array.from(new Set(s.map(c=>c.toLowerCase())).values());return a.length===1?a[0]:(a.sort(),a)}return s.toLowerCase()});const i=n.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:r,tag:i,topics:n}}async function pp(t,e){const{subs:n}=Hr(t);return n.get((await H2(t,e)).tag)||null}async function lP(t,e,n){const r=tc(t.runner);K(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:s,topics:a}=await H2(t,n),{addr:c,subs:l}=Hr(t);let h=l.get(s);if(!h){const g={address:c||t,topics:a},y=k=>{let S=i;if(S==null)try{S=t.interface.getEvent(k.topics[0])}catch{}if(S){const T=S,x=i?t.interface.decodeEventLog(i,k.data,k.topics):[];LI(t,n,x,_=>new rK(t,_,n,T,k))}else LI(t,n,[],T=>new l3(t,T,n,k))};let w=[];h={tag:s,listeners:[],start:()=>{w.length||w.push(r.on(g,y))},stop:async()=>{if(w.length==0)return;let k=w;w=[],await Promise.all(k),r.off(g,y)}},l.set(s,h)}return h}let RI=Promise.resolve();async function fK(t,e,n,r){await RI;const i=await pp(t,e);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:a,once:c})=>{const l=Array.from(n);r&&l.push(r(c?null:a));try{a.call(t,...l)}catch{}return!c}),i.listeners.length===0&&(i.stop(),Hr(t).subs.delete(i.tag)),s>0}async function LI(t,e,n,r){try{await RI}catch{}const i=fK(t,e,n,r);return RI=i,await i}const fy=["then"];var fne;const jp=class jp{constructor(e,n,r,i){B(this,"target");B(this,"interface");B(this,"runner");B(this,"filters");B(this,fne);B(this,"fallback");M(typeof e=="string"||wL(e),"invalid value for Contract target","target",e),r==null&&(r=null);const s=_I.from(n);Se(this,{target:e,runner:r,interface:s}),Object.defineProperty(this,$v,{value:{}});let a,c=null,l=null;if(i){const g=tc(r);l=new V2(this.interface,g,i)}let h=new Map;if(typeof e=="string")if(Mt(e))c=e,a=Promise.resolve(e);else{const g=Vc(r,"resolveName");if(!$2(g))throw ln("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});a=g.resolveName(e).then(y=>{if(y==null)throw ln("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Hr(this).addr=y,y})}else a=e.getAddress().then(g=>{if(g==null)throw new Error("TODO");return Hr(this).addr=g,g});cK(this,{addrPromise:a,addr:c,deployTx:l,subs:h});const p=new Proxy({},{get:(g,y,w)=>{if(typeof y=="symbol"||fy.indexOf(y)>=0)return Reflect.get(g,y,w);try{return this.getEvent(y)}catch(E){if(!ki(E,"INVALID_ARGUMENT")||E.argument!=="key")throw E}},has:(g,y)=>fy.indexOf(y)>=0?Reflect.has(g,y):Reflect.has(g,y)||this.interface.hasEvent(String(y))});return Se(this,{filters:p}),Se(this,{fallback:s.receive||s.fallback?sK(this):null}),new Proxy(this,{get:(g,y,w)=>{if(typeof y=="symbol"||y in g||fy.indexOf(y)>=0)return Reflect.get(g,y,w);try{return g.getFunction(y)}catch(E){if(!ki(E,"INVALID_ARGUMENT")||E.argument!=="key")throw E}},has:(g,y)=>typeof y=="symbol"||y in g||fy.indexOf(y)>=0?Reflect.has(g,y):g.interface.hasFunction(y)})}connect(e){return new jp(this.target,this.interface,e)}attach(e){return new jp(e,this.interface,this.runner)}async getAddress(){return await Hr(this).addrPromise}async getDeployedCode(){const e=tc(this.runner);K(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=tc(this.runner);return K(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,s)=>{const a=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);r.once("block",a)}catch(c){s(c)}};a()})}deploymentTransaction(){return Hr(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),aK(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),uK(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:i,addrPromise:s}=Hr(this),a=i||await s,{fragment:c,topics:l}=await H2(this,e),h={address:a,topics:l,fromBlock:n,toBlock:r},p=tc(this.runner);return K(p,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await p.getLogs(h)).map(g=>{let y=c;if(y==null)try{y=this.interface.getEvent(g.topics[0])}catch{}if(y)try{return new j2(g,this.interface,y)}catch(w){return new c3(g,w)}return new yg(g,p)})}async on(e,n){const r=await lP(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await lP(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await LI(this,e,n,null)}async listenerCount(e){if(e){const i=await pp(this,e);return i?i.listeners.length:0}const{subs:n}=Hr(this);let r=0;for(const{listeners:i}of n.values())r+=i.length;return r}async listeners(e){if(e){const i=await pp(this,e);return i?i.listeners.map(({listener:s})=>s):[]}const{subs:n}=Hr(this);let r=[];for(const{listeners:i}of n.values())r=r.concat(i.map(({listener:s})=>s));return r}async off(e,n){const r=await pp(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(n==null||r.listeners.length===0)&&(r.stop(),Hr(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await pp(this,e);if(!n)return this;n.stop(),Hr(this).subs.delete(n.tag)}else{const{subs:n}=Hr(this);for(const{tag:r,stop:i}of n.values())i(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends jp{constructor(i,s=null){super(i,e,s)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}};fne=$v;let MI=jp;function hK(){return MI}class If extends hK(){}function KA(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):M(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class dK{constructor(e){B(this,"name");Se(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const m3=new RegExp("^(ipfs)://(.*)$","i"),fP=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),m3,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var ka,gc,Oa,Vl,Sw,y3;const ff=class ff{constructor(e,n,r){j(this,Oa);B(this,"provider");B(this,"address");B(this,"name");j(this,ka,void 0);j(this,gc,void 0);Se(this,{provider:e,address:n,name:r}),P(this,ka,null),P(this,gc,new If(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return b(this,ka)==null&&P(this,ka,(async()=>{try{return await b(this,gc).supportsInterface("0x9061b923")}catch(e){if(ki(e,"CALL_EXCEPTION"))return!1;throw P(this,ka,null),e}})()),await b(this,ka)}async getAddress(e){if(e==null&&(e=60),e===60)try{const s=await ee(this,Oa,Vl).call(this,"addr(bytes32)");return s==null||s===NI?null:s}catch(s){if(ki(s,"CALL_EXCEPTION"))return null;throw s}if(e>=0&&e<2147483648){let s=e+2147483648;const a=await ee(this,Oa,Vl).call(this,"addr(bytes32,uint)",[s]);if(Mt(a,20))return et(a)}let n=null;for(const s of this.provider.plugins)if(s instanceof dK&&s.supportsCoinType(e)){n=s;break}if(n==null)return null;const r=await ee(this,Oa,Vl).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const i=await n.decodeAddress(e,r);if(i!=null)return i;K(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await ee(this,Oa,Vl).call(this,"text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await ee(this,Oa,Vl).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const i=n[1]==="e3010170"?"ipfs":"ipns",s=parseInt(n[4],16);if(n[5].length===s*2)return`${i}://${IH("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;K(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<fP.length;r++){const i=n.match(fP[r]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const a=KA(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:a}),{linkage:e,url:a}}case"erc721":case"erc1155":{const a=s==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:n});const c=await this.getAddress();if(c==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const l=(i[2]||"").split("/");if(l.length!==2)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const h=l[1],p=new If(l[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(s==="erc721"){const I=await p.ownerOf(h);if(c!==I)return e.push({type:"!owner",value:I}),{url:null,linkage:e};e.push({type:"owner",value:I})}else if(s==="erc1155"){const I=await p.balanceOf(c,h);if(!I)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:I.toString()})}let g=await p[a](h);if(g==null||g==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:g}),s==="erc1155"&&(g=g.replace("{id}",au(h,32).substring(2)),e.push({type:"metadata-url-expanded",value:g})),g.match(/^ipfs:/i)&&(g=KA(g)),e.push({type:"metadata-url",value:g});let y={};const w=await new uu(g).send();w.assertOk();try{y=w.bodyJson}catch{try{e.push({type:"!metadata",value:w.bodyText})}catch{const S=w.body;return S&&e.push({type:"!metadata",value:me(S)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!y)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(y)});let E=y.image;if(typeof E!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!E.match(/^(https:\/\/|data:)/i)){if(E.match(m3)==null)return e.push({type:"!imageUrl-ipfs",value:E}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:E}),E=KA(E)}return e.push({type:"url",value:E}),{linkage:e,url:E}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return K(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async fromName(e,n){var i;let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const s=await ee(i=ff,Sw,y3).call(i,e,r);if(s!=null){const a=new ff(e,s,n);return r!==n&&!await a.supportsWildcard()?null:a}r=r.split(".").slice(1).join(".")}}};ka=new WeakMap,gc=new WeakMap,Oa=new WeakSet,Vl=async function(e,n){n=(n||[]).slice();const r=b(this,gc).interface;n.unshift(PI(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),K(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[vq(this.name),r.encodeFunctionData(i,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const s=await b(this,gc)[e](...n);return i?r.decodeFunctionResult(i,s)[0]:s}catch(s){if(!ki(s,"CALL_EXCEPTION"))throw s}return null},Sw=new WeakSet,y3=async function(e,n){const r=await ff.getEnsAddress(e);try{const s=await new If(r,["function resolver(bytes32) view returns (address)"],e).resolver(PI(n),{enableCcipRead:!0});return s===NI?null:s}catch(i){throw i}return null},j(ff,Sw);let Hv=ff;const hP=BigInt(0);function Ot(t,e){return function(n){return n==null?e:t(n)}}function z2(t){return e=>{if(!Array.isArray(e))throw new Error("not an array");return e.map(n=>t(n))}}function vg(t,e){return n=>{const r={};for(const i in t){let s=i;if(e&&i in e&&!(s in n)){for(const a of e[i])if(a in n){s=a;break}}try{const a=t[i](n[s]);a!==void 0&&(r[i]=a)}catch(a){const c=a instanceof Error?a.message:"not-an-error";K(!1,`invalid value for value.${i} (${c})`,"BAD_DATA",{value:n})}}return r}}function pK(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}M(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function Ah(t){return M(Mt(t,!0),"invalid data","value",t),t}function Oi(t){return M(Mt(t,32),"invalid hash","value",t),t}const gK=vg({address:et,blockHash:Oi,blockNumber:_e,data:Ah,index:_e,removed:Ot(pK,!1),topics:z2(Oi),transactionHash:Oi,transactionIndex:_e},{index:["logIndex"]});function mK(t){return gK(t)}const yK=vg({hash:Ot(Oi),parentHash:Oi,number:_e,timestamp:_e,nonce:Ot(Ah),difficulty:be,gasLimit:be,gasUsed:be,miner:Ot(et),extraData:Ah,baseFeePerGas:Ot(be)});function vK(t){const e=yK(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:v3(n)),e}const wK=vg({transactionIndex:_e,blockNumber:_e,transactionHash:Oi,address:et,topics:z2(Oi),data:Ah,index:_e,blockHash:Oi},{index:["logIndex"]});function bK(t){return wK(t)}const EK=vg({to:Ot(et,null),from:Ot(et,null),contractAddress:Ot(et,null),index:_e,root:Ot(me),gasUsed:be,logsBloom:Ot(Ah),blockHash:Oi,hash:Oi,logs:z2(bK),blockNumber:_e,cumulativeGasUsed:be,effectiveGasPrice:Ot(be),status:Ot(_e),type:Ot(_e,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function AK(t){return EK(t)}function v3(t){t.to&&be(t.to)===hP&&(t.to="0x0000000000000000000000000000000000000000");const e=vg({hash:Oi,type:n=>n==="0x"||n==null?0:_e(n),accessList:Ot(el,null),blockHash:Ot(Oi,null),blockNumber:Ot(_e,null),transactionIndex:Ot(_e,null),from:et,gasPrice:Ot(be),maxPriorityFeePerGas:Ot(be),maxFeePerGas:Ot(be),gasLimit:be,to:Ot(et,null),value:be,nonce:_e,data:Ah,creates:Ot(et,null),chainId:Ot(be,null)},{data:["input"],gasLimit:["gas"]})(t);if(e.to==null&&e.creates==null&&(e.creates=mG(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=ho.from(t.signature):e.signature=ho.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&be(e.blockHash)===hP&&(e.blockHash=null),e}const SK="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class wg{constructor(e){B(this,"name");Se(this,{name:e})}clone(){return new wg(this.name)}}class Xw extends wg{constructor(n,r){n==null&&(n=0);super(`org.ethers.network.plugins.GasCost#${n||0}`);B(this,"effectiveBlock");B(this,"txBase");B(this,"txCreate");B(this,"txDataZero");B(this,"txDataNonzero");B(this,"txAccessListStorageKey");B(this,"txAccessListAddress");const i={effectiveBlock:n};function s(a,c){let l=(r||{})[a];l==null&&(l=c),M(typeof l=="number",`invalud value for ${a}`,"costs",r),i[a]=l}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),Se(this,i)}clone(){return new Xw(this.effectiveBlock,this)}}class Zw extends wg{constructor(n,r){super("org.ethers.plugins.network.Ens");B(this,"address");B(this,"targetNetwork");Se(this,{address:n||SK,targetNetwork:r??1})}clone(){return new Zw(this.address,this.targetNetwork)}}var Y0,X0;class w3 extends wg{constructor(n,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");j(this,Y0,void 0);j(this,X0,void 0);P(this,Y0,n),P(this,X0,r)}get url(){return b(this,Y0)}get processFunc(){return b(this,X0)}clone(){return this}}Y0=new WeakMap,X0=new WeakMap;const QA=new Map;var Zf,eh,Pa;const hf=class hf{constructor(e,n){j(this,Zf,void 0);j(this,eh,void 0);j(this,Pa,void 0);P(this,Zf,e),P(this,eh,be(n)),P(this,Pa,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return b(this,Zf)}set name(e){P(this,Zf,e)}get chainId(){return b(this,eh)}set chainId(e){P(this,eh,be(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===be(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===be(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===be(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(b(this,Pa).values())}attachPlugin(e){if(b(this,Pa).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return b(this,Pa).set(e.name,e.clone()),this}getPlugin(e){return b(this,Pa).get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new hf(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new Xw;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const i=el(e.accessList);for(const s in i)r+=n.txAccessListAddress+n.txAccessListStorageKey*i[s].storageKeys.length}return r}static from(e){if(TK(),e==null)return hf.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=QA.get(e);if(n)return n();if(typeof e=="bigint")return new hf("unknown",e);M(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){M(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new hf(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new Zw(e.ensAddress,e.ensNetwork)),n}M(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=QA.get(e);r&&M(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),QA.set(e,n)}};Zf=new WeakMap,eh=new WeakMap,Pa=new WeakMap;let xs=hf;function dP(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let i=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||i++,r[1]=i.toString()}return BigInt(r[0]+r[1])}function pP(t){return new w3(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let i;try{i=await r.send();const s=i.bodyJson.standard;return{maxFeePerGas:dP(s.maxFee,9),maxPriorityFeePerGas:dP(s.maxPriorityFee,9)}}catch(s){K(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:s})}})}function IK(t){return new w3("data:",async(e,n,r)=>{const i=await e();if(i.maxFeePerGas==null||i.maxPriorityFeePerGas==null)return i;const s=i.maxFeePerGas-i.maxPriorityFeePerGas;return{gasPrice:i.gasPrice,maxFeePerGas:s+t,maxPriorityFeePerGas:t}})}let gP=!1;function TK(){if(gP)return;gP=!0;function t(e,n,r){const i=function(){const s=new xs(e,n);return r.ensNetwork!=null&&s.attachPlugin(new Zw(null,r.ensNetwork)),s.attachPlugin(new Xw),(r.plugins||[]).forEach(a=>{s.attachPlugin(a)}),s};xs.register(e,i),xs.register(n,i),r.altNames&&r.altNames.forEach(s=>{xs.register(s,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("matic",137,{ensNetwork:1,plugins:[pP("https://gasstation.polygon.technology/v2")]}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[pP("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[IK(BigInt("1000000"))]}),t("optimism-goerli",420,{}),t("xdai",100,{ensNetwork:1})}function FI(t){return JSON.parse(JSON.stringify(t))}var vs,Ei,Da,Lo,th,$y;class xK{constructor(e){j(this,th);j(this,vs,void 0);j(this,Ei,void 0);j(this,Da,void 0);j(this,Lo,void 0);P(this,vs,e),P(this,Ei,null),P(this,Da,4e3),P(this,Lo,-2)}get pollingInterval(){return b(this,Da)}set pollingInterval(e){P(this,Da,e)}start(){b(this,Ei)||(P(this,Ei,b(this,vs)._setTimeout(ee(this,th,$y).bind(this),b(this,Da))),ee(this,th,$y).call(this))}stop(){b(this,Ei)&&(b(this,vs)._clearTimeout(b(this,Ei)),P(this,Ei,null))}pause(e){this.stop(),e&&P(this,Lo,-2)}resume(){this.start()}}vs=new WeakMap,Ei=new WeakMap,Da=new WeakMap,Lo=new WeakMap,th=new WeakSet,$y=async function(){try{const e=await b(this,vs).getBlockNumber();if(b(this,Lo)===-2){P(this,Lo,e);return}if(e!==b(this,Lo)){for(let n=b(this,Lo)+1;n<=e;n++){if(b(this,Ei)==null)return;await b(this,vs).emit("block",n)}P(this,Lo,e)}}catch{}b(this,Ei)!=null&&P(this,Ei,b(this,vs)._setTimeout(ee(this,th,$y).bind(this),b(this,Da)))};var mc,yc,_a;class b3{constructor(e){j(this,mc,void 0);j(this,yc,void 0);j(this,_a,void 0);P(this,mc,e),P(this,_a,!1),P(this,yc,n=>{this._poll(n,b(this,mc))})}async _poll(e,n){throw new Error("sub-classes must override this")}start(){b(this,_a)||(P(this,_a,!0),b(this,yc).call(this,-2),b(this,mc).on("block",b(this,yc)))}stop(){b(this,_a)&&(P(this,_a,!1),b(this,mc).off("block",b(this,yc)))}pause(e){this.stop()}resume(){this.start()}}mc=new WeakMap,yc=new WeakMap,_a=new WeakMap;var Iw;class CK extends b3{constructor(n,r){super(n);j(this,Iw,void 0);P(this,Iw,FI(r))}async _poll(n,r){throw new Error("@TODO")}}Iw=new WeakMap;var nh;class NK extends b3{constructor(n,r){super(n);j(this,nh,void 0);P(this,nh,r)}async _poll(n,r){const i=await r.getTransactionReceipt(b(this,nh));i&&r.emit(b(this,nh),i)}}nh=new WeakMap;var ws,rh,ih,Ra,Ai,Tw,E3;class G2{constructor(e,n){j(this,Tw);j(this,ws,void 0);j(this,rh,void 0);j(this,ih,void 0);j(this,Ra,void 0);j(this,Ai,void 0);P(this,ws,e),P(this,rh,FI(n)),P(this,ih,ee(this,Tw,E3).bind(this)),P(this,Ra,!1),P(this,Ai,-2)}start(){b(this,Ra)||(P(this,Ra,!0),b(this,Ai)===-2&&b(this,ws).getBlockNumber().then(e=>{P(this,Ai,e)}),b(this,ws).on("block",b(this,ih)))}stop(){b(this,Ra)&&(P(this,Ra,!1),b(this,ws).off("block",b(this,ih)))}pause(e){this.stop(),e&&P(this,Ai,-2)}resume(){this.start()}}ws=new WeakMap,rh=new WeakMap,ih=new WeakMap,Ra=new WeakMap,Ai=new WeakMap,Tw=new WeakSet,E3=async function(e){if(b(this,Ai)===-2)return;const n=FI(b(this,rh));n.fromBlock=b(this,Ai)+1,n.toBlock=e;const r=await b(this,ws).getLogs(n);if(r.length===0){b(this,Ai)<e-60&&P(this,Ai,e-60);return}for(const i of r)b(this,ws).emit(b(this,rh),i),P(this,Ai,i.blockNumber)};const kK=BigInt(2),OK=10;function hy(t){return t&&typeof t.then=="function"}function Hy(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const i=Object.keys(r);return i.sort(),i.reduce((s,a)=>(s[a]=r[a],s),{})}return r})}class A3{constructor(e){B(this,"name");Se(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function PK(t){return JSON.parse(JSON.stringify(t))}function UI(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function WA(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"pending":case"debug":case"error":case"network":return{type:t,tag:t}}if(Mt(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:Hy("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:Hy("orphan",n),filter:PK(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(i=>i==null?null:Array.isArray(i)?UI(i.map(s=>s.toLowerCase())):i.toLowerCase())};if(n.address){const i=[],s=[],a=c=>{Mt(c)?i.push(c):s.push((async()=>{i.push(await Nr(c,e))})())};Array.isArray(n.address)?n.address.forEach(a):a(n.address),s.length&&await Promise.all(s),r.address=UI(i.map(c=>c.toLowerCase()))}return{filter:r,tag:Hy("event",r),type:"event"}}M(!1,"unknown ProviderEvent","event",t)}function JA(){return new Date().getTime()}const DK={cacheTimeout:250,pollingInterval:4e3};var jn,La,Vn,oh,qr,vc,Ma,bs,Z0,Si,sh,ah,br,yi,eg,BI,tg,jI,wc,gp,ng,VI,bc,mp,uh,zy;class _K{constructor(e,n){j(this,br);j(this,eg);j(this,tg);j(this,wc);j(this,ng);j(this,bc);j(this,uh);j(this,jn,void 0);j(this,La,void 0);j(this,Vn,void 0);j(this,oh,void 0);j(this,qr,void 0);j(this,vc,void 0);j(this,Ma,void 0);j(this,bs,void 0);j(this,Z0,void 0);j(this,Si,void 0);j(this,sh,void 0);j(this,ah,void 0);if(P(this,ah,Object.assign({},DK,n||{})),e==="any")P(this,vc,!0),P(this,qr,null);else if(e){const r=xs.from(e);P(this,vc,!1),P(this,qr,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else P(this,vc,!1),P(this,qr,null);P(this,bs,-1),P(this,Ma,new Map),P(this,jn,new Map),P(this,La,new Map),P(this,Vn,null),P(this,oh,!1),P(this,Z0,1),P(this,Si,new Map),P(this,sh,!1)}get pollingInterval(){return b(this,ah).pollingInterval}get provider(){return this}get plugins(){return Array.from(b(this,La).values())}attachPlugin(e){if(b(this,La).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return b(this,La).set(e.name,e.connect(this)),this}getPlugin(e){return b(this,La).get(e)||null}get disableCcipRead(){return b(this,sh)}set disableCcipRead(e){P(this,sh,!!e)}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const i=e.to.toLowerCase(),s=n.toLowerCase(),a=[];for(let c=0;c<r.length;c++){const l=r[c],h=l.replace("{sender}",i).replace("{data}",s),p=new uu(h);l.indexOf("{data}")===-1&&(p.body={data:s,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:p,index:c,urls:r});let g="unknown error";const y=await p.send();try{const w=y.bodyJson;if(w.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:p,result:w}),w.data;w.message&&(g=w.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:p,result:w})}catch{}K(y.statusCode<400||y.statusCode>=500,`response not found during CCIP fetch: ${g}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:l,errorMessage:g}}),a.push(g)}K(!1,`error encountered during CCIP fetch: ${a.map(c=>JSON.stringify(c)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:a}})}_wrapBlock(e,n){return new Zq(vK(e),this)}_wrapLog(e,n){return new yg(mK(e),this)}_wrapTransactionReceipt(e,n){return new s3(AK(e),this)}_wrapTransactionResponse(e,n){return new v0(v3(e),this)}_detectNetwork(){K(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){K(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=_e(await ee(this,br,yi).call(this,{method:"getBlockNumber"}),"%response");return b(this,bs)>=0&&P(this,bs,e),e}_getAddress(e){return Nr(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(Mt(e))return Mt(e,32)?e:sf(e);if(typeof e=="bigint"&&(e=_e(e,"blockTag")),typeof e=="number")return e>=0?sf(e):b(this,bs)>=0?sf(b(this,bs)+e):this.getBlockNumber().then(n=>sf(n+e));M(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(l=>l==null?null:Array.isArray(l)?UI(l.map(h=>h.toLowerCase())):l.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(l,h,p)=>{let g;switch(l.length){case 0:break;case 1:g=l[0];break;default:l.sort(),g=l}if(r&&(h!=null||p!=null))throw new Error("invalid filter");const y={};return g&&(y.address=g),n.length&&(y.topics=n),h&&(y.fromBlock=h),p&&(y.toBlock=p),r&&(y.blockHash=r),y};let s=[];if(e.address)if(Array.isArray(e.address))for(const l of e.address)s.push(this._getAddress(l));else s.push(this._getAddress(e.address));let a;"fromBlock"in e&&(a=this._getBlockTag(e.fromBlock));let c;return"toBlock"in e&&(c=this._getBlockTag(e.toBlock)),s.filter(l=>typeof l!="string").length||a!=null&&typeof a!="string"||c!=null&&typeof c!="string"?Promise.all([Promise.all(s),a,c]).then(l=>i(l[0],l[1],l[2])):i(s,a,c)}_getTransactionRequest(e){const n=Vv(e),r=[];if(["to","from"].forEach(i=>{if(n[i]==null)return;const s=Nr(n[i]);hy(s)?r.push(async function(){n[i]=await s}()):n[i]=s}),n.blockTag!=null){const i=this._getBlockTag(n.blockTag);hy(i)?r.push(async function(){n.blockTag=await i}()):n.blockTag=i}return r.length?async function(){return await Promise.all(r),n}():n}async getNetwork(){if(b(this,qr)==null){const i=this._detectNetwork().then(s=>(this.emit("network",s,null),s),s=>{throw b(this,qr)===i&&P(this,qr,null),s});return P(this,qr,i),(await i).clone()}const e=b(this,qr),[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(b(this,vc)?(this.emit("network",r,n),b(this,qr)===e&&P(this,qr,Promise.resolve(r))):K(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:i,gasPrice:s}=await rr({_block:ee(this,ng,VI).call(this,"latest",!1),gasPrice:(async()=>{try{const h=await ee(this,br,yi).call(this,{method:"getGasPrice"});return be(h,"%response")}catch{}return null})()});let a=null,c=null;const l=this._wrapBlock(i,e);return l&&l.baseFeePerGas&&(c=BigInt("1000000000"),a=l.baseFeePerGas*kK+c),new uP(s,a,c)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const i=new uu(r.url),s=await r.processFunc(n,this,i);return new uP(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return hy(n)&&(n=await n),be(await ee(this,br,yi).call(this,{method:"estimateGas",transaction:n}),"%response")}async call(e){const{tx:n,blockTag:r}=await rr({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await ee(this,tg,jI).call(this,ee(this,eg,BI).call(this,n,r,e.enableCcipRead?0:-1))}async getBalance(e,n){return be(await ee(this,wc,gp).call(this,{method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return _e(await ee(this,wc,gp).call(this,{method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return me(await ee(this,wc,gp).call(this,{method:"getCode"},e,n))}async getStorage(e,n,r){const i=be(n,"position");return me(await ee(this,wc,gp).call(this,{method:"getStorage",position:i},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:i}=await rr({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=Bv.from(e);if(s.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,i).replaceableTransaction(n)}async getBlock(e,n){const{network:r,params:i}=await rr({network:this.getNetwork(),params:ee(this,ng,VI).call(this,e,!!n)});return i==null?null:this._wrapBlock(i,r)}async getTransaction(e){const{network:n,params:r}=await rr({network:this.getNetwork(),params:ee(this,br,yi).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await rr({network:this.getNetwork(),params:ee(this,br,yi).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const i=await ee(this,br,yi).call(this,{method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await rr({network:this.getNetwork(),result:ee(this,br,yi).call(this,{method:"getTransactionResult",hash:e})});return n==null?null:me(n)}async getLogs(e){let n=this._getFilter(e);hy(n)&&(n=await n);const{network:r,params:i}=await rr({network:this.getNetwork(),params:ee(this,br,yi).call(this,{method:"getLogs",filter:n})});return i.map(s=>this._wrapLog(s,r))}_getProvider(e){K(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Hv.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=et(e);const n=PI(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await Hv.getEnsAddress(this),s=await new If(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(s==null||s===NI)return null;const c=await new If(s,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(c)!==e?null:c}catch(r){if(ki(r,"BAD_DATA")&&r.value==="0x"||ki(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const i=n??1;return i===0?this.getTransactionReceipt(e):new Promise(async(s,a)=>{let c=null;const l=async h=>{try{const p=await this.getTransactionReceipt(e);if(p!=null&&h-p.blockNumber+1>=i){s(p),c&&(clearTimeout(c),c=null);return}}catch(p){console.log("EEE",p)}this.once("block",l)};r!=null&&(c=setTimeout(()=>{c!=null&&(c=null,this.off("block",l),a(ln("timeout","TIMEOUT",{reason:"timeout"})))},r)),l(await this.getBlockNumber())})}async waitForBlock(e){K(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=b(this,Si).get(e);n&&(n.timer&&clearTimeout(n.timer),b(this,Si).delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=qd(this,Z0)._++,i=()=>{b(this,Si).delete(r),e()};if(this.paused)b(this,Si).set(r,{timer:null,func:i,time:n});else{const s=setTimeout(i,n);b(this,Si).set(r,{timer:s,func:i,time:JA()})}return r}_forEachSubscriber(e){for(const n of b(this,jn).values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new A3(e.type);case"block":{const n=new xK(this);return n.pollingInterval=this.pollingInterval,n}case"event":return new G2(this,e.filter);case"transaction":return new NK(this,e.hash);case"orphan":return new CK(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of b(this,jn).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),b(this,Vn)!=null&&n.pause(b(this,Vn));break}}async on(e,n){const r=await ee(this,uh,zy).call(this,e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,b(this,Vn)!=null&&r.subscriber.pause(b(this,Vn))),this}async once(e,n){const r=await ee(this,uh,zy).call(this,e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,b(this,Vn)!=null&&r.subscriber.pause(b(this,Vn))),this}async emit(e,...n){const r=await ee(this,bc,mp).call(this,e,n);if(!r||r.listeners.length===0)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:s,once:a})=>{const c=new q8(this,a?null:s,e);try{s.call(this,...n,c)}catch{}return!a}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),b(this,jn).delete(r.tag)),i>0}async listenerCount(e){if(e){const r=await ee(this,bc,mp).call(this,e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of b(this,jn).values())n+=r.length;return n}async listeners(e){if(e){const r=await ee(this,bc,mp).call(this,e);return r?r.listeners.map(({listener:i})=>i):[]}let n=[];for(const{listeners:r}of b(this,jn).values())n=n.concat(r.map(({listener:i})=>i));return n}async off(e,n){const r=await ee(this,bc,mp).call(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),b(this,jn).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:i}=await ee(this,uh,zy).call(this,e);r&&i.stop(),b(this,jn).delete(n)}else for(const[n,{started:r,subscriber:i}]of b(this,jn))r&&i.stop(),b(this,jn).delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return b(this,oh)}destroy(){this.removeAllListeners();for(const e of b(this,Si).keys())this._clearTimeout(e);P(this,oh,!0)}get paused(){return b(this,Vn)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(P(this,bs,-1),b(this,Vn)!=null){if(b(this,Vn)==!!e)return;K(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),P(this,Vn,!!e);for(const n of b(this,Si).values())n.timer&&clearTimeout(n.timer),n.time=JA()-n.time}resume(){if(b(this,Vn)!=null){this._forEachSubscriber(e=>e.resume()),P(this,Vn,null);for(const e of b(this,Si).values()){let n=e.time;n<0&&(n=0),e.time=JA(),setTimeout(e.func,n)}}}}jn=new WeakMap,La=new WeakMap,Vn=new WeakMap,oh=new WeakMap,qr=new WeakMap,vc=new WeakMap,Ma=new WeakMap,bs=new WeakMap,Z0=new WeakMap,Si=new WeakMap,sh=new WeakMap,ah=new WeakMap,br=new WeakSet,yi=async function(e){const n=b(this,ah).cacheTimeout;if(n<0)return await this._perform(e);const r=Hy(e.method,e);let i=b(this,Ma).get(r);return i||(i=this._perform(e),b(this,Ma).set(r,i),setTimeout(()=>{b(this,Ma).get(r)===i&&b(this,Ma).delete(r)},n)),await i},eg=new WeakSet,BI=async function(e,n,r){K(r<OK,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const i=Vv(e);try{return me(await this._perform({method:"call",transaction:i,blockTag:n}))}catch(s){if(!this.disableCcipRead&&P2(s)&&s.data&&r>=0&&n==="latest"&&i.to!=null&&jt(s.data,0,4)==="0x556f1830"){const a=s.data,c=await Nr(i.to,this);let l;try{l=UK(jt(s.data,4))}catch(g){K(!1,g.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:a}})}K(l.sender.toLowerCase()===c.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:a,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:l.errorArgs}});const h=await this.ccipReadFetch(i,l.calldata,l.urls);K(h!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:s.data,errorArgs:l.errorArgs}});const p={to:c,data:rn([l.selector,FK([h,l.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:p});try{const g=await ee(this,eg,BI).call(this,p,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},p),result:g}),g}catch(g){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},p),error:g}),g}}throw s}},tg=new WeakSet,jI=async function(e){const{value:n}=await rr({network:this.getNetwork(),value:e});return n},wc=new WeakSet,gp=async function(e,n,r){let i=this._getAddress(n),s=this._getBlockTag(r);return(typeof i!="string"||typeof s!="string")&&([i,s]=await Promise.all([i,s])),await ee(this,tg,jI).call(this,ee(this,br,yi).call(this,Object.assign(e,{address:i,blockTag:s})))},ng=new WeakSet,VI=async function(e,n){if(Mt(e,32))return await ee(this,br,yi).call(this,{method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await ee(this,br,yi).call(this,{method:"getBlock",blockTag:r,includeTransactions:n})},bc=new WeakSet,mp=async function(e,n){let r=await WA(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await WA({orphan:"drop-log",log:n[0]},this)),b(this,jn).get(r.tag)||null},uh=new WeakSet,zy=async function(e){const n=await WA(e,this),r=n.tag;let i=b(this,jn).get(r);return i||(i={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},b(this,jn).set(r,i)),i};function RK(t,e){try{const n=$I(t,e);if(n)return D2(n)}catch{}return null}function $I(t,e){if(t==="0x")return null;try{const n=_e(jt(t,e,e+32)),r=_e(jt(t,n,n+32));return jt(t,n+32,n+32+r)}catch{}return null}function mP(t){const e=Zr(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function LK(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const MK=new Uint8Array([]);function FK(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(MK),n+=32;for(let r=0;r<t.length;r++){const i=ze(t[r]);e[r]=mP(n),e.push(mP(i.length)),e.push(LK(i)),n+=32+Math.ceil(i.length/32)*32}return rn(e)}const yP="0x0000000000000000000000000000000000000000000000000000000000000000";function UK(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};K(wf(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=jt(t,0,32);K(jt(n,0,12)===jt(yP,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=jt(n,12);try{const r=[],i=_e(jt(t,32,64)),s=_e(jt(t,i,i+32)),a=jt(t,i+32);for(let c=0;c<s;c++){const l=RK(a,c*32);if(l==null)throw new Error("abort");r.push(l)}e.urls=r}catch{K(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=$I(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{K(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}K(jt(t,100,128)===jt(yP,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=jt(t,96,100);try{const r=$I(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{K(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function Rl(t,e){if(t.provider)return t.provider;K(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function vP(t,e){let n=Vv(e);if(n.to!=null&&(n.to=Nr(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),Nr(r,t)]).then(([i,s])=>(M(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else n.from=t.getAddress();return await rr(n)}class BK{constructor(e){B(this,"provider");Se(this,{provider:e||null})}async getNonce(e){return Rl(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await vP(this,e)}async populateTransaction(e){const n=Rl(this,"populateTransaction"),r=await vP(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const a=be(r.chainId);M(a===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const s=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||s)?M(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&s&&M(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const a=await n.getFeeData();K(a.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=a.gasPrice)}else{const a=await n.getFeeData();if(r.type==null)if(a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const c=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=c,r.maxPriorityFeePerGas=c}else r.maxFeePerGas==null&&(r.maxFeePerGas=a.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=a.maxPriorityFeePerGas);else a.gasPrice!=null?(K(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=a.gasPrice),r.type=0):K(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=a.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=a.maxPriorityFeePerGas))}return await rr(r)}async estimateGas(e){return Rl(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Rl(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Rl(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=Rl(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=Bv.from(r);return await n.broadcastTransaction(await this.signTransaction(i))}}function jK(t){return JSON.parse(JSON.stringify(t))}var Er,Mo,Ec,Fa,Ac,ch,rg,HI,ig,zI;class S3{constructor(e){j(this,rg);j(this,ig);j(this,Er,void 0);j(this,Mo,void 0);j(this,Ec,void 0);j(this,Fa,void 0);j(this,Ac,void 0);j(this,ch,void 0);P(this,Er,e),P(this,Mo,null),P(this,Ec,ee(this,rg,HI).bind(this)),P(this,Fa,!1),P(this,Ac,null),P(this,ch,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){b(this,Fa)||(P(this,Fa,!0),ee(this,rg,HI).call(this,-2))}stop(){b(this,Fa)&&(P(this,Fa,!1),P(this,ch,!0),ee(this,ig,zI).call(this),b(this,Er).off("block",b(this,Ec)))}pause(e){e&&ee(this,ig,zI).call(this),b(this,Er).off("block",b(this,Ec))}resume(){this.start()}}Er=new WeakMap,Mo=new WeakMap,Ec=new WeakMap,Fa=new WeakMap,Ac=new WeakMap,ch=new WeakMap,rg=new WeakSet,HI=async function(e){try{b(this,Mo)==null&&P(this,Mo,this._subscribe(b(this,Er)));let n=null;try{n=await b(this,Mo)}catch(s){if(!ki(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s}if(n==null){P(this,Mo,null),b(this,Er)._recoverSubscriber(this,this._recover(b(this,Er)));return}const r=await b(this,Er).getNetwork();if(b(this,Ac)||P(this,Ac,r),b(this,Ac).chainId!==r.chainId)throw new Error("chaid changed");if(b(this,ch))return;const i=await b(this,Er).send("eth_getFilterChanges",[n]);await this._emitResults(b(this,Er),i)}catch(n){console.log("@TODO",n)}b(this,Er).once("block",b(this,Ec))},ig=new WeakSet,zI=function(){const e=b(this,Mo);e&&(P(this,Mo,null),e.then(n=>{b(this,Er).send("eth_uninstallFilter",[n])}))};var Sc;class VK extends S3{constructor(n,r){super(n);j(this,Sc,void 0);P(this,Sc,jK(r))}_recover(n){return new G2(n,b(this,Sc))}async _subscribe(n){return await n.send("eth_newFilter",[b(this,Sc)])}async _emitResults(n,r){for(const i of r)n.emit(b(this,Sc),n._wrapLog(i,n._network))}}Sc=new WeakMap;class $K extends S3{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const HK="bigint,boolean,function,number,string,symbol".split(/,/g);function Gy(t){if(t==null||HK.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(Gy);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function zK(t){return new Promise(e=>{setTimeout(e,t)})}function Ll(t){return t&&t.toLowerCase()}function wP(t){return t&&typeof t.pollingInterval=="number"}const GK={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class YA extends BK{constructor(n,r){super(n);B(this,"address");r=et(r),Se(this,{address:r})}connect(n){K(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(n){return await this.populateCall(n)}async sendUncheckedTransaction(n){const r=Gy(n),i=[];if(r.from){const a=r.from;i.push((async()=>{const c=await Nr(a,this.provider);M(c!=null&&c.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=c})())}else r.from=this.address;if(r.gasLimit==null&&i.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const a=r.to;i.push((async()=>{r.to=await Nr(a,this.provider)})())}i.length&&await Promise.all(i);const s=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(n){const r=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(n);return await new Promise((s,a)=>{const c=[1e3,100],l=async()=>{const h=await this.provider.getTransaction(i);if(h!=null){s(h.replaceableTransaction(r));return}this.provider._setTimeout(()=>{l()},c.pop()||4e3)};l()})}async signTransaction(n){const r=Gy(n);if(r.from){const s=await Nr(r.from,this.provider);M(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=s}else r.from=this.address;const i=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[i])}async signMessage(n){const r=typeof n=="string"?Os(n):n;return await this.provider.send("personal_sign",[me(r),this.address.toLowerCase()])}async signTypedData(n,r,i){const s=Gy(i),a=await jv.resolveNames(n,r,s,async c=>{const l=await Nr(c);return M(l!=null,"TypedData does not support null address","value",c),l});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(jv.getPayload(a.domain,r,a.value))])}async unlock(n){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),n,null])}async _legacySignMessage(n){const r=typeof n=="string"?Os(n):n;return await this.provider.send("eth_sign",[this.address.toLowerCase(),me(r)])}}var Ic,lh,Es,Fo,to,As,og,GI;class qK extends _K{constructor(n,r){super(n,r);j(this,og);j(this,Ic,void 0);j(this,lh,void 0);j(this,Es,void 0);j(this,Fo,void 0);j(this,to,void 0);j(this,As,void 0);P(this,lh,1),P(this,Ic,Object.assign({},GK,r||{})),P(this,Es,[]),P(this,Fo,null),P(this,As,null);{let s=null;const a=new Promise(c=>{s=c});P(this,to,{promise:a,resolve:s})}const i=this._getOption("staticNetwork");i&&(M(n==null||i.matches(n),"staticNetwork MUST match network object","options",r),P(this,As,i))}_getOption(n){return b(this,Ic)[n]}get _network(){return K(b(this,As),"network is not available yet","NETWORK_ERROR"),b(this,As)}async _perform(n){if(n.method==="call"||n.method==="estimateGas"){let i=n.transaction;if(i&&i.type!=null&&be(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(n=Object.assign({},n,{transaction:Object.assign({},i,{type:void 0})}))}}const r=this.getRpcRequest(n);return r!=null?await this.send(r.method,r.args):super._perform(n)}async _detectNetwork(){const n=this._getOption("staticNetwork");if(n)return n;if(this.ready)return xs.from(be(await this.send("eth_chainId",[])));const r={id:qd(this,lh)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let i;try{i=(await this._send(r))[0]}catch(s){throw this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return xs.from(be(i.result));throw this.getRpcError(r,i)}_start(){b(this,to)==null||b(this,to).resolve==null||(b(this,to).resolve(),P(this,to,null),(async()=>{for(;b(this,As)==null&&!this.destroyed;)try{P(this,As,await this._detectNetwork())}catch(n){console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",ln("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:n}})),await zK(1e3)}ee(this,og,GI).call(this)})())}async _waitUntilReady(){if(b(this,to)!=null)return await b(this,to).promise}_getSubscriber(n){return n.type==="pending"?new $K(this):n.type==="event"?this._getOption("polling")?new G2(this,n.filter):new VK(this,n.filter):n.type==="orphan"&&n.filter.orphan==="drop-log"?new A3("orphan"):super._getSubscriber(n)}get ready(){return b(this,to)==null}getRpcTransaction(n){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(n[i]==null)return;let s=i;i==="gasLimit"&&(s="gas"),r[s]=sf(be(n[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{n[i]!=null&&(r[i]=me(n[i]))}),n.accessList&&(r.accessList=el(n.accessList)),r}getRpcRequest(n){switch(n.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Ll(n.address),n.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Ll(n.address),n.blockTag]};case"getCode":return{method:"eth_getCode",args:[Ll(n.address),n.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Ll(n.address),"0x"+n.position.toString(16),n.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[n.signedTransaction]};case"getBlock":if("blockTag"in n)return{method:"eth_getBlockByNumber",args:[n.blockTag,!!n.includeTransactions]};if("blockHash"in n)return{method:"eth_getBlockByHash",args:[n.blockHash,!!n.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[n.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[n.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(n.transaction),n.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(n.transaction)]};case"getLogs":return n.filter&&n.filter.address!=null&&(Array.isArray(n.filter.address)?n.filter.address=n.filter.address.map(Ll):n.filter.address=Ll(n.filter.address)),{method:"eth_getLogs",args:[n.filter]}}return null}getRpcError(n,r){const{method:i}=n,{error:s}=r;if(i==="eth_estimateGas"&&s.message){const l=s.message;if(!l.match(/revert/i)&&l.match(/insufficient funds/i))return ln("insufficient funds","INSUFFICIENT_FUNDS",{transaction:n.params[0],info:{payload:n,error:s}})}if(i==="eth_call"||i==="eth_estimateGas"){const l=qI(s),h=y0.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",n.params[0],l?l.data:null);return h.info={error:s,payload:n},h}const a=JSON.stringify(QK(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return ln("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:n,error:s}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const l=n.params[0];if(a.match(/insufficient funds|base fee exceeds gas limit/i))return ln("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:l,info:{error:s}});if(a.match(/nonce/i)&&a.match(/too low/i))return ln("nonce has already been used","NONCE_EXPIRED",{transaction:l,info:{error:s}});if(a.match(/replacement transaction/i)&&a.match(/underpriced/i))return ln("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:l,info:{error:s}});if(a.match(/only replay-protected/i))return ln("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:l,info:{error:s}}})}let c=!!a.match(/the method .* does not exist/i);return c||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(c=!0),c?ln("unsupported operation","UNSUPPORTED_OPERATION",{operation:n.method,info:{error:s,payload:n}}):ln("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:n})}send(n,r){if(this.destroyed)return Promise.reject(ln("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n}));const i=qd(this,lh)._++,s=new Promise((a,c)=>{b(this,Es).push({resolve:a,reject:c,payload:{method:n,params:r,id:i,jsonrpc:"2.0"}})});return ee(this,og,GI).call(this),s}async getSigner(n){n==null&&(n=0);const r=this.send("eth_accounts",[]);if(typeof n=="number"){const s=await r;if(n>=s.length)throw new Error("no such account");return new YA(this,s[n])}const{accounts:i}=await rr({network:this.getNetwork(),accounts:r});n=et(n);for(const s of i)if(et(s)===n)return new YA(this,n);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new YA(this,r))}destroy(){b(this,Fo)&&(clearTimeout(b(this,Fo)),P(this,Fo,null));for(const{payload:n,reject:r}of b(this,Es))r(ln("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n.method}));P(this,Es,[]),super.destroy()}}Ic=new WeakMap,lh=new WeakMap,Es=new WeakMap,Fo=new WeakMap,to=new WeakMap,As=new WeakMap,og=new WeakSet,GI=function(){if(b(this,Fo))return;const n=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");P(this,Fo,setTimeout(()=>{P(this,Fo,null);const r=b(this,Es);for(P(this,Es,[]);r.length;){const i=[r.shift()];for(;r.length&&i.length!==b(this,Ic).batchMaxCount;)if(i.push(r.shift()),JSON.stringify(i.map(a=>a.payload)).length>b(this,Ic).batchMaxSize){r.unshift(i.pop());break}(async()=>{const s=i.length===1?i[0].payload:i.map(a=>a.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{const a=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:a});for(const{resolve:c,reject:l,payload:h}of i){if(this.destroyed){l(ln("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:h.method}));continue}const p=a.filter(g=>g.id===h.id)[0];if(p==null){const g=ln("missing response for request","BAD_DATA",{value:a,info:{payload:h}});this.emit("error",g),l(g);continue}if("error"in p){l(this.getRpcError(h,p));continue}c(p.result)}}catch(a){this.emit("debug",{action:"receiveRpcError",error:a});for(const{reject:c}of i)c(a)}})()}},n))};var Ua;class KK extends qK{constructor(n,r){super(n,r);j(this,Ua,void 0);P(this,Ua,4e3)}_getSubscriber(n){const r=super._getSubscriber(n);return wP(r)&&(r.pollingInterval=b(this,Ua)),r}get pollingInterval(){return b(this,Ua)}set pollingInterval(n){if(!Number.isInteger(n)||n<0)throw new Error("invalid interval");P(this,Ua,n),this._forEachSubscriber(r=>{wP(r)&&(r.pollingInterval=b(this,Ua))})}}Ua=new WeakMap;function qI(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Mt(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=qI(t[e]);if(n)return n}return null}if(typeof t=="string")try{return qI(JSON.parse(t))}catch{}return null}function KI(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)KI(t[n],e);if(typeof t=="string")try{return KI(JSON.parse(t),e)}catch{}}}function QK(t){const e=[];return KI(t,e),e}var fh;class WK extends KK{constructor(n,r){super(r,{batchMaxCount:1});j(this,fh,void 0);P(this,fh,async(i,s)=>{const a={method:i,params:s};this.emit("debug",{action:"sendEip1193Request",payload:a});try{const c=await n.request(a);return this.emit("debug",{action:"receiveEip1193Result",result:c}),c}catch(c){const l=new Error(c.message);throw l.code=c.code,l.data=c.data,l.payload=a,this.emit("debug",{action:"receiveEip1193Error",error:l}),l}})}async send(n,r){return await this._start(),await super.send(n,r)}async _send(n){M(!Array.isArray(n),"EIP-1193 does not support batch request","payload",n);try{const r=await b(this,fh).call(this,n.method,n.params||[]);return[{id:n.id,result:r}]}catch(r){return[{id:n.id,error:{code:r.code,data:r.data,message:r.message}}]}}getRpcError(n,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`ethers-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`ethers-unsupported: ${r.error.message}`;break}return super.getRpcError(n,r)}async hasSigner(n){n==null&&(n=0);const r=await this.send("eth_accounts",[]);return typeof n=="number"?r.length>n:(n=n.toLowerCase(),r.filter(i=>i.toLowerCase()===n).length!==0)}async getSigner(n){if(n==null&&(n=0),!await this.hasSigner(n))try{await b(this,fh).call(this,"eth_requestAccounts",[])}catch(r){const i=r.payload;throw this.getRpcError(i,{id:i.id,error:r})}return await super.getSigner(n)}}fh=new WeakMap;const JK="hh-sol-artifact-1",YK="Transactions",XK="contracts/Transactions.sol",ZK=[{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"string",name:"message",type:"string"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"},{indexed:!1,internalType:"string",name:"keyword",type:"string"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address payable",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"message",type:"string"},{internalType:"string",name:"keyword",type:"string"}],name:"addToBlockchain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAllTransactionCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllTransactions",outputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"message",type:"string"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"string",name:"keyword",type:"string"}],internalType:"struct Transactions.TransferStruct[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"}],eQ="0x608060405234801561001057600080fd5b50610c0d806100206000396000f3fe608060405234801561001057600080fd5b50600436106100415760003560e01c806327506f53146100465780635e4e252014610064578063cc2d7ead14610082575b600080fd5b61004e61009e565b60405161005b91906108b9565b60405180910390f35b61006c6102e1565b60405161007991906108db565b60405180910390f35b61009c600480360381019061009791906105e1565b6102ea565b005b60606001805480602002602001604051908101604052809291908181526020016000905b828210156102d857838290600052602060002090600602016040518060c00160405290816000820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600282015481526020016003820180546101ab90610ad9565b80601f01602080910402602001604051908101604052809291908181526020018280546101d790610ad9565b80156102245780601f106101f957610100808354040283529160200191610224565b820191906000526020600020905b81548152906001019060200180831161020757829003601f168201915b505050505081526020016004820154815260200160058201805461024790610ad9565b80601f016020809104026020016040519081016040528092919081815260200182805461027390610ad9565b80156102c05780601f10610295576101008083540402835291602001916102c0565b820191906000526020600020905b8154815290600101906020018083116102a357829003601f168201915b505050505081525050815260200190600101906100c2565b50505050905090565b60008054905090565b60016000808282546102fc91906109bd565b9250508190555060016040518060c001604052803373ffffffffffffffffffffffffffffffffffffffff1681526020018673ffffffffffffffffffffffffffffffffffffffff16815260200185815260200184815260200142815260200183815250908060018154018082558091505060019003906000526020600020906006020160009091909190915060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060408201518160020155606082015181600301908051906020019061043b9291906104ac565b506080820151816004015560a08201518160050190805190602001906104629291906104ac565b5050507f416cfa4330a4565f45c2fd2dd4826a83a37443aba2ce6f79477c7355afac35fa33858585428660405161049e9695949392919061084a565b60405180910390a150505050565b8280546104b890610ad9565b90600052602060002090601f0160209004810192826104da5760008555610521565b82601f106104f357805160ff1916838001178555610521565b82800160010185558215610521579182015b82811115610520578251825591602001919060010190610505565b5b50905061052e9190610532565b5090565b5b8082111561054b576000816000905550600101610533565b5090565b600061056261055d84610927565b6108f6565b90508281526020810184848401111561057a57600080fd5b610585848285610a97565b509392505050565b60008135905061059c81610ba9565b92915050565b600082601f8301126105b357600080fd5b81356105c384826020860161054f565b91505092915050565b6000813590506105db81610bc0565b92915050565b600080600080608085870312156105f757600080fd5b60006106058782880161058d565b9450506020610616878288016105cc565b935050604085013567ffffffffffffffff81111561063357600080fd5b61063f878288016105a2565b925050606085013567ffffffffffffffff81111561065c57600080fd5b610668878288016105a2565b91505092959194509250565b6000610680838361079c565b905092915050565b61069181610a61565b82525050565b6106a081610a13565b82525050565b6106af81610a13565b82525050565b60006106c082610967565b6106ca818561098a565b9350836020820285016106dc85610957565b8060005b8581101561071857848403895281516106f98582610674565b94506107048361097d565b925060208a019950506001810190506106e0565b50829750879550505050505092915050565b600061073582610972565b61073f818561099b565b935061074f818560208601610aa6565b61075881610b98565b840191505092915050565b600061076e82610972565b61077881856109ac565b9350610788818560208601610aa6565b61079181610b98565b840191505092915050565b600060c0830160008301516107b46000860182610697565b5060208301516107c76020860182610697565b5060408301516107da604086018261082c565b50606083015184820360608601526107f2828261072a565b9150506080830151610807608086018261082c565b5060a083015184820360a086015261081f828261072a565b9150508091505092915050565b61083581610a57565b82525050565b61084481610a57565b82525050565b600060c08201905061085f60008301896106a6565b61086c6020830188610688565b610879604083018761083b565b818103606083015261088b8186610763565b905061089a608083018561083b565b81810360a08301526108ac8184610763565b9050979650505050505050565b600060208201905081810360008301526108d381846106b5565b905092915050565b60006020820190506108f0600083018461083b565b92915050565b6000604051905081810181811067ffffffffffffffff8211171561091d5761091c610b69565b5b8060405250919050565b600067ffffffffffffffff82111561094257610941610b69565b5b601f19601f8301169050602081019050919050565b6000819050602082019050919050565b600081519050919050565b600081519050919050565b6000602082019050919050565b600082825260208201905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b60006109c882610a57565b91506109d383610a57565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03821115610a0857610a07610b0b565b5b828201905092915050565b6000610a1e82610a37565b9050919050565b6000610a3082610a37565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b6000610a6c82610a73565b9050919050565b6000610a7e82610a85565b9050919050565b6000610a9082610a37565b9050919050565b82818337600083830152505050565b60005b83811015610ac4578082015181840152602081019050610aa9565b83811115610ad3576000848401525b50505050565b60006002820490506001821680610af157607f821691505b60208210811415610b0557610b04610b3a565b5b50919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6000601f19601f8301169050919050565b610bb281610a25565b8114610bbd57600080fd5b50565b610bc981610a57565b8114610bd457600080fd5b5056fea2646970667358221220dc8ce9ecdd6568ed2f8ef08f2588c268812bc8581abc0b3c73a3d3fa1c8bf4a664736f6c63430008000033",tQ="0x608060405234801561001057600080fd5b50600436106100415760003560e01c806327506f53146100465780635e4e252014610064578063cc2d7ead14610082575b600080fd5b61004e61009e565b60405161005b91906108b9565b60405180910390f35b61006c6102e1565b60405161007991906108db565b60405180910390f35b61009c600480360381019061009791906105e1565b6102ea565b005b60606001805480602002602001604051908101604052809291908181526020016000905b828210156102d857838290600052602060002090600602016040518060c00160405290816000820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600282015481526020016003820180546101ab90610ad9565b80601f01602080910402602001604051908101604052809291908181526020018280546101d790610ad9565b80156102245780601f106101f957610100808354040283529160200191610224565b820191906000526020600020905b81548152906001019060200180831161020757829003601f168201915b505050505081526020016004820154815260200160058201805461024790610ad9565b80601f016020809104026020016040519081016040528092919081815260200182805461027390610ad9565b80156102c05780601f10610295576101008083540402835291602001916102c0565b820191906000526020600020905b8154815290600101906020018083116102a357829003601f168201915b505050505081525050815260200190600101906100c2565b50505050905090565b60008054905090565b60016000808282546102fc91906109bd565b9250508190555060016040518060c001604052803373ffffffffffffffffffffffffffffffffffffffff1681526020018673ffffffffffffffffffffffffffffffffffffffff16815260200185815260200184815260200142815260200183815250908060018154018082558091505060019003906000526020600020906006020160009091909190915060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060408201518160020155606082015181600301908051906020019061043b9291906104ac565b506080820151816004015560a08201518160050190805190602001906104629291906104ac565b5050507f416cfa4330a4565f45c2fd2dd4826a83a37443aba2ce6f79477c7355afac35fa33858585428660405161049e9695949392919061084a565b60405180910390a150505050565b8280546104b890610ad9565b90600052602060002090601f0160209004810192826104da5760008555610521565b82601f106104f357805160ff1916838001178555610521565b82800160010185558215610521579182015b82811115610520578251825591602001919060010190610505565b5b50905061052e9190610532565b5090565b5b8082111561054b576000816000905550600101610533565b5090565b600061056261055d84610927565b6108f6565b90508281526020810184848401111561057a57600080fd5b610585848285610a97565b509392505050565b60008135905061059c81610ba9565b92915050565b600082601f8301126105b357600080fd5b81356105c384826020860161054f565b91505092915050565b6000813590506105db81610bc0565b92915050565b600080600080608085870312156105f757600080fd5b60006106058782880161058d565b9450506020610616878288016105cc565b935050604085013567ffffffffffffffff81111561063357600080fd5b61063f878288016105a2565b925050606085013567ffffffffffffffff81111561065c57600080fd5b610668878288016105a2565b91505092959194509250565b6000610680838361079c565b905092915050565b61069181610a61565b82525050565b6106a081610a13565b82525050565b6106af81610a13565b82525050565b60006106c082610967565b6106ca818561098a565b9350836020820285016106dc85610957565b8060005b8581101561071857848403895281516106f98582610674565b94506107048361097d565b925060208a019950506001810190506106e0565b50829750879550505050505092915050565b600061073582610972565b61073f818561099b565b935061074f818560208601610aa6565b61075881610b98565b840191505092915050565b600061076e82610972565b61077881856109ac565b9350610788818560208601610aa6565b61079181610b98565b840191505092915050565b600060c0830160008301516107b46000860182610697565b5060208301516107c76020860182610697565b5060408301516107da604086018261082c565b50606083015184820360608601526107f2828261072a565b9150506080830151610807608086018261082c565b5060a083015184820360a086015261081f828261072a565b9150508091505092915050565b61083581610a57565b82525050565b61084481610a57565b82525050565b600060c08201905061085f60008301896106a6565b61086c6020830188610688565b610879604083018761083b565b818103606083015261088b8186610763565b905061089a608083018561083b565b81810360a08301526108ac8184610763565b9050979650505050505050565b600060208201905081810360008301526108d381846106b5565b905092915050565b60006020820190506108f0600083018461083b565b92915050565b6000604051905081810181811067ffffffffffffffff8211171561091d5761091c610b69565b5b8060405250919050565b600067ffffffffffffffff82111561094257610941610b69565b5b601f19601f8301169050602081019050919050565b6000819050602082019050919050565b600081519050919050565b600081519050919050565b6000602082019050919050565b600082825260208201905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b60006109c882610a57565b91506109d383610a57565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03821115610a0857610a07610b0b565b5b828201905092915050565b6000610a1e82610a37565b9050919050565b6000610a3082610a37565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b6000610a6c82610a73565b9050919050565b6000610a7e82610a85565b9050919050565b6000610a9082610a37565b9050919050565b82818337600083830152505050565b60005b83811015610ac4578082015181840152602081019050610aa9565b83811115610ad3576000848401525b50505050565b60006002820490506001821680610af157607f821691505b60208210811415610b0557610b04610b3a565b5b50919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6000601f19601f8301169050919050565b610bb281610a25565b8114610bbd57600080fd5b50565b610bc981610a57565b8114610bd457600080fd5b5056fea2646970667358221220dc8ce9ecdd6568ed2f8ef08f2588c268812bc8581abc0b3c73a3d3fa1c8bf4a664736f6c63430008000033",nQ={},rQ={},iQ={_format:JK,contractName:YK,sourceName:XK,abi:ZK,bytecode:eQ,deployedBytecode:tQ,linkReferences:nQ,deployedLinkReferences:rQ},oQ=iQ.abi,sQ="0x92d95a61702846B7C40cCF1E5B5a4339Ad69D57D",q2=$o.createContext(),{ethereum:rs}=window,XA=()=>{const e=new WK(rs).getSigner();return new If(sQ,oQ,e)},aQ=({children:t})=>{const[e,n]=G.useState(""),[r,i]=G.useState({addressTo:"",amount:"",keyword:"",message:""}),[s,a]=G.useState(!1),[c,l]=G.useState(localStorage.getItem("transactionCount")),[h,p]=G.useState([]),g=(S,T)=>{i(x=>({...x,[T]:S.target.value}))},y=async()=>{try{if(!rs)return alert("Please Install Metamask");const x=(await XA().getAllTransactions()).map(_=>({addressTo:_.receiver,addressFrom:_.sender,timestamp:new Date(_.timestamp.toNumber()*1e3).toLocaleString(),message:_.message,keyword:_.keyword,amount:parseInt(_.amount._hex)/10**18}));console.log(x),p(x)}catch(S){console.log(S)}},w=async()=>{try{if(!rs)return alert("Please Install Metamask");const S=await rs.request({method:"eth_accounts"});S.length?(n(S[0]),y()):console.log("No accounts found."),console.log(S)}catch(S){throw console.log(S),new Error("No ethereum object.")}},E=async()=>{try{if(rs){const T=await XA().getTransactionCount();window.localStorage.setItem("transactionCount",T)}}catch{throw new Error("No ethereum object.")}},I=async()=>{try{if(!rs)return alert("Please install metamask");const S=await rs.request({method:"eth_requestAccounts"});n(S[0])}catch(S){throw console.log(S),new Error("No ethereum object.")}},k=async()=>{try{if(!rs)return alert("Please install metamask");const{addressTo:S,amount:T,keyword:x,message:_}=r,R=XA(),F=qH(T);await rs.request({method:"eth_sendTransaction",params:[{from:e,to:S,gas:"0x5208",value:F._hex}]});const q=await R.addToBlockchain(S,F,_,x);a(!0),console.log(`Loading - ${q.hash}`),await q.wait(),a(!1),console.log(`Success - ${q.hash}`);const H=await R.getTransactionCount();l(H.toNumber()),window.reload()}catch(S){throw console.log(S),new Error("No ethereum object.")}};return G.useEffect(()=>{w(),E()},[c]),D.jsx(q2.Provider,{value:{transactions:h,isLoading:s,connectWallet:I,currentAccount:e,formData:r,setFormData:i,handleChange:g,sendTransaction:k},children:t})},QI=t=>`${t.slice(0,5)}...${t.slice(t.length-4)}`,uQ="oSv6cyFRAj84nuuKDrZT2FAnQzgeFOCP",cQ=({keyword:t})=>{const[e,n]=G.useState(""),r=async()=>{var i,s;try{const a=await fetch(`https://api.giphy.com/v1/gifs/search?api_key=${uQ}&q=${t.split(" ").join("")}&limit=1`),{data:c}=await a.json();n((s=(i=c[0])==null?void 0:i.images)==null?void 0:s.downsized_medium.url)}catch{n("https://metro.co.uk/wp-content/uploads/2015/05/pokemon_crying.gif?quality=90&strip=all&zoom=1&resize=500%2C284")}};return G.useEffect(()=>{t&&r()},[t]),e},lQ=({addressTo:t,addressFrom:e,timestamp:n,message:r,keyword:i,amount:s,url:a})=>{const c=cQ({keyword:i});return D.jsx("div",{className:`bg-[#181918] m-4 flex flex-1\r
        2xl:min-w-[450px]\r
        2xl:max-w-[450px]\r
        sm:min-w-[270px]\r
        sm:max-w-[300px]\r
        flex-col p-3 rounded-md hover:shadow-2xl\r
        `,children:D.jsxs("div",{className:"flex flex-col items-center w-full mt-3",children:[D.jsxs("div",{className:"justify-start w-full mb-6 p-2",children:[D.jsx("a",{href:`https://sepolia.etherscan.io/address/${e}`,target:"_blank",rel:"noopener noreferrer",children:D.jsxs("p",{className:"text-white text-base",children:["From: ",QI(e)]})}),D.jsx("a",{href:`https://sepolia.etherscan.io/address/${t}`,target:"_blank",rel:"noopener noreferrer",children:D.jsxs("p",{className:"text-white text-base",children:["To: ",QI(t)]})}),D.jsxs("p",{className:"text-white text-base",children:["Amount: ",s," ETH"]}),r&&D.jsxs(D.Fragment,{children:[D.jsx("br",{}),D.jsxs("p",{className:"text-white text-base",children:["Message: ",r]})]})]}),D.jsx("img",{src:c||a,alt:"gif",className:"w-full h-64 2xl:h-96 rounded-medium shadow-lg object-cover"}),D.jsx("div",{className:"bg-black p-3 px-5 w-max rounded-3xl -mt-5 shadow-2xl",children:D.jsx("p",{className:"text-[#37c7da] font-bold",children:n})})]})})},fQ=()=>{const{currentAccount:t,transactions:e}=G.useContext(q2);return D.jsx("div",{className:"flex w-full justify-center items-center 2xl:px-20 gradient-bg-transactions",children:D.jsxs("div",{className:"flex flex-col md:p-12 py-12 px-4",children:[t?D.jsx("h3",{className:"text-white text-3xl text-center my-2",children:"Latest Transactions"}):D.jsx("h3",{className:"text-white text-3xl text-center my-2",children:"Connect your account to see Latest Transactions"}),D.jsx("div",{className:"flex flex-wrap justify-center items-center mt-10",children:e.reverse().map((n,r)=>D.jsx(lQ,{...n},r))})]})})};function hQ(t){return Zc({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M11.944 17.97L4.58 13.62 11.943 24l7.37-10.38-7.372 4.35h.003zM12.056 0L4.69 12.223l7.365 4.354 7.365-4.35L12.056 0z"}}]})(t)}const Ml="min-h-[70px] sm:px-0 px-2 sm:min-w-[120px] flex justify-center items-center border-[0.5px] border-gray-400 text-sm font-light text-white",dy=({placeholder:t,name:e,type:n,value:r,handleChange:i})=>D.jsx("input",{placeholder:t,type:n,step:"0.0001",value:r,onChange:s=>i(s,e),className:"my-2 w-full rounded-sm p-2 outline-none bg-transparent text-white border-none text-sm white-glassmorphism"}),dQ=()=>{const{connectWallet:t,currentAccount:e,formData:n,sendTransaction:r,handleChange:i,isLoading:s}=G.useContext(q2),a=c=>{const{addressTo:l,amount:h,keyword:p,message:g}=n;c.preventDefault(),!(!l||!h||!p||!g)&&r()};return D.jsxs("div",{className:"flex flex-col md:flex-row w-full justify-center items-center",children:[D.jsx("div",{className:"flex mf:flex-row flex-col items-start justify-between md:p-20 py-12 px-4",children:D.jsxs("div",{className:"flex flex-1 justify-start flex-col mf:mr-10",children:[D.jsxs("h1",{className:"text-3xl sm:text-5xl text-white text-gradient py-1",children:["Decentralized chess ",D.jsx("br",{})," the power is with you"]}),D.jsx("p",{className:"test-left mt-5 text-white font-light md:w-9/12 w-11/12 text-base",children:"Explore the world of chess by staking cryptocurrencies easily on Chess Fortress."}),!e&&D.jsx("button",{type:"button",onClick:t,className:"flex flex-row justify-center items-center my-5 bg-[#2952e3] p-3 rounded-full cursor-pointer hover:bg-[#2546bd]",children:D.jsx("p",{className:"text-white text-base font-semibold",children:"Connect Wallet "})}),D.jsxs("div",{className:"grid sm:grid-cols-3 grid-cols-2 w-full mt-10",children:[D.jsx("div",{className:Ml,children:"Reliability"}),D.jsx("div",{className:Ml,children:"Security"}),D.jsx("div",{className:Ml,children:"Tezos"}),D.jsx("div",{className:Ml,children:"Web 3.0"}),D.jsx("div",{className:Ml,children:"Low fees"}),D.jsx("div",{className:Ml,children:"Blockchain"})]})]})}),D.jsxs("div",{className:"flex flex-col flex-1 items-center justify-start w-full mf:mt-0 mt-10",children:[D.jsx("div",{className:"p-3 justify-end items-start flex-col rounded-xl h-40 sm:w-72 w-full my-5 eth-card white-glassmorphism",children:D.jsxs("div",{className:"flex justify-between flex-col w-full h-full",children:[D.jsxs("div",{className:"flex justify-between items-start",children:[D.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-white flex justify-center items-center",children:D.jsx(hQ,{fontSize:21,color:"#fff"})}),D.jsx(fH,{fontSize:17,color:"#fff"})]}),D.jsxs("div",{children:[D.jsx("p",{className:"text-white font-light text-sm",children:QI(e)}),D.jsx("p",{className:"text-white font-semibold text-lg mt-1",children:"Tezos"})]})]})}),D.jsxs("div",{className:"p-5 sm:w-96 w-full flex flex-col justify-start items-center blue-glassmorphism",children:[D.jsx(dy,{placeholder:"Address To",name:"addressTo",type:"text",handleChange:i}),D.jsx(dy,{placeholder:"Amount (ETH)",name:"amount",type:"number",handleChange:i}),D.jsx(dy,{placeholder:"Keyword (Gif)",name:"keyword",type:"text",handleChange:i}),D.jsx(dy,{placeholder:"Enter Message",name:"message",type:"text",handleChange:i}),D.jsx("div",{className:"h-[1px] w-full bg-grey-400 my-2"}),s?D.jsx(u$,{}):D.jsx("button",{type:"button",onClick:a,className:"text-white w-full mt-2 border-[1px] p-2 border-[#3d4f7c] rounded-full cursor-pointer",children:"Send Now"})]})]})]})},I3=()=>D.jsxs("div",{className:"w-full flex md:justify-center justify-between items-center flex-col p-4 gradient-bg-footer",children:[D.jsxs("div",{className:"w-full flex sm:flex-row flex-col justify-between items-center my-4",children:[D.jsx("div",{className:"flex flex-[0.5] justify-center items-center",children:D.jsx("img",{src:j8,alt:"logo",className:"w-32"})}),D.jsxs("div",{className:"flex flex-1 justify-evenly items-center flex-wrap sm:mt-0 mt-5 w-full",children:[D.jsx("p",{className:"text-white text-base text-center mx-2 cursor-pointer",children:"Market"}),D.jsx("p",{className:"text-white text-base text-center mx-2 cursor-pointer",children:"Exchange"}),D.jsx("p",{className:"text-white text-base text-center mx-2 cursor-pointer",children:"Tutorials"}),D.jsx("p",{className:"text-white text-base text-center mx-2 cursor-pointer",children:"Wallets"})]})]}),D.jsxs("div",{className:"flex justify-center items-center flex-col mt-5",children:[D.jsx("p",{className:"text-white text-sm text-center",children:"Come join us!"}),D.jsx("p",{className:"text-white text-sm text-center",children:"info@chessfortress.com"})]}),D.jsx("div",{className:"sm:w-[90%] w-full h-[0.25px] bg-gray-400 mt-5"}),D.jsxs("div",{className:"sm:w-[90%] w-full flex justify-between items-center mt-3",children:[D.jsx("p",{className:"text-white text-sm text-center",children:"@chessfortress2023"}),D.jsx("p",{className:"text-white text-sm text-center",children:"All Rights Reserved"})]})]}),pQ=()=>D.jsxs("div",{className:"min-h-screen",children:[D.jsxs("div",{className:"gradient-bg-welcome",children:[D.jsx(V8,{}),D.jsx(dQ,{})]}),D.jsx(gH,{}),D.jsx(fQ,{}),D.jsx(I3,{})]});var T3={};(function(t){var e=function(n){var r="b",i="w",s=-1,a="p",c="n",l="b",h="r",p="q",g="k",y="pnbrqkPNBRQK",w="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",E=["1-0","0-1","1/2-1/2","*"],I={b:[16,32,17,15],w:[-16,-32,-17,-15]},k={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},S=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],T=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],x={p:0,n:1,b:2,r:3,q:4,k:5},_={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},R={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},F=7,q=6,H=1,Ae=0,N={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},tt={w:[{square:N.a1,flag:R.QSIDE_CASTLE},{square:N.h1,flag:R.KSIDE_CASTLE}],b:[{square:N.a8,flag:R.QSIDE_CASTLE},{square:N.h8,flag:R.KSIDE_CASTLE}]},oe=new Array(128),it={w:s,b:s},ft=i,Ke={w:0,b:0},Ht=s,En=0,te=1,we=[],de={},ke={};_i(typeof n>"u"?w:n);function bt(O){typeof O>"u"&&(O=!1),oe=new Array(128),it={w:s,b:s},ft=i,Ke={w:0,b:0},Ht=s,En=0,te=1,we=[],O||(de={}),ke={},cl(Ct())}function yo(){for(var O=[],L={},U=function(z){z in ke&&(L[z]=ke[z])};we.length>0;)O.push(vo());for(U(Ct());O.length>0;)li(O.pop()),U(Ct());ke=L}function Fr(){_i(w)}function _i(O,L){typeof L>"u"&&(L=!1);var U=O.split(/\s+/),z=U[0],ne=0;if(!gr(O).valid)return!1;bt(L);for(var ie=0;ie<z.length;ie++){var ye=z.charAt(ie);if(ye==="/")ne+=8;else if(Wo(ye))ne+=parseInt(ye,10);else{var Le=ye<"a"?i:r;Au({type:ye.toLowerCase(),color:Le},Qe(ne)),ne++}}return ft=U[1],U[2].indexOf("K")>-1&&(Ke.w|=R.KSIDE_CASTLE),U[2].indexOf("Q")>-1&&(Ke.w|=R.QSIDE_CASTLE),U[2].indexOf("k")>-1&&(Ke.b|=R.KSIDE_CASTLE),U[2].indexOf("q")>-1&&(Ke.b|=R.QSIDE_CASTLE),Ht=U[3]==="-"?s:N[U[3]],En=parseInt(U[4],10),te=parseInt(U[5],10),cl(Ct()),!0}function gr(O){var L={0:"No errors.",1:"FEN string must contain six space-delimited fields.",2:"6th field (move number) must be a positive integer.",3:"5th field (half move counter) must be a non-negative integer.",4:"4th field (en-passant square) is invalid.",5:"3rd field (castling availability) is invalid.",6:"2nd field (side to move) is invalid.",7:"1st field (piece positions) does not contain 8 '/'-delimited rows.",8:"1st field (piece positions) is invalid [consecutive numbers].",9:"1st field (piece positions) is invalid [invalid piece].",10:"1st field (piece positions) is invalid [row too large].",11:"Illegal en-passant square"},U=O.split(/\s+/);if(U.length!==6)return{valid:!1,error_number:1,error:L[1]};if(isNaN(U[5])||parseInt(U[5],10)<=0)return{valid:!1,error_number:2,error:L[2]};if(isNaN(U[4])||parseInt(U[4],10)<0)return{valid:!1,error_number:3,error:L[3]};if(!/^(-|[abcdefgh][36])$/.test(U[3]))return{valid:!1,error_number:4,error:L[4]};if(!/^(KQ?k?q?|Qk?q?|kq?|q|-)$/.test(U[2]))return{valid:!1,error_number:5,error:L[5]};if(!/^(w|b)$/.test(U[1]))return{valid:!1,error_number:6,error:L[6]};var z=U[0].split("/");if(z.length!==8)return{valid:!1,error_number:7,error:L[7]};for(var ne=0;ne<z.length;ne++){for(var ie=0,ye=!1,Le=0;Le<z[ne].length;Le++)if(isNaN(z[ne][Le])){if(!/^[prnbqkPRNBQK]$/.test(z[ne][Le]))return{valid:!1,error_number:9,error:L[9]};ie+=1,ye=!1}else{if(ye)return{valid:!1,error_number:8,error:L[8]};ie+=parseInt(z[ne][Le],10),ye=!0}if(ie!==8)return{valid:!1,error_number:10,error:L[10]}}return U[3][1]=="3"&&U[1]=="w"||U[3][1]=="6"&&U[1]=="b"?{valid:!1,error_number:11,error:L[11]}:{valid:!0,error_number:0,error:L[0]}}function Ct(){for(var O=0,L="",U=N.a8;U<=N.h1;U++){if(oe[U]==null)O++;else{O>0&&(L+=O,O=0);var z=oe[U].color,ne=oe[U].type;L+=z===i?ne.toUpperCase():ne.toLowerCase()}U+1&136&&(O>0&&(L+=O),U!==N.h1&&(L+="/"),O=0,U+=8)}var ie="";Ke[i]&R.KSIDE_CASTLE&&(ie+="K"),Ke[i]&R.QSIDE_CASTLE&&(ie+="Q"),Ke[r]&R.KSIDE_CASTLE&&(ie+="k"),Ke[r]&R.QSIDE_CASTLE&&(ie+="q"),ie=ie||"-";var ye=Ht===s?"-":Qe(Ht);return[L,ft,ie,ye,En,te].join(" ")}function ht(O){for(var L=0;L<O.length;L+=2)typeof O[L]=="string"&&typeof O[L+1]=="string"&&(de[O[L]]=O[L+1]);return de}function cl(O){we.length>0||(O!==w?(de.SetUp="1",de.FEN=O):(delete de.SetUp,delete de.FEN))}function Ug(O){var L=oe[N[O]];return L?{type:L.type,color:L.color}:null}function Au(O,L){if(!("type"in O&&"color"in O)||y.indexOf(O.type.toLowerCase())===-1||!(L in N))return!1;var U=N[L];return O.type==g&&!(it[O.color]==s||it[O.color]==U)?!1:(oe[U]={type:O.type,color:O.color},O.type===g&&(it[O.color]=U),cl(Ct()),!0)}function M1(O){var L=Ug(O);return oe[N[O]]=null,L&&L.type===g&&(it[L.color]=s),cl(Ct()),L}function Bg(O,L,U,z,ne){var ie={color:ft,from:L,to:U,flags:z,piece:O[L].type};return ne&&(ie.flags|=R.PROMOTION,ie.promotion=ne),O[U]?ie.captured=O[U].type:z&R.EP_CAPTURE&&(ie.captured=a),ie}function An(O){function L(Ui,mr,ut,Nt,Ks){if(Ui[ut].type===a&&(Fi(Nt)===Ae||Fi(Nt)===F))for(var Qs=[p,h,l,c],Jo=0,Ws=Qs.length;Jo<Ws;Jo++)mr.push(Bg(Ui,ut,Nt,Ks,Qs[Jo]));else mr.push(Bg(Ui,ut,Nt,Ks))}var U=[],z=ft,ne=qs(z),ie={b:H,w:q},ye=N.a8,Le=N.h1,De=!1,Me=typeof O<"u"&&"legal"in O?O.legal:!0;if(typeof O<"u"&&"square"in O)if(O.square in N)ye=Le=N[O.square],De=!0;else return[];for(var Ve=ye;Ve<=Le;Ve++){if(Ve&136){Ve+=7;continue}var an=oe[Ve];if(!(an==null||an.color!==z))if(an.type===a){var dt=Ve+I[z][0];if(oe[dt]==null){L(oe,U,Ve,dt,R.NORMAL);var dt=Ve+I[z][1];ie[z]===Fi(Ve)&&oe[dt]==null&&L(oe,U,Ve,dt,R.BIG_PAWN)}for($e=2;$e<4;$e++){var dt=Ve+I[z][$e];dt&136||(oe[dt]!=null&&oe[dt].color===ne?L(oe,U,Ve,dt,R.CAPTURE):dt===Ht&&L(oe,U,Ve,Ht,R.EP_CAPTURE))}}else for(var $e=0,Et=k[an.type].length;$e<Et;$e++)for(var un=k[an.type][$e],dt=Ve;dt+=un,!(dt&136);){if(oe[dt]==null)L(oe,U,Ve,dt,R.NORMAL);else{if(oe[dt].color===z)break;L(oe,U,Ve,dt,R.CAPTURE);break}if(an.type==="n"||an.type==="k")break}}if(!De||Le===it[z]){if(Ke[z]&R.KSIDE_CASTLE){var zt=it[z],Jt=zt+2;oe[zt+1]==null&&oe[Jt]==null&&!Li(ne,it[z])&&!Li(ne,zt+1)&&!Li(ne,Jt)&&L(oe,U,it[z],Jt,R.KSIDE_CASTLE)}if(Ke[z]&R.QSIDE_CASTLE){var zt=it[z],Jt=zt-2;oe[zt-1]==null&&oe[zt-2]==null&&oe[zt-3]==null&&!Li(ne,it[z])&&!Li(ne,zt-1)&&!Li(ne,Jt)&&L(oe,U,it[z],Jt,R.QSIDE_CASTLE)}}if(!Me)return U;for(var Ln=[],Ve=0,Et=U.length;Ve<Et;Ve++)li(U[Ve]),Mi(z)||Ln.push(U[Ve]),vo();return Ln}function Ri(O,L){var U="";if(O.flags&R.KSIDE_CASTLE)U="O-O";else if(O.flags&R.QSIDE_CASTLE)U="O-O-O";else{var z=at(O,L);O.piece!==a&&(U+=O.piece.toUpperCase()+z),O.flags&(R.CAPTURE|R.EP_CAPTURE)&&(O.piece===a&&(U+=Qe(O.from)[0]),U+="x"),U+=Qe(O.to),O.flags&R.PROMOTION&&(U+="="+O.promotion.toUpperCase())}return li(O),Su()&&(rd()?U+="#":U+="+"),vo(),U}function Xn(O){return O.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function Li(O,L){for(var U=N.a8;U<=N.h1;U++){if(U&136){U+=7;continue}if(!(oe[U]==null||oe[U].color!==O)){var z=oe[U],ne=U-L,ie=ne+119;if(S[ie]&1<<x[z.type]){if(z.type===a){if(ne>0){if(z.color===i)return!0}else if(z.color===r)return!0;continue}if(z.type==="n"||z.type==="k")return!0;for(var ye=T[ie],Le=U+ye,De=!1;Le!==L;){if(oe[Le]!=null){De=!0;break}Le+=ye}if(!De)return!0}}}return!1}function Mi(O){return Li(qs(O),it[O])}function Su(){return Mi(ft)}function rd(){return Su()&&An().length===0}function id(){return!Su()&&An().length===0}function od(){for(var O={},L=[],U=0,z=0,ne=N.a8;ne<=N.h1;ne++){if(z=(z+1)%2,ne&136){ne+=7;continue}var ie=oe[ne];ie&&(O[ie.type]=ie.type in O?O[ie.type]+1:1,ie.type===l&&L.push(z),U++)}if(U===2)return!0;if(U===3&&(O[l]===1||O[c]===1))return!0;if(U===O[l]+2){for(var ye=0,Le=L.length,ne=0;ne<Le;ne++)ye+=L[ne];if(ye===0||ye===Le)return!0}return!1}function sd(){for(var O=[],L={},U=!1;;){var z=vo();if(!z)break;O.push(z)}for(;;){var ne=Ct().split(" ").slice(0,4).join(" ");if(L[ne]=ne in L?L[ne]+1:1,L[ne]>=3&&(U=!0),!O.length)break;li(O.pop())}return U}function F1(O){we.push({move:O,kings:{b:it.b,w:it.w},turn:ft,castling:{b:Ke.b,w:Ke.w},ep_square:Ht,half_moves:En,move_number:te})}function li(O){var L=ft,U=qs(L);if(F1(O),oe[O.to]=oe[O.from],oe[O.from]=null,O.flags&R.EP_CAPTURE&&(ft===r?oe[O.to-16]=null:oe[O.to+16]=null),O.flags&R.PROMOTION&&(oe[O.to]={type:O.promotion,color:L}),oe[O.to].type===g){if(it[oe[O.to].color]=O.to,O.flags&R.KSIDE_CASTLE){var z=O.to-1,ne=O.to+1;oe[z]=oe[ne],oe[ne]=null}else if(O.flags&R.QSIDE_CASTLE){var z=O.to+1,ne=O.to-2;oe[z]=oe[ne],oe[ne]=null}Ke[L]=""}if(Ke[L]){for(var ie=0,ye=tt[L].length;ie<ye;ie++)if(O.from===tt[L][ie].square&&Ke[L]&tt[L][ie].flag){Ke[L]^=tt[L][ie].flag;break}}if(Ke[U]){for(var ie=0,ye=tt[U].length;ie<ye;ie++)if(O.to===tt[U][ie].square&&Ke[U]&tt[U][ie].flag){Ke[U]^=tt[U][ie].flag;break}}O.flags&R.BIG_PAWN?ft==="b"?Ht=O.to-16:Ht=O.to+16:Ht=s,O.piece===a||O.flags&(R.CAPTURE|R.EP_CAPTURE)?En=0:En++,ft===r&&te++,ft=qs(ft)}function vo(){var O=we.pop();if(O==null)return null;var L=O.move;it=O.kings,ft=O.turn,Ke=O.castling,Ht=O.ep_square,En=O.half_moves,te=O.move_number;var U=ft,z=qs(ft);if(oe[L.from]=oe[L.to],oe[L.from].type=L.piece,oe[L.to]=null,L.flags&R.CAPTURE)oe[L.to]={type:L.captured,color:z};else if(L.flags&R.EP_CAPTURE){var ne;U===r?ne=L.to-16:ne=L.to+16,oe[ne]={type:a,color:z}}if(L.flags&(R.KSIDE_CASTLE|R.QSIDE_CASTLE)){var ie,ye;L.flags&R.KSIDE_CASTLE?(ie=L.to+1,ye=L.to-1):L.flags&R.QSIDE_CASTLE&&(ie=L.to-2,ye=L.to+1),oe[ie]=oe[ye],oe[ye]=null}return L}function at(O,L){for(var U=An({legal:!L}),z=O.from,ne=O.to,ie=O.piece,ye=0,Le=0,De=0,Me=0,Ve=U.length;Me<Ve;Me++){var an=U[Me].from,dt=U[Me].to,$e=U[Me].piece;ie===$e&&z!==an&&ne===dt&&(ye++,Fi(z)===Fi(an)&&Le++,Gs(z)===Gs(an)&&De++)}return ye>0?Le>0&&De>0?Qe(z):De>0?Qe(z).charAt(1):Qe(z).charAt(0):""}function ad(){for(var O=`   +------------------------+
`,L=N.a8;L<=N.h1;L++){if(Gs(L)===0&&(O+=" "+"87654321"[Fi(L)]+" |"),oe[L]==null)O+=" . ";else{var U=oe[L].type,z=oe[L].color,ne=z===i?U.toUpperCase():U.toLowerCase();O+=" "+ne+" "}L+1&136&&(O+=`|
`,L+=8)}return O+=`   +------------------------+
`,O+=`     a  b  c  d  e  f  g  h
`,O}function wo(O,L){var U=Xn(O);if(L){var z=U.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/);if(z)var ne=z[1],ie=z[2],ye=z[3],Le=z[4]}for(var De=An(),Me=0,Ve=De.length;Me<Ve;Me++){if(U===Xn(Ri(De[Me]))||L&&U===Xn(Ri(De[Me],!0)))return De[Me];if(z&&(!ne||ne.toLowerCase()==De[Me].piece)&&N[ie]==De[Me].from&&N[ye]==De[Me].to&&(!Le||Le.toLowerCase()==De[Me].promotion))return De[Me]}return null}function Fi(O){return O>>4}function Gs(O){return O&15}function Qe(O){var L=Gs(O),U=Fi(O);return"abcdefgh".substring(L,L+1)+"87654321".substring(U,U+1)}function qs(O){return O===i?r:i}function Wo(O){return"0123456789".indexOf(O)!==-1}function Ur(O){var L=ud(O);L.san=Ri(L,!1),L.to=Qe(L.to),L.from=Qe(L.from);var U="";for(var z in R)R[z]&L.flags&&(U+=_[z]);return L.flags=U,L}function ud(O){var L=O instanceof Array?[]:{};for(var U in O)typeof U=="object"?L[U]=ud(O[U]):L[U]=O[U];return L}function Sn(O){return O.replace(/^\s+|\s+$/g,"")}function cd(O){for(var L=An({legal:!1}),U=0,z=ft,ne=0,ie=L.length;ne<ie;ne++){if(li(L[ne]),!Mi(z))if(O-1>0){var ye=cd(O-1);U+=ye}else U++;vo()}return U}return{WHITE:i,BLACK:r,PAWN:a,KNIGHT:c,BISHOP:l,ROOK:h,QUEEN:p,KING:g,SQUARES:function(){for(var O=[],L=N.a8;L<=N.h1;L++){if(L&136){L+=7;continue}O.push(Qe(L))}return O}(),FLAGS:_,load:function(O){return _i(O)},reset:function(){return Fr()},moves:function(O){for(var L=An(O),U=[],z=0,ne=L.length;z<ne;z++)typeof O<"u"&&"verbose"in O&&O.verbose?U.push(Ur(L[z])):U.push(Ri(L[z],!1));return U},in_check:function(){return Su()},in_checkmate:function(){return rd()},in_stalemate:function(){return id()},in_draw:function(){return En>=100||id()||od()||sd()},insufficient_material:function(){return od()},in_threefold_repetition:function(){return sd()},game_over:function(){return En>=100||rd()||id()||od()||sd()},validate_fen:function(O){return gr(O)},fen:function(){return Ct()},board:function(){for(var O=[],L=[],U=N.a8;U<=N.h1;U++)oe[U]==null?L.push(null):L.push({type:oe[U].type,color:oe[U].color}),U+1&136&&(O.push(L),L=[],U+=8);return O},pgn:function(O){var L=typeof O=="object"&&typeof O.newline_char=="string"?O.newline_char:`
`,U=typeof O=="object"&&typeof O.max_width=="number"?O.max_width:0,z=[],ne=!1;for(var ie in de)z.push("["+ie+' "'+de[ie]+'"]'+L),ne=!0;ne&&we.length&&z.push(L);for(var ye=function(Et){var un=ke[Ct()];if(typeof un<"u"){var zt=Et.length>0?" ":"";Et=`${Et}${zt}{${un}}`}return Et},Le=[];we.length>0;)Le.push(vo());var De=[],Me="";for(Le.length===0&&De.push(ye(""));Le.length>0;){Me=ye(Me);var Ve=Le.pop();!we.length&&Ve.color==="b"?Me=te+". ...":Ve.color==="w"&&(Me.length&&De.push(Me),Me=te+"."),Me=Me+" "+Ri(Ve,!1),li(Ve)}if(Me.length&&De.push(ye(Me)),typeof de.Result<"u"&&De.push(de.Result),U===0)return z.join("")+De.join(" ");for(var an=function(){return z.length>0&&z[z.length-1]===" "?(z.pop(),!0):!1},dt=function(Et,un){for(var zt of un.split(" "))if(zt){if(Et+zt.length>U){for(;an();)Et--;z.push(L),Et=0}z.push(zt),Et+=zt.length,z.push(" "),Et++}return an()&&Et--,Et},$e=0,ie=0;ie<De.length;ie++){if($e+De[ie].length>U&&De[ie].includes("{")){$e=dt($e,De[ie]);continue}$e+De[ie].length>U&&ie!==0?(z[z.length-1]===" "&&z.pop(),z.push(L),$e=0):ie!==0&&(z.push(" "),$e++),z.push(De[ie]),$e+=De[ie].length}return z.join("")},load_pgn:function(O,L){var U=typeof L<"u"&&"sloppy"in L?L.sloppy:!1;function z(ut){return ut.replace(/\\/g,"\\")}function ne(ut){for(var Nt in ut)return!0;return!1}function ie(ut,Nt){for(var Ks=typeof Nt=="object"&&typeof Nt.newline_char=="string"?Nt.newline_char:`\r?
`,Qs={},Jo=ut.split(new RegExp(z(Ks))),Ws="",ld="",Js=0;Js<Jo.length;Js++)Ws=Jo[Js].replace(/^\[([A-Z][A-Za-z]*)\s.*\]$/,"$1"),ld=Jo[Js].replace(/^\[[A-Za-z]+\s"(.*)"\ *\]$/,"$1"),Sn(Ws).length>0&&(Qs[Ws]=ld);return Qs}var ye=typeof L=="object"&&typeof L.newline_char=="string"?L.newline_char:`\r?
`,Le=new RegExp("^(\\[((?:"+z(ye)+")|.)*\\])(?:"+z(ye)+"){2}"),De=Le.test(O)?Le.exec(O)[1]:"";Fr();var Me=ie(De,L);for(var Ve in Me)ht([Ve,Me[Ve]]);if(Me.SetUp==="1"&&!("FEN"in Me&&_i(Me.FEN,!0)))return!1;for(var an=function(ut){return Array.from(ut).map(function(Nt){return Nt.charCodeAt(0)<128?Nt.charCodeAt(0).toString(16):encodeURIComponent(Nt).replace(/\%/g,"").toLowerCase()}).join("")},dt=function(ut){return ut.length==0?"":decodeURIComponent("%"+ut.match(/.{1,2}/g).join("%"))},$e=function(ut){return ut=ut.replace(new RegExp(z(ye),"g")," "),`{${an(ut.slice(1,ut.length-1))}}`},Et=function(ut){if(ut.startsWith("{")&&ut.endsWith("}"))return dt(ut.slice(1,ut.length-1))},un=O.replace(De,"").replace(new RegExp(`({[^}]*})+?|;([^${z(ye)}]*)`,"g"),function(ut,Nt,Ks){return Nt!==void 0?$e(Nt):" "+$e(`{${Ks.slice(1)}}`)}).replace(new RegExp(z(ye),"g")," "),zt=/(\([^\(\)]+\))+?/g;zt.test(un);)un=un.replace(zt,"");un=un.replace(/\d+\.(\.\.)?/g,""),un=un.replace(/\.\.\./g,""),un=un.replace(/\$\d+/g,"");var Jt=Sn(un).split(new RegExp(/\s+/));Jt=Jt.join(",").replace(/,,+/g,",").split(",");for(var Ln="",Ui=0;Ui<Jt.length-1;Ui++){var mr=Et(Jt[Ui]);if(mr!==void 0){ke[Ct()]=mr;continue}if(Ln=wo(Jt[Ui],U),Ln==null)return!1;li(Ln)}if(mr=Et(Jt[Jt.length-1]),mr!==void 0&&(ke[Ct()]=mr,Jt.pop()),Ln=Jt[Jt.length-1],E.indexOf(Ln)>-1)ne(de)&&typeof de.Result>"u"&&ht(["Result",Ln]);else{if(Ln=wo(Ln,U),Ln==null)return!1;li(Ln)}return!0},header:function(){return ht(arguments)},ascii:function(){return ad()},turn:function(){return ft},move:function(O,L){var U=typeof L<"u"&&"sloppy"in L?L.sloppy:!1,z=null;if(typeof O=="string")z=wo(O,U);else if(typeof O=="object"){for(var ne=An(),ie=0,ye=ne.length;ie<ye;ie++)if(O.from===Qe(ne[ie].from)&&O.to===Qe(ne[ie].to)&&(!("promotion"in ne[ie])||O.promotion===ne[ie].promotion)){z=ne[ie];break}}if(!z)return null;var Le=Ur(z);return li(z),Le},undo:function(){var O=vo();return O?Ur(O):null},clear:function(){return bt()},put:function(O,L){return Au(O,L)},get:function(O){return Ug(O)},remove:function(O){return M1(O)},perft:function(O){return cd(O)},square_color:function(O){if(O in N){var L=N[O];return(Fi(L)+Gs(L))%2===0?"light":"dark"}return null},history:function(O){for(var L=[],U=[],z=typeof O<"u"&&("verbose"in O)&&O.verbose;we.length>0;)L.push(vo());for(;L.length>0;){var ne=L.pop();z?U.push(Ur(ne)):U.push(Ri(ne)),li(ne)}return U},get_comment:function(){return ke[Ct()]},set_comment:function(O){ke[Ct()]=O.replace("{","[").replace("}","]")},delete_comment:function(){var O=ke[Ct()];return delete ke[Ct()],O},get_comments:function(){return yo(),Object.keys(ke).map(function(O){return{fen:O,comment:ke[O]}})},delete_comments:function(){return yo(),Object.keys(ke).map(function(O){var L=ke[O];return delete ke[O],{fen:O,comment:L}})}}};t.Chess=e})(T3);var WI=function(t,e){return WI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},WI(t,e)};function pe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");WI(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var w0=function(){return w0=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},w0.apply(this,arguments)};function J(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(p){try{h(r.next(p))}catch(g){a(g)}}function l(p){try{h(r.throw(p))}catch(g){a(g)}}function h(p){p.done?s(p.value):i(p.value).then(c,l)}h((r=r.apply(t,e||[])).next())})}function Q(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(h){return function(p){return l([h,p])}}function l(h){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Tf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function za(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(c){a={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function pt(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Go(t){return typeof t=="function"}function x3(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ZA=x3(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function JI(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var e1=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var c=Tf(a),l=c.next();!l.done;l=c.next()){var h=l.value;h.remove(this)}}catch(I){e={error:I}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}else a.remove(this);var p=this.initialTeardown;if(Go(p))try{p()}catch(I){s=I instanceof ZA?I.errors:[I]}var g=this._finalizers;if(g){this._finalizers=null;try{for(var y=Tf(g),w=y.next();!w.done;w=y.next()){var E=w.value;try{bP(E)}catch(I){s=s??[],I instanceof ZA?s=pt(pt([],za(s)),za(I.errors)):s.push(I)}}}catch(I){r={error:I}}finally{try{w&&!w.done&&(i=y.return)&&i.call(y)}finally{if(r)throw r.error}}}if(s)throw new ZA(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)bP(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&JI(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&JI(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),C3=e1.EMPTY;function N3(t){return t instanceof e1||t&&"closed"in t&&Go(t.remove)&&Go(t.add)&&Go(t.unsubscribe)}function bP(t){Go(t)?t():t.unsubscribe()}var k3={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},YI={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=YI.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,pt([t,e],za(n))):setTimeout.apply(void 0,pt([t,e],za(n)))},clearTimeout:function(t){var e=YI.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function gQ(t){YI.setTimeout(function(){throw t})}function EP(){}function qy(t){t()}var K2=function(t){pe(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,N3(n)&&n.add(r)):r.destination=wQ,r}return e.create=function(n,r,i){return new XI(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(e1),mQ=Function.prototype.bind;function eS(t,e){return mQ.call(t,e)}var yQ=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){py(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){py(r)}else py(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){py(n)}},t}(),XI=function(t){pe(e,t);function e(n,r,i){var s=t.call(this)||this,a;if(Go(n)||!n)a={next:n??void 0,error:r??void 0,complete:i??void 0};else{var c;s&&k3.useDeprecatedNextContext?(c=Object.create(n),c.unsubscribe=function(){return s.unsubscribe()},a={next:n.next&&eS(n.next,c),error:n.error&&eS(n.error,c),complete:n.complete&&eS(n.complete,c)}):a=n}return s.destination=new yQ(a),s}return e}(K2);function py(t){gQ(t)}function vQ(t){throw t}var wQ={closed:!0,next:EP,error:vQ,complete:EP},bQ=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function EQ(t){return t}function AQ(t){return t.length===0?EQ:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var ZI=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=IQ(e)?e:new XI(e,n,r);return qy(function(){var a=i,c=a.operator,l=a.source;s.add(c?c.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=AP(n),new n(function(i,s){var a=new XI({next:function(c){try{e(c)}catch(l){s(l),a.unsubscribe()}},error:s,complete:i});r.subscribe(a)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[bQ]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return AQ(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=AP(e),new e(function(r,i){var s;n.subscribe(function(a){return s=a},function(a){return i(a)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function AP(t){var e;return(e=t??k3.Promise)!==null&&e!==void 0?e:Promise}function SQ(t){return t&&Go(t.next)&&Go(t.error)&&Go(t.complete)}function IQ(t){return t&&t instanceof K2||SQ(t)&&N3(t)}function TQ(t){return Go(t==null?void 0:t.lift)}function xQ(t){return function(e){if(TQ(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function CQ(t,e,n,r,i){return new NQ(t,e,n,r,i)}var NQ=function(t){pe(e,t);function e(n,r,i,s,a,c){var l=t.call(this,n)||this;return l.onFinalize=a,l.shouldUnsubscribe=c,l._next=r?function(h){try{r(h)}catch(p){n.error(p)}}:t.prototype._next,l._error=s?function(h){try{s(h)}catch(p){n.error(p)}finally{this.unsubscribe()}}:t.prototype._error,l._complete=i?function(){try{i()}catch(h){n.error(h)}finally{this.unsubscribe()}}:t.prototype._complete,l}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(K2),kQ=x3(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),O3=function(t){pe(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new SP(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new kQ},e.prototype.next=function(n){var r=this;qy(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var a=Tf(r.currentObservers),c=a.next();!c.done;c=a.next()){var l=c.value;l.next(n)}}catch(h){i={error:h}}finally{try{c&&!c.done&&(s=a.return)&&s.call(a)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;qy(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;qy(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,a=i.isStopped,c=i.observers;return s||a?C3:(this.currentObservers=null,c.push(n),new e1(function(){r.currentObservers=null,JI(c,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,a=r.isStopped;i?n.error(s):a&&n.complete()},e.prototype.asObservable=function(){var n=new ZI;return n.source=this,n},e.create=function(n,r){return new SP(n,r)},e}(ZI),SP=function(t){pe(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:C3},e}(O3),OQ=function(t){pe(e,t);function e(n){var r=t.call(this)||this;return r._value=n,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(n){var r=t.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},e.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,s=n._value;if(r)throw i;return this._throwIfClosed(),s},e.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},e}(O3);function PQ(t,e){return xQ(function(n,r){var i=0;n.subscribe(CQ(r,function(s){r.next(t.call(e,s,i++))}))})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DQ(t){return b0(void 0,t)}function b0(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)!e.hasOwnProperty(r)||!_Q(r)||(t[r]=b0(t[r],e[r]));return t}function _Q(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RQ=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){e.resolve=n,e.reject=r})}return t.prototype.wrapCallback=function(e){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(r):e(r,i))}},t}();function LQ(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MQ(){return typeof self=="object"&&self.self===self}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FQ="FirebaseError",UQ=function(t){pe(e,t);function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name=FQ,Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Q2.prototype.create),s}return e}(Error),Q2=function(){function t(e,n,r){this.service=e,this.serviceName=n,this.errors=r}return t.prototype.create=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+e,a=this.errors[e],c=a?BQ(a,i):"Error",l=this.serviceName+": "+c+" ("+s+").",h=new UQ(s,l,i);return h},t}();function BQ(t,e){return t.replace(jQ,function(n,r){var i=e[r];return i!=null?String(i):"<"+r+"?>"})}var jQ=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function VQ(t,e){var n=new $Q(t,e);return n.subscribe.bind(n)}var $Q=function(){function t(e,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(r)}).catch(function(i){r.error(i)})}return t.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},t.prototype.subscribe=function(e,n,r){var i=this,s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");HQ(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=tS),s.error===void 0&&(s.error=tS),s.complete===void 0&&(s.complete=tS);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},t.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},t.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},t.prototype.sendOne=function(e,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[e]!==void 0)try{n(r.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},t.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},t}();function HQ(t,e){if(typeof t!="object"||t===null)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&typeof t[i]=="function")return!0}return!1}function tS(){}var W2=function(){function t(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zQ=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(e){var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var r=new RQ;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n,r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,!!this.shouldAutoInitialize()){if(qQ(e))try{this.getOrInitializeService({instanceIdentifier:Qu})}catch{}try{for(var i=Tf(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=za(s.value,2),c=a[0],l=a[1],h=this.normalizeInstanceIdentifier(c);try{var p=this.getOrInitializeService({instanceIdentifier:h});l.resolve(p)}catch{}}}catch(g){n={error:g}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},t.prototype.clearInstance=function(e){e===void 0&&(e=Qu),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return J(this,void 0,void 0,function(){var e;return Q(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(pt(pt([],za(e.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),za(e.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.isInitialized=function(e){return e===void 0&&(e=Qu),this.instances.has(e)},t.prototype.getOptions=function(e){return e===void 0&&(e=Qu),this.instancesOptions.get(e)||{}},t.prototype.initialize=function(e){var n,r;e===void 0&&(e={});var i=e.options,s=i===void 0?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var l=Tf(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var p=za(h.value,2),g=p[0],y=p[1],w=this.normalizeInstanceIdentifier(g);a===w&&y.resolve(c)}}catch(E){n={error:E}}finally{try{h&&!h.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return c},t.prototype.onInit=function(e,n){var r,i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);var a=this.instances.get(i);return a&&e(a,i),function(){s.delete(e)}},t.prototype.invokeOnInitCallbacks=function(e,n){var r,i,s=this.onInitCallbacks.get(n);if(s)try{for(var a=Tf(s),c=a.next();!c.done;c=a.next()){var l=c.value;try{l(e,n)}catch{}}}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},t.prototype.getOrInitializeService=function(e){var n=e.instanceIdentifier,r=e.options,i=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:GQ(n),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},t.prototype.normalizeInstanceIdentifier=function(e){return e===void 0&&(e=Qu),this.component?this.component.multipleInstances?e:Qu:e},t.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},t}();function GQ(t){return t===Qu?void 0:t}function qQ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KQ=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new zQ(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function qi(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,c=s.length;a<c;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zu,J2=[],Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));var P3={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},QQ=Ye.INFO,WQ=(zu={},zu[Ye.DEBUG]="log",zu[Ye.VERBOSE]="log",zu[Ye.INFO]="info",zu[Ye.WARN]="warn",zu[Ye.ERROR]="error",zu),JQ=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=new Date().toISOString(),s=WQ[e];if(s)console[s].apply(console,qi(["["+i+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},D3=function(){function t(e){this.name=e,this._logLevel=QQ,this._logHandler=JQ,this._userLogHandler=null,J2.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in Ye))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?P3[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,qi([this,Ye.DEBUG],e)),this._logHandler.apply(this,qi([this,Ye.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,qi([this,Ye.VERBOSE],e)),this._logHandler.apply(this,qi([this,Ye.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,qi([this,Ye.INFO],e)),this._logHandler.apply(this,qi([this,Ye.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,qi([this,Ye.WARN],e)),this._logHandler.apply(this,qi([this,Ye.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,qi([this,Ye.ERROR],e)),this._logHandler.apply(this,qi([this,Ye.ERROR],e))},t}();function YQ(t){J2.forEach(function(e){e.setLogLevel(t)})}function XQ(t,e){for(var n=function(a){var c=null;e&&e.level&&(c=P3[e.level]),t===null?a.userLogHandler=null:a.userLogHandler=function(l,h){for(var p=[],g=2;g<arguments.length;g++)p[g-2]=arguments[g];var y=p.map(function(w){if(w==null)return null;if(typeof w=="string")return w;if(typeof w=="number"||typeof w=="boolean")return w.toString();if(w instanceof Error)return w.message;try{return JSON.stringify(w)}catch{return null}}).filter(function(w){return w}).join(" ");h>=(c??l.logLevel)&&t({level:Ye[h].toLowerCase(),message:y,args:p,type:l.name})}},r=0,i=J2;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var la,ZQ=(la={},la["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",la["bad-app-name"]="Illegal App name: '{$appName}",la["duplicate-app"]="Firebase App named '{$appName}' already exists",la["app-deleted"]="Firebase App named '{$appName}' already deleted",la["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",la["invalid-log-argument"]="First argument to `onLog` must be null or a function.",la),$l=new Q2("app","Firebase",ZQ),_3="@firebase/app",eW="0.6.30",tW="@firebase/analytics",nW="@firebase/app-check",rW="@firebase/auth",iW="@firebase/database",oW="@firebase/functions",sW="@firebase/installations",aW="@firebase/messaging",uW="@firebase/performance",cW="@firebase/remote-config",lW="@firebase/storage",fW="@firebase/firestore",hW="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un,zv="[DEFAULT]",dW=(Un={},Un[_3]="fire-core",Un[tW]="fire-analytics",Un[nW]="fire-app-check",Un[rW]="fire-auth",Un[iW]="fire-rtdb",Un[oW]="fire-fn",Un[sW]="fire-iid",Un[aW]="fire-fcm",Un[uW]="fire-perf",Un[cW]="fire-rc",Un[lW]="fire-gcs",Un[fW]="fire-fst",Un["fire-js"]="fire-js",Un[hW]="fire-js-all",Un);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sh=new D3("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ky=function(){function t(e,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=DQ(e),this.container=new KQ(n.name),this._addComponent(new W2("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return i._addComponent(s)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(n){return n.delete()}))}).then(function(){e.isDeleted_=!0})},t.prototype._getService=function(e,n){var r;n===void 0&&(n=zv),this.checkDestroyed_();var i=this.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(e,n){n===void 0&&(n=zv),this.container.getProvider(e).clearInstance(n)},t.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){Sh.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw $l.create("app-deleted",{appName:this.name_})},t}();Ky.prototype.name&&Ky.prototype.options||Ky.prototype.delete||console.log("dc");var pW="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gW(t){var e={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:YQ,onLog:p,apps:null,SDK_VERSION:pW,INTERNAL:{registerComponent:l,removeApp:i,components:n,useAsService:g}};r.default=r,Object.defineProperty(r,"apps",{get:c});function i(y){delete e[y]}function s(y){if(y=y||zv,!IP(e,y))throw $l.create("no-app",{appName:y});return e[y]}s.App=t;function a(y,w){if(w===void 0&&(w={}),typeof w!="object"||w===null){var E=w;w={name:E}}var I=w;I.name===void 0&&(I.name=zv);var k=I.name;if(typeof k!="string"||!k)throw $l.create("bad-app-name",{appName:String(k)});if(IP(e,k))throw $l.create("duplicate-app",{appName:k});var S=new t(y,I,r);return e[k]=S,S}function c(){return Object.keys(e).map(function(y){return e[y]})}function l(y){var w=y.name;if(n.has(w))return Sh.debug("There were multiple attempts to register component "+w+"."),y.type==="PUBLIC"?r[w]:null;if(n.set(w,y),y.type==="PUBLIC"){var E=function(T){if(T===void 0&&(T=s()),typeof T[w]!="function")throw $l.create("invalid-app-argument",{appName:w});return T[w]()};y.serviceProps!==void 0&&b0(E,y.serviceProps),r[w]=E,t.prototype[w]=function(){for(var T=[],x=0;x<arguments.length;x++)T[x]=arguments[x];var _=this._getService.bind(this,w);return _.apply(this,y.multipleInstances?T:[])}}for(var I=0,k=Object.keys(e);I<k.length;I++){var S=k[I];e[S]._addComponent(y)}return y.type==="PUBLIC"?r[w]:null}function h(y,w,E){var I,k=(I=dW[y])!==null&&I!==void 0?I:y;E&&(k+="-"+E);var S=k.match(/\s|\//),T=w.match(/\s|\//);if(S||T){var x=['Unable to register library "'+k+'" with version "'+w+'":'];S&&x.push('library name "'+k+'" contains illegal characters (whitespace or "/")'),S&&T&&x.push("and"),T&&x.push('version name "'+w+'" contains illegal characters (whitespace or "/")'),Sh.warn(x.join(" "));return}l(new W2(k+"-version",function(){return{library:k,version:w}},"VERSION"))}function p(y,w){if(y!==null&&typeof y!="function")throw $l.create("invalid-log-argument");XQ(y,w)}function g(y,w){if(w==="serverAuth")return null;var E=w;return E}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(){var t=gW(Ky);t.INTERNAL=w0(w0({},t.INTERNAL),{createFirebaseNamespace:R3,extendNamespace:e,createSubscribe:VQ,ErrorFactory:Q2,deepExtend:b0});function e(n){b0(t,n)}return t}var Y2=R3();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mW=function(){function t(e){this.container=e}return t.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(n){if(yW(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},t}();function yW(t){var e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vW(t,e){t.INTERNAL.registerComponent(new W2("platform-logger",function(n){return new mW(n)},"PRIVATE")),t.registerVersion(_3,eW,e),t.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(MQ()&&self.firebase!==void 0){Sh.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var TP=self.firebase.SDK_VERSION;TP&&TP.indexOf("LITE")>=0&&Sh.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var wW=Y2.initializeApp;Y2.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return LQ()&&Sh.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),wW.apply(void 0,t)};var xe=Y2;vW(xe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bW=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},EW=function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=t[n++],a=t[n++],c=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{var s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},xP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],a=i+1<t.length,c=a?t[i+1]:0,l=i+2<t.length,h=l?t[i+2]:0,p=s>>2,g=(s&3)<<4|c>>4,y=(c&15)<<2|h>>6,w=h&63;l||(w=64,a||(y=64)),r.push(n[p],n[g],n[y],n[w])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bW(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):EW(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],a=i<t.length,c=a?n[t.charAt(i)]:0;++i;var l=i<t.length,h=l?n[t.charAt(i)]:64;++i;var p=i<t.length,g=p?n[t.charAt(i)]:64;if(++i,s==null||c==null||h==null||g==null)throw Error();var y=s<<2|c>>4;if(r.push(y),h!==64){var w=c<<4&240|h>>2;if(r.push(w),g!==64){var E=h<<6&192|g;r.push(E)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=w0({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[xP.encodeString(JSON.stringify(n),!1),xP.encodeString(JSON.stringify(a),!1),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SW(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($c())}function IW(){var t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TW(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xW(){return $c().indexOf("Electron/")>=0}function CW(){var t=$c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NW(){return $c().indexOf("MSAppHost/")>=0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kW="FirebaseError",OW=function(t){pe(e,t);function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name=kW,Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,PW.prototype.create),s}return e}(Error),PW=function(){function t(e,n,r){this.service=e,this.serviceName=n,this.errors=r}return t.prototype.create=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+e,a=this.errors[e],c=a?DW(a,i):"Error",l=this.serviceName+": "+c+" ("+s+").",h=new OW(s,l,i);return h},t}();function DW(t,e){return t.replace(_W,function(n,r){var i=e[r];return i!=null?String(i):"<"+r+"?>"})}var _W=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t){return t&&t._delegate?t._delegate:t}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var eT=function(t,e){return eT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},eT(t,e)};function RW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");eT(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function L3(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var LW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},le,X2=X2||{},Ne=LW||self;function Gv(){}function tT(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function bg(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function MW(t){return Object.prototype.hasOwnProperty.call(t,nS)&&t[nS]||(t[nS]=++FW)}var nS="closure_uid_"+(1e9*Math.random()>>>0),FW=0;function UW(t,e,n){return t.call.apply(t.bind,arguments)}function BW(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Pn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Pn=UW:Pn=BW,Pn.apply(null,arguments)}function gy(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Rn(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return e.prototype[i].apply(r,a)}}function yu(){this.s=this.s,this.o=this.o}var jW=0;yu.prototype.s=!1;yu.prototype.na=function(){!this.s&&(this.s=!0,this.M(),jW!=0)&&MW(this)};yu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var M3=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},F3=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=typeof t=="string"?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function VW(t){e:{for(var e=DJ,n=t.length,r=typeof t=="string"?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function CP(t){return Array.prototype.concat.apply([],arguments)}function Z2(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function qv(t){return/^[\s\xa0]*$/.test(t)}var NP=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function sr(t,e){return t.indexOf(e)!=-1}function rS(t,e){return t<e?-1:t>e?1:0}var ar;e:{var kP=Ne.navigator;if(kP){var OP=kP.userAgent;if(OP){ar=OP;break e}}ar=""}function ex(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function U3(t){var e={};for(var n in t)e[n]=t[n];return e}var PP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B3(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var s=0;s<PP.length;s++)n=PP[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function tx(t){return tx[" "](t),t}tx[" "]=Gv;function $W(t){var e=GW;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var HW=sr(ar,"Opera"),Ih=sr(ar,"Trident")||sr(ar,"MSIE"),j3=sr(ar,"Edge"),nT=j3||Ih,V3=sr(ar,"Gecko")&&!(sr(ar.toLowerCase(),"webkit")&&!sr(ar,"Edge"))&&!(sr(ar,"Trident")||sr(ar,"MSIE"))&&!sr(ar,"Edge"),zW=sr(ar.toLowerCase(),"webkit")&&!sr(ar,"Edge");function $3(){var t=Ne.document;return t?t.documentMode:void 0}var Kv;e:{var iS="",oS=function(){var t=ar;if(V3)return/rv:([^\);]+)(\)|;)/.exec(t);if(j3)return/Edge\/([\d\.]+)/.exec(t);if(Ih)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(zW)return/WebKit\/(\S+)/.exec(t);if(HW)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(oS&&(iS=oS?oS[1]:""),Ih){var sS=$3();if(sS!=null&&sS>parseFloat(iS)){Kv=String(sS);break e}}Kv=iS}var GW={};function qW(){return $W(function(){for(var t=0,e=NP(String(Kv)).split("."),n=NP("9").split("."),r=Math.max(e.length,n.length),i=0;t==0&&i<r;i++){var s=e[i]||"",a=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s[0].length==0&&a[0].length==0)break;t=rS(s[1].length==0?0:parseInt(s[1],10),a[1].length==0?0:parseInt(a[1],10))||rS(s[2].length==0,a[2].length==0)||rS(s[2],a[2]),s=s[3],a=a[3]}while(t==0)}return 0<=t})}var rT;if(Ne.document&&Ih){var DP=$3();rT=DP||parseInt(Kv,10)||void 0}else rT=void 0;var KW=rT,QW=function(){if(!Ne.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ne.addEventListener("test",Gv,e),Ne.removeEventListener("test",Gv,e)}catch{}return t}();function Qn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Qn.prototype.h=function(){this.defaultPrevented=!0};function E0(t,e){if(Qn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(V3){e:{try{tx(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:WW[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&E0.Z.h.call(this)}}Rn(E0,Qn);var WW={2:"touch",3:"pen",4:"mouse"};E0.prototype.h=function(){E0.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Eg="closure_listenable_"+(1e6*Math.random()|0),JW=0;function YW(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++JW,this.ca=this.fa=!1}function t1(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function n1(t){this.src=t,this.g={},this.h=0}n1.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var a=oT(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):(e=new YW(e,this.src,s,!!r,i),e.fa=n,t.push(e)),e};function iT(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=M3(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(t1(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function oT(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}var nx="closure_lm_"+(1e6*Math.random()|0),aS={};function H3(t,e,n,r,i){if(r&&r.once)return G3(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)H3(t,e[s],n,r,i);return null}return n=ox(n),t&&t[Eg]?t.N(e,n,bg(r)?!!r.capture:!!r,i):z3(t,e,n,!1,r,i)}function z3(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var a=bg(i)?!!i.capture:!!i,c=ix(t);if(c||(t[nx]=c=new n1(t)),n=c.add(e,n,r,a,s),n.proxy)return n;if(r=XW(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)QW||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(K3(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function XW(){function t(n){return e.call(t.src,t.listener,n)}var e=ZW;return t}function G3(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)G3(t,e[s],n,r,i);return null}return n=ox(n),t&&t[Eg]?t.O(e,n,bg(r)?!!r.capture:!!r,i):z3(t,e,n,!0,r,i)}function q3(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)q3(t,e[s],n,r,i);else r=bg(r)?!!r.capture:!!r,n=ox(n),t&&t[Eg]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=oT(s,n,r,i),-1<n&&(t1(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=ix(t))&&(e=t.g[e.toString()],t=-1,e&&(t=oT(e,n,r,i)),(n=-1<t?e[t]:null)&&rx(n))}function rx(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[Eg])iT(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(K3(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ix(e))?(iT(n,t),n.h==0&&(n.src=null,e[nx]=null)):t1(t)}}}function K3(t){return t in aS?aS[t]:aS[t]="on"+t}function ZW(t,e){if(t.ca)t=!0;else{e=new E0(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&rx(t),t=n.call(r,e)}return t}function ix(t){return t=t[nx],t instanceof n1?t:null}var uS="__closure_events_fn_"+(1e9*Math.random()>>>0);function ox(t){return typeof t=="function"?t:(t[uS]||(t[uS]=function(e){return t.handleEvent(e)}),t[uS])}function bn(){yu.call(this),this.i=new n1(this),this.P=this,this.I=null}Rn(bn,yu);bn.prototype[Eg]=!0;bn.prototype.removeEventListener=function(t,e,n,r){q3(this,t,e,n,r)};function Dn(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Qn(e,t);else if(e instanceof Qn)e.target=e.target||t;else{var i=e;e=new Qn(r,t),B3(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=e.g=n[s];i=my(a,r,!0,e)&&i}if(a=e.g=t,i=my(a,r,!0,e)&&i,i=my(a,r,!1,e)&&i,n)for(s=0;s<n.length;s++)a=e.g=n[s],i=my(a,r,!1,e)&&i}bn.prototype.M=function(){if(bn.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)t1(n[r]);delete t.g[e],t.h--}}this.I=null};bn.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};bn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function my(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.ca&&a.capture==n){var c=a.listener,l=a.ia||a.src;a.fa&&iT(t.i,a),i=c.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var sx=Ne.JSON.stringify;function eJ(){var t=W3,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var tJ=function(){function t(){this.h=this.g=null}return t.prototype.add=function(e,n){var r=Q3.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r},t}(),Q3=new(function(){function t(e,n){this.i=e,this.j=n,this.h=0,this.g=null}return t.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},t}())(function(){return new nJ},function(t){return t.reset()}),nJ=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(e,n){this.h=e,this.g=n,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function rJ(t){Ne.setTimeout(function(){throw t},0)}function ax(t,e){sT||iJ(),aT||(sT(),aT=!0),W3.add(t,e)}var sT;function iJ(){var t=Ne.Promise.resolve(void 0);sT=function(){t.then(oJ)}}var aT=!1,W3=new tJ;function oJ(){for(var t;t=eJ();){try{t.h.call(t.g)}catch(n){rJ(n)}var e=Q3;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}aT=!1}function r1(t,e){bn.call(this),this.h=t||1,this.g=e||Ne,this.j=Pn(this.kb,this),this.l=Date.now()}Rn(r1,bn);le=r1.prototype;le.da=!1;le.S=null;le.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Dn(this,"tick"),this.da&&(ux(this),this.start()))}};le.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ux(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}le.M=function(){r1.Z.M.call(this),ux(this),delete this.g};function cx(t,e,n){if(typeof t=="function")n&&(t=Pn(t,n));else if(t&&typeof t.handleEvent=="function")t=Pn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ne.setTimeout(t,e||0)}function J3(t){t.g=cx(function(){t.g=null,t.i&&(t.i=!1,J3(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}var sJ=function(t){RW(e,t);function e(n,r){var i=t.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return e.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:J3(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(yu);function A0(t){yu.call(this),this.h=t,this.g={}}Rn(A0,yu);var _P=[];function Y3(t,e,n,r){Array.isArray(n)||(n&&(_P[0]=n.toString()),n=_P);for(var i=0;i<n.length;i++){var s=H3(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function X3(t){ex(t.g,function(e,n){this.g.hasOwnProperty(n)&&rx(e)},t),t.g={}}A0.prototype.M=function(){A0.Z.M.call(this),X3(this)};A0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function i1(){this.g=!0}i1.prototype.Aa=function(){this.g=!1};function aJ(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var a="",c=s.split("&"),l=0;l<c.length;l++){var h=c[l].split("=");if(1<h.length){var p=h[0];h=h[1];var g=p.split("_");a=2<=g.length&&g[1]=="type"?a+(p+"="+h+"&"):a+(p+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function uJ(t,e,n,r,i,s,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+a})}function uf(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+lJ(t,n)+(r?" "+r:"")})}function cJ(t,e){t.info(function(){return"TIMEOUT: "+e})}i1.prototype.info=function(){};function lJ(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return sx(n)}catch{return e}}var tl={},RP=null;function o1(){return RP=RP||new bn}tl.Ma="serverreachability";function Z3(t){Qn.call(this,tl.Ma,t)}Rn(Z3,Qn);function S0(t){var e=o1();Dn(e,new Z3(e))}tl.STAT_EVENT="statevent";function e4(t,e){Qn.call(this,tl.STAT_EVENT,t),this.stat=e}Rn(e4,Qn);function lr(t){var e=o1();Dn(e,new e4(e,t))}tl.Na="timingevent";function t4(t,e){Qn.call(this,tl.Na,t),this.size=e}Rn(t4,Qn);function Ag(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ne.setTimeout(function(){t()},e)}var s1={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},n4={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function lx(){}lx.prototype.h=null;function LP(t){return t.h||(t.h=t.i())}function r4(){}var Sg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function fx(){Qn.call(this,"d")}Rn(fx,Qn);function hx(){Qn.call(this,"c")}Rn(hx,Qn);var uT;function a1(){}Rn(a1,lx);a1.prototype.g=function(){return new XMLHttpRequest};a1.prototype.i=function(){return{}};uT=new a1;function Ig(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new A0(this),this.P=fJ,t=nT?125:void 0,this.W=new r1(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new i4}function i4(){this.i=null,this.g="",this.h=!1}var fJ=45e3,cT={},Qv={};le=Ig.prototype;le.setTimeout=function(t){this.P=t};function lT(t,e,n){t.K=1,t.v=c1(js(e)),t.s=n,t.U=!0,o4(t,null)}function o4(t,e){t.F=Date.now(),Tg(t),t.A=js(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),h4(n.h,"t",r),t.C=0,n=t.l.H,t.h=new i4,t.g=D4(t.l,n?e:null,!t.s),0<t.O&&(t.L=new sJ(Pn(t.Ia,t,t.g),t.O)),Y3(t.V,t.g,"readystatechange",t.gb),e=t.H?U3(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),S0(),aJ(t.j,t.u,t.A,t.m,t.X,t.s)}le.gb=function(t){t=t.target;var e=this.L;e&&Cs(t)==3?e.l():this.Ia(t)};le.Ia=function(t){try{if(t==this.g)e:{var e=Cs(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(e!=3||nT||this.g&&(this.h.h||this.g.ga()||BP(this.g)))){this.I||e!=4||n==7||(n==8||0>=r?S0(3):S0(2)),u1(this);var i=this.g.ba();this.N=i;t:if(s4(this)){var s=BP(this.g);t="";var a=s.length,c=Cs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nc(this),Dp(this);var l="";break t}this.h.i=new Ne.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(s[n],{stream:c&&n==a-1});s.splice(0,a),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=i==200,uJ(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qv(h)){var g=h;break t}}g=null}if(i=g)uf(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,fT(this,i);else{this.i=!1,this.o=3,lr(12),nc(this),Dp(this);break e}}this.U?(a4(this,e,l),nT&&this.i&&e==3&&(Y3(this.V,this.W,"tick",this.fb),this.W.start())):(uf(this.j,this.m,l,null),fT(this,l)),e==4&&nc(this),this.i&&!this.I&&(e==4?N4(this.l,this):(this.i=!1,Tg(this)))}else i==400&&0<l.indexOf("Unknown SID")?(this.o=3,lr(12)):(this.o=0,lr(13)),nc(this),Dp(this)}}}catch{}finally{}};function s4(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function a4(t,e,n){for(var r=!0,i;!t.I&&t.C<n.length;)if(i=hJ(t,n),i==Qv){e==4&&(t.o=4,lr(14),r=!1),uf(t.j,t.m,null,"[Incomplete Response]");break}else if(i==cT){t.o=4,lr(15),uf(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else uf(t.j,t.m,i,null),fT(t,i);s4(t)&&i!=Qv&&i!=cT&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,lr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ex(e),e.L=!0,lr(11))):(uf(t.j,t.m,n,"[Invalid Chunked Response]"),nc(t),Dp(t))}le.fb=function(){if(this.g){var t=Cs(this.g),e=this.g.ga();this.C<e.length&&(u1(this),a4(this,t,e),this.i&&t!=4&&Tg(this))}};function hJ(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Qv:(n=Number(e.substring(n,r)),isNaN(n)?cT:(r+=1,r+n>e.length?Qv:(e=e.substr(r,n),t.C=r+n,e)))}le.cancel=function(){this.I=!0,nc(this)};function Tg(t){t.Y=Date.now()+t.P,u4(t,t.P)}function u4(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ag(Pn(t.eb,t),e)}function u1(t){t.B&&(Ne.clearTimeout(t.B),t.B=null)}le.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(cJ(this.j,this.A),this.K!=2&&(S0(),lr(17)),nc(this),this.o=2,Dp(this)):u4(this,this.Y-t)};function Dp(t){t.l.G==0||t.I||N4(t.l,t)}function nc(t){u1(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,ux(t.W),X3(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function fT(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||hT(n.i,t))){if(n.I=t.N,!t.J&&hT(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Xv(n),h1(n);else break e;bx(n),lr(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=Ag(Pn(n.ab,n),6e3));if(1>=g4(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else rc(n,11)}else if((t.J||n.g==t)&&Xv(n),!qv(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var s=i[e];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var a=s[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var c=s[4];c!=null&&(n.za=c,n.h.info("SVER="+n.za));var l=s[5];l!=null&&typeof l=="number"&&0<l&&(r=1.5*l,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var h=t.g;if(h){var p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var g=r.i;!g.g&&(sr(p,"spdy")||sr(p,"quic")||sr(p,"h2"))&&(g.j=g.l,g.g=new Set,g.h&&(gx(g,g.h),g.h=null))}if(r.D){var y=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.sa=y,xt(r.F,r.D,y))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var w=t;if(r.oa=P4(r,r.H?r.la:null,r.W),w.J){m4(r.i,w);var E=w,I=r.K;I&&E.setTimeout(I),E.B&&(u1(E),Tg(E)),r.g=w}else x4(r);0<n.l.length&&d1(n)}else s[0]!="stop"&&s[0]!="close"||rc(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?rc(n,7):wx(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}S0(4)}catch{}}function dJ(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(tT(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function dx(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(tT(t)||typeof t=="string")F3(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(tT(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=dJ(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Qh(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Qh)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}le=Qh.prototype;le.R=function(){px(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};le.T=function(){return px(this),this.g.concat()};function px(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Hc(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],Hc(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}le.get=function(t,e){return Hc(this.h,t)?this.h[t]:e};le.set=function(t,e){Hc(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};le.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};function Hc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var c4=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function pJ(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function zc(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof zc){this.g=e!==void 0?e:t.g,Wv(this,t.j),this.s=t.s,Jv(this,t.i),Yv(this,t.m),this.l=t.l,e=t.h;var n=new I0;n.i=e.i,e.g&&(n.g=new Qh(e.g),n.h=e.h),MP(this,n),this.o=t.o}else t&&(n=String(t).match(c4))?(this.g=!!e,Wv(this,n[1]||"",!0),this.s=_p(n[2]||""),Jv(this,n[3]||"",!0),Yv(this,n[4]),this.l=_p(n[5]||"",!0),MP(this,n[6]||"",!0),this.o=_p(n[7]||"")):(this.g=!!e,this.h=new I0(null,this.g))}zc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(yp(e,FP,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(yp(e,FP,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(yp(n,n.charAt(0)=="/"?wJ:vJ,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",yp(n,EJ)),t.join("")};function js(t){return new zc(t)}function Wv(t,e,n){t.j=n?_p(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Jv(t,e,n){t.i=n?_p(e,!0):e}function Yv(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function MP(t,e,n){e instanceof I0?(t.h=e,AJ(t.h,t.g)):(n||(e=yp(e,bJ)),t.h=new I0(e,t.g))}function xt(t,e,n){t.h.set(e,n)}function c1(t){return xt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function gJ(t){return t instanceof zc?js(t):new zc(t,void 0)}function mJ(t,e,n,r){var i=new zc(null,void 0);return t&&Wv(i,t),e&&Jv(i,e),n&&Yv(i,n),r&&(i.l=r),i}function _p(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function yp(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,yJ),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function yJ(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var FP=/[#\/\?@]/g,vJ=/[#\?:]/g,wJ=/[#\?]/g,bJ=/[#\?@]/g,EJ=/#/g;function I0(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function vu(t){t.g||(t.g=new Qh,t.h=0,t.i&&pJ(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}le=I0.prototype;le.add=function(t,e){vu(this),this.i=null,t=Wh(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function l4(t,e){vu(t),e=Wh(t,e),Hc(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,Hc(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&px(t)))}function f4(t,e){return vu(t),e=Wh(t,e),Hc(t.g.h,e)}le.forEach=function(t,e){vu(this),this.g.forEach(function(n,r){F3(n,function(i){t.call(e,i,r,this)},this)},this)};le.T=function(){vu(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n};le.R=function(t){vu(this);var e=[];if(typeof t=="string")f4(this,t)&&(e=CP(e,this.g.get(Wh(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=CP(e,t[n])}return e};le.set=function(t,e){return vu(this),this.i=null,t=Wh(this,t),f4(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};le.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function h4(t,e,n){l4(t,e),0<n.length&&(t.i=null,t.g.set(Wh(t,e),Z2(n)),t.h+=n.length)}le.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),t.push(a)}}return this.i=t.join("&")};function Wh(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function AJ(t,e){e&&!t.j&&(vu(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(l4(this,r),h4(this,i,n))},t)),t.j=e}var SJ=function(){function t(e,n){this.h=e,this.g=n}return t}();function d4(t){this.l=t||IJ,Ne.PerformanceNavigationTiming?(t=Ne.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ne.g&&Ne.g.Ea&&Ne.g.Ea()&&Ne.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var IJ=10;function p4(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function g4(t){return t.h?1:t.g?t.g.size:0}function hT(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function gx(t,e){t.g?t.g.add(e):t.h=e}function m4(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}d4.prototype.cancel=function(){var t,e;if(this.i=y4(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=L3(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}};function y4(t){var e,n;if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){var r=t.i;try{for(var i=L3(t.g.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.D)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Z2(t.i)}function mx(){}mx.prototype.stringify=function(t){return Ne.JSON.stringify(t,void 0)};mx.prototype.parse=function(t){return Ne.JSON.parse(t,void 0)};function TJ(){this.g=new mx}function xJ(t,e,n){var r=n||"";try{dx(t,function(i,s){var a=i;bg(i)&&(a=sx(i)),e.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function CJ(t,e){var n=new i1;if(Ne.Image){var r=new Image;r.onload=gy(yy,n,r,"TestLoadImage: loaded",!0,e),r.onerror=gy(yy,n,r,"TestLoadImage: error",!1,e),r.onabort=gy(yy,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=gy(yy,n,r,"TestLoadImage: timeout",!1,e),Ne.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function yy(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function xg(t){this.l=t.$b||null,this.j=t.ib||!1}Rn(xg,lx);xg.prototype.g=function(){return new l1(this.l,this.j)};xg.prototype.i=function(t){return function(){return t}}({});function l1(t,e){bn.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=yx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Rn(l1,bn);var yx=0;le=l1.prototype;le.open=function(t,e){if(this.readyState!=yx)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,T0(this)};le.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Ne).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cg(this)),this.readyState=yx};le.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,T0(this)),this.g&&(this.readyState=3,T0(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Ne.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;v4(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function v4(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}le.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Cg(this):T0(this),this.readyState==3&&v4(this)}};le.Ua=function(t){this.g&&(this.response=this.responseText=t,Cg(this))};le.Ta=function(t){this.g&&(this.response=t,Cg(this))};le.ha=function(){this.g&&Cg(this)};function Cg(t){t.readyState=4,t.l=null,t.j=null,t.A=null,T0(t)}le.setRequestHeader=function(t,e){this.v.append(t,e)};le.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};le.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function T0(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(l1.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var NJ=Ne.JSON.parse;function sn(t){bn.call(this),this.headers=new Qh,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=w4,this.K=this.L=!1}Rn(sn,bn);var w4="",kJ=/^https?$/i,OJ=["POST","PUT"];le=sn.prototype;le.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():uT.g(),this.C=this.u?LP(this.u):LP(uT),this.g.onreadystatechange=Pn(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){UP(this,s);return}t=n||"";var i=new Qh(this.headers);r&&dx(r,function(s,a){i.set(a,s)}),r=VW(i.T()),n=Ne.FormData&&t instanceof Ne.FormData,!(0<=M3(OJ,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{A4(this),0<this.B&&((this.K=PJ(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pn(this.pa,this)):this.A=cx(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){UP(this,s)}};function PJ(t){return Ih&&qW()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function DJ(t){return t.toLowerCase()=="content-type"}le.pa=function(){typeof X2<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dn(this,"timeout"),this.abort(8))};function UP(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,b4(t),f1(t)}function b4(t){t.D||(t.D=!0,Dn(t,"complete"),Dn(t,"error"))}le.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Dn(this,"complete"),Dn(this,"abort"),f1(this))};le.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),f1(this,!0)),sn.Z.M.call(this)};le.Fa=function(){this.s||(this.F||this.v||this.l?E4(this):this.cb())};le.cb=function(){E4(this)};function E4(t){if(t.h&&typeof X2<"u"&&(!t.C[1]||Cs(t)!=4||t.ba()!=2)){if(t.v&&Cs(t)==4)cx(t.Fa,0,t);else if(Dn(t,"readystatechange"),Cs(t)==4){t.h=!1;try{var e=t.ba();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=e===0){var s=String(t.H).match(c4)[1]||null;if(!s&&Ne.self&&Ne.self.location){var a=Ne.self.location.protocol;s=a.substr(0,a.length-1)}i=!kJ.test(s?s.toLowerCase():"")}r=i}if(r)Dn(t,"complete"),Dn(t,"success");else{t.m=6;try{var c=2<Cs(t)?t.g.statusText:""}catch{c=""}t.j=c+" ["+t.ba()+"]",b4(t)}}finally{f1(t)}}}}function f1(t,e){if(t.g){A4(t);var n=t.g,r=t.C[0]?Gv:null;t.g=null,t.C=null,e||Dn(t,"ready");try{n.onreadystatechange=r}catch{}}}function A4(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Ne.clearTimeout(t.A),t.A=null)}function Cs(t){return t.g?t.g.readyState:0}le.ba=function(){try{return 2<Cs(this)?this.g.status:-1}catch{return-1}};le.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};le.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),NJ(e)}};function BP(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case w4:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}le.Da=function(){return this.m};le.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function _J(t){var e="";return ex(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function vx(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=_J(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):xt(t,e,n))}function op(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function S4(t){this.za=0,this.l=[],this.h=new i1,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=op("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=op("baseRetryDelayMs",5e3,t),this.$a=op("retryDelaySeedMs",1e4,t),this.Ya=op("forwardChannelMaxRetries",2,t),this.ra=op("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new d4(t&&t.concurrentRequestLimit),this.Ca=new TJ,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}le=S4.prototype;le.ma=8;le.G=1;function wx(t){if(I4(t),t.G==3){var e=t.V++,n=js(t.F);xt(n,"SID",t.J),xt(n,"RID",e),xt(n,"TYPE","terminate"),Ng(t,n),e=new Ig(t,t.h,e,void 0),e.K=2,e.v=c1(js(n)),n=!1,Ne.navigator&&Ne.navigator.sendBeacon&&(n=Ne.navigator.sendBeacon(e.v.toString(),"")),!n&&Ne.Image&&(new Image().src=e.v,n=!0),n||(e.g=D4(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Tg(e)}O4(t)}le.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function h1(t){t.g&&(Ex(t),t.g.cancel(),t.g=null)}function I4(t){h1(t),t.u&&(Ne.clearTimeout(t.u),t.u=null),Xv(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ne.clearTimeout(t.m),t.m=null)}function cS(t,e){t.l.push(new SJ(t.Za++,e)),t.G==3&&d1(t)}function d1(t){p4(t.i)||t.m||(t.m=!0,ax(t.Ha,t),t.C=0)}function RJ(t,e){return g4(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=Ag(Pn(t.Ha,t,e),k4(t,t.C)),t.C++,!0)}le.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Ig(this,this.h,t,void 0),n=this.s;if(this.P&&(n?(n=U3(n),B3(n,this.P)):n=this.P),this.o===null&&(e.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var s=this.l[i];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=T4(this,e,r),i=js(this.F),xt(i,"RID",t),xt(i,"CVER",22),this.D&&xt(i,"X-HTTP-Session-Id",this.D),Ng(this,i),this.o&&n&&vx(i,this.o,n),gx(this.i,e),this.Ra&&xt(i,"TYPE","init"),this.ja?(xt(i,"$req",r),xt(i,"SID","null"),e.$=!0,lT(e,i,null)):lT(e,i,r),this.G=2}}else this.G==3&&(t?jP(this,t):this.l.length==0||p4(this.i)||jP(this))};function jP(t,e){var n;e?n=e.m:n=t.V++;var r=js(t.F);xt(r,"SID",t.J),xt(r,"RID",n),xt(r,"AID",t.U),Ng(t,r),t.o&&t.s&&vx(r,t.o,t.s),n=new Ig(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=T4(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),gx(t.i,n),lT(n,r,e)}function Ng(t,e){t.j&&dx({},function(n,r){xt(e,r,n)})}function T4(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Pn(t.j.Oa,t.j,t):null;e:for(var i=t.l,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var c=!0,l=0;l<n;l++){var h=i[l].h,p=i[l].g;if(h-=s,0>h)s=Math.max(0,i[l].h-100),c=!1;else try{xJ(p,a,"req"+h+"_")}catch{r&&r(p)}}if(c){r=a.join("&");break e}}return t=t.l.splice(0,n),e.D=t,r}function x4(t){t.g||t.u||(t.Y=1,ax(t.Ga,t),t.A=0)}function bx(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=Ag(Pn(t.Ga,t),k4(t,t.A)),t.A++,!0)}le.Ga=function(){if(this.u=null,C4(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Ag(Pn(this.bb,this),t)}};le.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,lr(10),h1(this),C4(this))};function Ex(t){t.B!=null&&(Ne.clearTimeout(t.B),t.B=null)}function C4(t){t.g=new Ig(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=js(t.oa);xt(e,"RID","rpc"),xt(e,"SID",t.J),xt(e,"CI",t.N?"0":"1"),xt(e,"AID",t.U),Ng(t,e),xt(e,"TYPE","xmlhttp"),t.o&&t.s&&vx(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=c1(js(e)),n.s=null,n.U=!0,o4(n,t)}le.ab=function(){this.v!=null&&(this.v=null,h1(this),bx(this),lr(19))};function Xv(t){t.v!=null&&(Ne.clearTimeout(t.v),t.v=null)}function N4(t,e){var n=null;if(t.g==e){Xv(t),Ex(t),t.g=null;var r=2}else if(hT(t.i,e))n=e.D,m4(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=o1(),Dn(r,new t4(r,n)),d1(t)}else x4(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&RJ(t,e)||r==2&&bx(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:rc(t,5);break;case 4:rc(t,10);break;case 3:rc(t,6);break;default:rc(t,2)}}}function k4(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function rc(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=Pn(t.jb,t);n||(n=new zc("//www.google.com/images/cleardot.gif"),Ne.location&&Ne.location.protocol=="http"||Wv(n,"https"),c1(n)),CJ(n.toString(),r)}else lr(2);t.G=0,t.j&&t.j.va(e),O4(t),I4(t)}le.jb=function(t){t?(this.h.info("Successfully pinged google.com"),lr(2)):(this.h.info("Failed to ping google.com"),lr(1))};function O4(t){t.G=0,t.I=-1,t.j&&((y4(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,Z2(t.l),t.l.length=0),t.j.ua())}function P4(t,e,n){var r=gJ(n);if(r.i!="")e&&Jv(r,e+"."+r.i),Yv(r,r.m);else{var i=Ne.location;r=mJ(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&ex(t.aa,function(s,a){xt(r,a,s)}),e=t.D,n=t.sa,e&&n&&xt(r,e,n),xt(r,"VER",t.ma),Ng(t,r),r}function D4(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new sn(new xg({ib:!0})):new sn(t.qa),e.L=t.H,e}function _4(){}le=_4.prototype;le.xa=function(){};le.wa=function(){};le.va=function(){};le.ua=function(){};le.Oa=function(){};function Zv(){if(Ih&&!(10<=Number(KW)))throw Error("Environmental error: no available transport.")}Zv.prototype.g=function(t,e){return new si(t,e)};function si(t,e){bn.call(this),this.g=new S4(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!qv(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qv(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Jh(this)}Rn(si,bn);si.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),ax(Pn(t.hb,t,e))),lr(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=P4(t,null,t.W),d1(t)};si.prototype.close=function(){wx(this.g)};si.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,cS(this.g,e)}else this.v?(e={},e.__data__=sx(t),cS(this.g,e)):cS(this.g,t)};si.prototype.M=function(){this.g.j=null,delete this.j,wx(this.g),delete this.g,si.Z.M.call(this)};function R4(t){fx.call(this);var e=t.__sm__;if(e){e:{for(var n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Rn(R4,fx);function L4(){hx.call(this),this.status=1}Rn(L4,hx);function Jh(t){this.g=t}Rn(Jh,_4);Jh.prototype.xa=function(){Dn(this.g,"a")};Jh.prototype.wa=function(t){Dn(this.g,new R4(t))};Jh.prototype.va=function(t){Dn(this.g,new L4)};Jh.prototype.ua=function(){Dn(this.g,"b")};Zv.prototype.createWebChannel=Zv.prototype.g;si.prototype.send=si.prototype.u;si.prototype.open=si.prototype.m;si.prototype.close=si.prototype.close;s1.NO_ERROR=0;s1.TIMEOUT=8;s1.HTTP_ERROR=6;n4.COMPLETE="complete";r4.EventType=Sg;Sg.OPEN="a";Sg.CLOSE="b";Sg.ERROR="c";Sg.MESSAGE="d";bn.prototype.listen=bn.prototype.N;sn.prototype.listenOnce=sn.prototype.O;sn.prototype.getLastError=sn.prototype.La;sn.prototype.getLastErrorCode=sn.prototype.Da;sn.prototype.getStatus=sn.prototype.ba;sn.prototype.getResponseJson=sn.prototype.Qa;sn.prototype.getResponseText=sn.prototype.ga;sn.prototype.send=sn.prototype.ea;var LJ=function(){return new Zv},MJ=function(){return o1()},lS=s1,FJ=n4,UJ=tl,VP={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},BJ=xg,vy=r4,jJ=sn;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ei=function(){function t(e,n){var r=this;this.previousValue=e,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();ei.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Y=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return pe(e,t),e}(Error),uo=new D3("@firebase/firestore");function dT(){return uo.logLevel}function re(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(uo.logLevel<=Ye.DEBUG){var r=e.map(Ax);uo.debug.apply(uo,pt(["Firestore (8.7.0): "+t],r))}}function tn(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(uo.logLevel<=Ye.ERROR){var r=e.map(Ax);uo.error.apply(uo,pt(["Firestore (8.7.0): "+t],r))}}function ew(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(uo.logLevel<=Ye.WARN){var r=e.map(Ax);uo.warn.apply(uo,pt(["Firestore (8.7.0): "+t],r))}}function Ax(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t){t===void 0&&(t="Unexpected state");var e="FIRESTORE (8.7.0) INTERNAL ASSERTION FAILED: "+t;throw tn(e),new Error(e)}function Ie(t,e){t||ge()}function se(t,e){return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VJ(t){var e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M4=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";r.length<20;)for(var i=VJ(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length));return r},t}();function Be(t,e){return t<e?-1:t>e?1:0}function Th(t,e,n){return t.length===e.length&&t.every(function(r,i){return n(r,e[i])})}function F4(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _r=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Re=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new _r(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function nl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function U4(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B4=function(){function t(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return t.comparator(this,e)===0},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(r){n.push(r)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return this.length===0},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,n){for(var r=Math.min(e.length,n.length),i=0;i<r;i++){var s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),Ze=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return pe(e,t),e.prototype.construct=function(n,r,i){return new e(n,r,i)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var c=a[s];if(c.indexOf("//")>=0)throw new Y(V.INVALID_ARGUMENT,"Invalid segment ("+c+"). Paths must not contain // in them.");i.push.apply(i,c.split("/").filter(function(l){return l.length>0}))}return new e(i)},e.emptyPath=function(){return new e([])},e}(B4),$J=/^[_a-zA-Z][_a-zA-Z0-9]*$/,go=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return pe(e,t),e.prototype.construct=function(n,r,i){return new e(n,r,i)},e.isValidIdentifier=function(n){return $J.test(n)},e.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new Y(V.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},c=!1;s<n.length;){var l=n[s];if(l==="\\"){if(s+1===n.length)throw new Y(V.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Y(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else l==="`"?(c=!c,s++):l!=="."||c?(i+=l,s++):(a(),s++)}if(a(),c)throw new Y(V.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(r)},e.emptyPath=function(){return new e([])},e}(B4),xh=function(){function t(e){this.fields=e,e.sort(go.comparator)}return t.prototype.covers=function(e){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return Th(this.fields,e.fields,function(n,r){return n.isEqual(r)})},t}(),Lr=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(e))},t.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return Be(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();Lr.EMPTY_BYTE_STRING=new Lr("");var HJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(t){if(Ie(!!t),typeof t=="string"){var e=0,n=HJ.exec(t);if(Ie(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Zt(t.seconds),nanos:Zt(t.nanos)}}function Zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ch(t){return typeof t=="string"?Lr.fromBase64String(t):Lr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function j4(t){var e=t.mapValue.fields.__previous_value__;return Sx(e)?j4(e):e}function x0(t){var e=Vs(t.mapValue.fields.__local_write_time__.timestampValue);return new _r(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(t){return t==null}function tw(t){return t===0&&1/t==-1/0}function V4(t){return typeof t=="number"&&Number.isInteger(t)&&!tw(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(Ze.fromString(e))},t.fromName=function(e){return new t(Ze.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return e!==null&&Ze.comparator(this.path,e.path)===0},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,n){return Ze.comparator(e.path,n.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new Ze(e.slice()))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sx(t)?4:10:ge()}function Ko(t,e){var n=Gc(t);if(n!==Gc(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return x0(t).isEqual(x0(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=Vs(r.timestampValue),a=Vs(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Ch(r.bytesValue).isEqual(Ch(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Zt(r.geoPointValue.latitude)===Zt(i.geoPointValue.latitude)&&Zt(r.geoPointValue.longitude)===Zt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Zt(r.integerValue)===Zt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=Zt(r.doubleValue),a=Zt(i.doubleValue);return s===a?tw(s)===tw(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Th(t.arrayValue.values||[],e.arrayValue.values||[],Ko);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if($P(s)!==$P(a))return!1;for(var c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Ko(s[c],a[c])))return!1;return!0}(t,e);default:return ge()}}function C0(t,e){return(t.values||[]).find(function(n){return Ko(n,e)})!==void 0}function Nh(t,e){var n=Gc(t),r=Gc(e);if(n!==r)return Be(n,r);switch(n){case 0:return 0;case 1:return Be(t.booleanValue,e.booleanValue);case 2:return function(i,s){var a=Zt(i.integerValue||i.doubleValue),c=Zt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return HP(t.timestampValue,e.timestampValue);case 4:return HP(x0(t),x0(e));case 5:return Be(t.stringValue,e.stringValue);case 6:return function(i,s){var a=Ch(i),c=Ch(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),c=s.split("/"),l=0;l<a.length&&l<c.length;l++){var h=Be(a[l],c[l]);if(h!==0)return h}return Be(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){var a=Be(Zt(i.latitude),Zt(s.latitude));return a!==0?a:Be(Zt(i.longitude),Zt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],c=s.values||[],l=0;l<a.length&&l<c.length;++l){var h=Nh(a[l],c[l]);if(h)return h}return Be(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){var a=i.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(var p=0;p<c.length&&p<h.length;++p){var g=Be(c[p],h[p]);if(g!==0)return g;var y=Nh(a[c[p]],l[h[p]]);if(y!==0)return y}return Be(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ge()}}function HP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Be(t,e);var n=Vs(t),r=Vs(e),i=Be(n.seconds,r.seconds);return i!==0?i:Be(n.nanos,r.nanos)}function Ix(t){return pT(t)}function pT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){var i=Vs(r);return"time("+i.seconds+","+i.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ch(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ve.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(r){for(var i="[",s=!0,a=0,c=r.values||[];a<c.length;a++)s?s=!1:i+=",",i+=pT(c[a]);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){for(var i="{",s=!0,a=0,c=Object.keys(r.fields||{}).sort();a<c.length;a++){var l=c[a];s?s=!1:i+=",",i+=l+":"+pT(r.fields[l])}return i+"}"}(t.mapValue):ge();var e,n}function nw(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function gT(t){return!!t&&"integerValue"in t}function Tx(t){return!!t&&"arrayValue"in t}function zP(t){return!!t&&"nullValue"in t}function GP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qy(t){return!!t&&"mapValue"in t}function Rp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},Vs(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return nl(t.mapValue.fields,function(i,s){return e.mapValue.fields[i]=Rp(s)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Rp(t.arrayValue.values[r]);return n}return Object.assign({},t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yr=function(){function t(e){this.value=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.isEmpty())return this.value;for(var n=this.value,r=0;r<e.length-1;++r)if(!Qy(n=(n.mapValue.fields||{})[e.get(r)]))return null;return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.set=function(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rp(n)},t.prototype.setAll=function(e){var n=this,r=go.emptyPath(),i={},s=[];e.forEach(function(c,l){if(!r.isImmediateParentOf(l)){var h=n.getFieldsMap(r);n.applyChanges(h,i,s),i={},s=[],r=l.popLast()}c?i[l.lastSegment()]=Rp(c):s.push(l.lastSegment())});var a=this.getFieldsMap(r);this.applyChanges(a,i,s)},t.prototype.delete=function(e){var n=this.field(e.popLast());Qy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]},t.prototype.isEqual=function(e){return Ko(this.value,e.value)},t.prototype.getFieldsMap=function(e){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<e.length;++r){var i=n.mapValue.fields[e.get(r)];Qy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields},t.prototype.applyChanges=function(e,n,r){nl(n,function(c,l){return e[c]=l});for(var i=0,s=r;i<s.length;i++){var a=s[i];delete e[a]}},t.prototype.clone=function(){return new t(Rp(this.value))},t}();function $4(t){var e=[];return nl(t.fields,function(n,r){var i=new go([n]);if(Qy(r)){var s=$4(r.mapValue).fields;if(s.length===0)e.push(i);else for(var a=0,c=s;a<c.length;a++){var l=c[a];e.push(i.child(l))}}else e.push(i)}),new xh(e)}var Jn=function(){function t(e,n,r,i,s){this.key=e,this.documentType=n,this.version=r,this.data=i,this.documentState=s}return t.newInvalidDocument=function(e){return new t(e,0,Re.min(),Yr.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Yr.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Yr.empty(),2)},t.prototype.convertToFoundDocument=function(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Yr.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Yr.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return this.documentType!==0},t.prototype.isFoundDocument=function(){return this.documentType===1},t.prototype.isNoDocument=function(){return this.documentType===2},t.prototype.isUnknownDocument=function(){return this.documentType===3},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),zJ=function(t,e,n,r,i,s,a){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(t,e,n,r,i,s,a){return e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new zJ(t,e,n,r,i,s,a)}function kg(t){var e=se(t);if(e.h===null){var n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+Ix(i.value)}(r)}).join(","),n+="|ob:",n+=e.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),rl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=iw(e.startAt)),e.endAt&&(n+="|ub:",n+=iw(e.endAt)),e.h=n}return e.h}function p1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!XJ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],s=e.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!Ko(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QP(t.startAt,e.startAt)&&QP(t.endAt,e.endAt)}function rw(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ti=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).field=n,s.op=r,s.value=i,s}return pe(e,t),e.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new GJ(n,r,i):r==="array-contains"?new QJ(n,i):r==="in"?new WJ(n,i):r==="not-in"?new JJ(n,i):r==="array-contains-any"?new YJ(n,i):new e(n,r,i)},e.l=function(n,r,i){return r==="in"?new qJ(n,i):new KJ(n,i)},e.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(Nh(r,this.value)):r!==null&&Gc(this.value)===Gc(r)&&this.m(Nh(r,this.value))},e.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ge()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),GJ=function(t){function e(n,r,i){var s=this;return(s=t.call(this,n,r,i)||this).key=ve.fromName(i.referenceValue),s}return pe(e,t),e.prototype.matches=function(n){var r=ve.comparator(n.key,this.key);return this.m(r)},e}(ti),qJ=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"in",r)||this).keys=H4("in",r),i}return pe(e,t),e.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},e}(ti),KJ=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"not-in",r)||this).keys=H4("not-in",r),i}return pe(e,t),e.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},e}(ti);function H4(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return ve.fromName(r.referenceValue)})}var QJ=function(t){function e(n,r){return t.call(this,n,"array-contains",r)||this}return pe(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return Tx(r)&&C0(r.arrayValue,this.value)},e}(ti),WJ=function(t){function e(n,r){return t.call(this,n,"in",r)||this}return pe(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&C0(this.value.arrayValue,r)},e}(ti),JJ=function(t){function e(n,r){return t.call(this,n,"not-in",r)||this}return pe(e,t),e.prototype.matches=function(n){if(C0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!C0(this.value.arrayValue,r)},e}(ti),YJ=function(t){function e(n,r){return t.call(this,n,"array-contains-any",r)||this}return pe(e,t),e.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!Tx(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return C0(r.value.arrayValue,s)})},e}(ti),N0=function(t,e){this.position=t,this.before=e};function iw(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return Ix(e)}).join(",")}var xf=function(t,e){e===void 0&&(e="asc"),this.field=t,this.dir=e};function XJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function KP(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],a=t.position[i];if(r=s.field.isKeyField()?ve.comparator(ve.fromName(a.referenceValue),n.key):Nh(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return t.before?r<=0:r<0}function QP(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ko(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zs=function(t,e,n,r,i,s,a,c){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),c===void 0&&(c=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=c,this.p=null,this.T=null,this.startAt,this.endAt};function z4(t,e,n,r,i,s,a,c){return new zs(t,e,n,r,i,s,a,c)}function Og(t){return new zs(t)}function Wy(t){return!rl(t.limit)&&t.limitType==="F"}function ow(t){return!rl(t.limit)&&t.limitType==="L"}function xx(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Cx(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Nx(t){return t.collectionGroup!==null}function kh(t){var e=se(t);if(e.p===null){e.p=[];var n=Cx(e),r=xx(e);if(n!==null&&r===null)n.isKeyField()||e.p.push(new xf(n)),e.p.push(new xf(go.keyField(),"asc"));else{for(var i=!1,s=0,a=e.explicitOrderBy;s<a.length;s++){var c=a[s];e.p.push(c),c.field.isKeyField()&&(i=!0)}if(!i){var l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new xf(go.keyField(),l))}}}return e.p}function Qo(t){var e=se(t);if(!e.T)if(e.limitType==="F")e.T=qP(e.path,e.collectionGroup,kh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=kh(e);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new xf(s.field,a))}var c=e.endAt?new N0(e.endAt.position,!e.endAt.before):null,l=e.startAt?new N0(e.startAt.position,!e.startAt.before):null;e.T=qP(e.path,e.collectionGroup,n,e.filters,e.limit,c,l)}return e.T}function G4(t,e,n){return new zs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pg(t,e){return p1(Qo(t),Qo(e))&&t.limitType===e.limitType}function q4(t){return kg(Qo(t))+"|lt:"+t.limitType}function mT(t){return"Query(target="+function(e){var n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+Ix(i.value);var i}).join(", ")+"]"),rl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+iw(e.startAt)),e.endAt&&(n+=", endAt: "+iw(e.endAt)),"Target("+n+")"}(Qo(t))+"; limitType="+t.limitType+")"}function Dg(t,e){return e.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ve.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(var i=0,s=n.explicitOrderBy;i<s.length;i++){var a=s[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(t,e)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!KP(n.startAt,kh(n),r))&&(!n.endAt||!KP(n.endAt,kh(n),r))}(t,e)}function K4(t){return function(e,n){for(var r=!1,i=0,s=kh(t);i<s.length;i++){var a=s[i],c=ZJ(a,e,n);if(c!==0)return c;r=r||a.field.isKeyField()}return 0}}function ZJ(t,e,n){var r=t.field.isKeyField()?ve.comparator(e.key,n.key):function(i,s,a){var c=s.data.field(i),l=a.data.field(i);return c!==null&&l!==null?Nh(c,l):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tw(e)?"-0":e}}function W4(t){return{integerValue:""+t}}function J4(t,e){return V4(e)?W4(e):Q4(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g1=function(){this._=void 0};function eY(t,e,n){return t instanceof Oh?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof qc?X4(t,e):t instanceof Kc?Z4(t,e):function(r,i){var s=Y4(r,i),a=WP(s)+WP(r.A);return gT(s)&&gT(r.A)?W4(a):Q4(r.R,a)}(t,e)}function tY(t,e,n){return t instanceof qc?X4(t,e):t instanceof Kc?Z4(t,e):n}function Y4(t,e){return t instanceof Ph?gT(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}var Oh=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return pe(e,t),e}(g1),qc=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return pe(e,t),e}(g1);function X4(t,e){for(var n=eM(e),r=function(a){n.some(function(c){return Ko(c,a)})||n.push(a)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Kc=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return pe(e,t),e}(g1);function Z4(t,e){for(var n=eM(e),r=function(a){n=n.filter(function(c){return!Ko(c,a)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Ph=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).R=n,i.A=r,i}return pe(e,t),e}(g1);function WP(t){return Zt(t.integerValue||t.doubleValue)}function eM(t){return Tx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _g=function(t,e){this.field=t,this.transform=e},nY=function(t,e){this.version=t,this.transformResults=e},qn=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function Jy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var m1=function(){};function rY(t,e,n){t instanceof Rg?function(r,i,s){var a=r.value.clone(),c=XP(r.fieldTransforms,i,s.transformResults);a.setAll(c),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof wu?function(r,i,s){if(Jy(r.precondition,i)){var a=XP(r.fieldTransforms,i,s.transformResults),c=i.data;c.setAll(tM(r)),c.setAll(a),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}else i.convertToUnknownDocument(s.version)}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function yT(t,e,n){t instanceof Rg?function(r,i,s){if(Jy(r.precondition,i)){var a=r.value.clone(),c=ZP(r.fieldTransforms,s,i);a.setAll(c),i.convertToFoundDocument(YP(i),a).setHasLocalMutations()}}(t,e,n):t instanceof wu?function(r,i,s){if(Jy(r.precondition,i)){var a=ZP(r.fieldTransforms,s,i),c=i.data;c.setAll(tM(r)),c.setAll(a),i.convertToFoundDocument(YP(i),c).setHasLocalMutations()}}(t,e,n):function(r,i){Jy(r.precondition,i)&&i.convertToNoDocument(Re.min())}(t,e)}function iY(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],a=e.data.field(s.field),c=Y4(s.transform,a||null);c!=null&&(n==null&&(n=Yr.empty()),n.set(s.field,c))}return n||null}function JP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Th(n,r,function(i,s){return function(a,c){return a.field.isEqual(c.field)&&function(l,h){return l instanceof qc&&h instanceof qc||l instanceof Kc&&h instanceof Kc?Th(l.elements,h.elements,Ko):l instanceof Ph&&h instanceof Ph?Ko(l.A,h.A):l instanceof Oh&&h instanceof Oh}(a.transform,c.transform)}(i,s)})}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function YP(t){return t.isFoundDocument()?t.version:Re.min()}var Rg=function(t){function e(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=t.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=s,a.type=0,a}return pe(e,t),e}(m1),wu=function(t){function e(n,r,i,s,a){a===void 0&&(a=[]);var c=this;return(c=t.call(this)||this).key=n,c.data=r,c.fieldMask=i,c.precondition=s,c.fieldTransforms=a,c.type=1,c}return pe(e,t),e}(m1);function tM(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function XP(t,e,n){var r=new Map;Ie(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],a=s.transform,c=e.data.field(s.field);r.set(s.field,tY(a,c,n[i]))}return r}function ZP(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var a=s[i],c=a.transform,l=n.data.field(a.field);r.set(a.field,eY(c,l,e))}return r}var Xt,He,Lg=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return pe(e,t),e}(m1),kx=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return pe(e,t),e}(m1),oY=function(t){this.count=t};function nM(t){switch(t){case V.OK:return ge();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0;default:return ge()}}function rM(t){if(t===void 0)return tn("GRPC error has no .code"),V.UNKNOWN;switch(t){case Xt.OK:return V.OK;case Xt.CANCELLED:return V.CANCELLED;case Xt.UNKNOWN:return V.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return V.INTERNAL;case Xt.UNAVAILABLE:return V.UNAVAILABLE;case Xt.UNAUTHENTICATED:return V.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case Xt.NOT_FOUND:return V.NOT_FOUND;case Xt.ALREADY_EXISTS:return V.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return V.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case Xt.ABORTED:return V.ABORTED;case Xt.OUT_OF_RANGE:return V.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return V.UNIMPLEMENTED;case Xt.DATA_LOSS:return V.DATA_LOSS;default:return ge()}}(He=Xt||(Xt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn=function(){function t(e,n){this.comparator=e,this.root=n||Ea.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ea.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ea.BLACK,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(n,r){return e(n,r),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(n,r){return e.push(n+":"+r),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new wy(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new wy(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new wy(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new wy(this.root,e,this.comparator,!0)},t}(),wy=function(){function t(e,n,r,i){this.isReverse=i,this.nodeStack=[];for(var s=1;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(this.nodeStack.length===0)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),Ea=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var i=this,s=r(e,i.key);return(i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();var e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)},t}();Ea.EMPTY=null,Ea.RED=!0,Ea.BLACK=!1,Ea.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ge()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ge()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ge()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ge()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ge()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,r,i,s){return this},t.prototype.insert=function(e,n,r){return new Ea(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pn=function(){function t(e){this.comparator=e,this.data=new Yn(this.comparator)}return t.prototype.has=function(e){return this.data.get(e)!==null},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.forEachInRange=function(e,n){for(var r=this.data.getIteratorFrom(e[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}},t.prototype.forEachWhile=function(e,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null},t.prototype.getIterator=function(){return new eD(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new eD(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(r){n=n.add(r)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),eD=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),sY=new Yn(ve.comparator);function co(){return sY}var aY=new Yn(ve.comparator);function vT(){return aY}var uY=new Yn(ve.comparator);function cY(){return uY}var lY=new pn(ve.comparator);function mt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=lY,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var fY=new pn(Be);function y1(){return fY}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ox=function(){function t(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Px.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Re.min(),r,y1(),co(),mt())},t}(),Px=function(){function t(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Lr.EMPTY_BYTE_STRING,n,mt(),mt(),mt())},t}(),Yy=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},iM=function(t,e){this.targetId=t,this.V=e},oM=function(t,e,n,r){n===void 0&&(n=Lr.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},tD=function(){function t(){this.S=0,this.D=rD(),this.C=Lr.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},t.prototype.M=function(){var e=mt(),n=mt(),r=mt();return this.D.forEach(function(i,s){switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new Px(this.C,this.N,e,n,r)},t.prototype.L=function(){this.F=!1,this.D=rD()},t.prototype.B=function(e,n){this.F=!0,this.D=this.D.insert(e,n)},t.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),hY=function(){function t(e){this.W=e,this.G=new Map,this.H=co(),this.J=nD(),this.Y=new pn(Be)}return t.prototype.X=function(e){for(var n=0,r=e.v;n<r.length;n++){var i=r[n];e.P&&e.P.isFoundDocument()?this.Z(i,e.P):this.tt(i,e.key,e.P)}for(var s=0,a=e.removedTargetIds;s<a.length;s++)i=a[s],this.tt(i,e.key,e.P)},t.prototype.et=function(e){var n=this;this.forEachTarget(e,function(r){var i=n.nt(r);switch(e.state){case 0:n.st(r)&&i.O(e.resumeToken);break;case 1:i.K(),i.k||i.L(),i.O(e.resumeToken);break;case 2:i.K(),i.k||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(e.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(e.resumeToken));break;default:ge()}})},t.prototype.forEachTarget=function(e,n){var r=this;e.targetIds.length>0?e.targetIds.forEach(n):this.G.forEach(function(i,s){r.st(s)&&n(s)})},t.prototype.rt=function(e){var n=e.targetId,r=e.V.count,i=this.ot(n);if(i){var s=i.target;if(rw(s))if(r===0){var a=new ve(s.path);this.tt(n,a,Jn.newNoDocument(a,Re.min()))}else Ie(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},t.prototype.ut=function(e){var n=this,r=new Map;this.G.forEach(function(a,c){var l=n.ot(c);if(l){if(a.current&&rw(l.target)){var h=new ve(l.target.path);n.H.get(h)!==null||n.at(c,h)||n.tt(c,h,Jn.newNoDocument(h,e))}a.$&&(r.set(c,a.M()),a.L())}});var i=mt();this.J.forEach(function(a,c){var l=!0;c.forEachWhile(function(h){var p=n.ot(h);return!p||p.purpose===2||(l=!1,!1)}),l&&(i=i.add(a))});var s=new Ox(e,r,this.Y,this.H,i);return this.H=co(),this.J=nD(),this.Y=new pn(Be),s},t.prototype.Z=function(e,n){if(this.st(e)){var r=this.at(e,n.key)?2:0;this.nt(e).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(e))}},t.prototype.tt=function(e,n,r){if(this.st(e)){var i=this.nt(e);this.at(e,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(e)),r&&(this.H=this.H.insert(n,r))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var n=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var n=this.G.get(e);return n||(n=new tD,this.G.set(e,n)),n},t.prototype.ht=function(e){var n=this.J.get(e);return n||(n=new pn(Be),this.J=this.J.insert(e,n)),n},t.prototype.st=function(e){var n=this.ot(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.ot=function(e){var n=this.G.get(e);return n&&n.k?null:this.W.lt(e)},t.prototype.it=function(e){var n=this;this.G.set(e,new tD),this.W.getRemoteKeysForTarget(e).forEach(function(r){n.tt(e,r,null)})},t.prototype.at=function(e,n){return this.W.getRemoteKeysForTarget(e).has(n)},t}();function nD(){return new Yn(ve.comparator)}function rD(){return new Yn(ve.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dY={asc:"ASCENDING",desc:"DESCENDING"},pY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gY=function(t,e){this.databaseId=t,this.I=e};function k0(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function sM(t,e){return t.I?e.toBase64():e.toUint8Array()}function mY(t,e){return k0(t,e.toTimestamp())}function fr(t){return Ie(!!t),Re.fromTimestamp(function(e){var n=Vs(e);return new _r(n.seconds,n.nanos)}(t))}function Dx(t,e){return function(n){return new Ze(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function aM(t){var e=Ze.fromString(t);return Ie(pM(e)),e}function O0(t,e){return Dx(t.databaseId,e.path)}function Ds(t,e){var n=aM(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(cM(n))}function wT(t,e){return Dx(t.databaseId,e)}function uM(t){var e=aM(t);return e.length===4?Ze.emptyPath():cM(e)}function P0(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cM(t){return Ie(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function iD(t,e,n){return{name:O0(t,e),fields:n.value.mapValue.fields}}function yY(t,e,n){var r=Ds(t,e.name),i=fr(e.updateTime),s=new Yr({mapValue:{fields:e.fields}}),a=Jn.newFoundDocument(r,i,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function sw(t,e){var n;if(e instanceof Rg)n={update:iD(t,e.key,e.value)};else if(e instanceof Lg)n={delete:O0(t,e.key)};else if(e instanceof wu)n={update:iD(t,e.key,e.data),updateMask:AY(e.fieldMask)};else{if(!(e instanceof kx))return ge();n={verify:O0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof Oh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Kc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ph)return{fieldPath:s.field.canonicalString(),increment:a.A};throw ge()}(0,r)})),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:mY(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ge()}(t,e.precondition)),n}function oD(t,e){var n=e.currentDocument?function(h){return h.updateTime!==void 0?qn.updateTime(fr(h.updateTime)):h.exists!==void 0?qn.exists(h.exists):qn.none()}(e.currentDocument):qn.none(),r=e.updateTransforms?e.updateTransforms.map(function(h){return function(p,g){var y=null;if("setToServerValue"in g)Ie(g.setToServerValue==="REQUEST_TIME"),y=new Oh;else if("appendMissingElements"in g){var w=g.appendMissingElements.values||[];y=new qc(w)}else if("removeAllFromArray"in g){var E=g.removeAllFromArray.values||[];y=new Kc(E)}else"increment"in g?y=new Ph(p,g.increment):ge();var I=go.fromServerFormat(g.fieldPath);return new _g(I,y)}(t,h)}):[];if(e.update){e.update.name;var i=Ds(t,e.update.name),s=new Yr({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(h){var p=h.fieldPaths||[];return new xh(p.map(function(g){return go.fromServerFormat(g)}))}(e.updateMask);return new wu(i,s,a,n,r)}return new Rg(i,s,n,r)}if(e.delete){var c=Ds(t,e.delete);return new Lg(c,n)}if(e.verify){var l=Ds(t,e.verify);return new kx(l,n)}return ge()}function lM(t,e){return{documents:[wT(t,e.path)]}}function fM(t,e){var n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=wT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=wT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(c){if(c.length!==0){var l=c.map(function(h){return function(p){if(p.op==="=="){if(GP(p.value))return{unaryFilter:{field:Fl(p.field),op:"IS_NAN"}};if(zP(p.value))return{unaryFilter:{field:Fl(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(GP(p.value))return{unaryFilter:{field:Fl(p.field),op:"IS_NOT_NAN"}};if(zP(p.value))return{unaryFilter:{field:Fl(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fl(p.field),op:wY(p.op),value:p.value}}}(h)});return l.length===1?l[0]:{compositeFilter:{op:"AND",filters:l}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(c){if(c.length!==0)return c.map(function(l){return function(h){return{field:Fl(h.field),direction:vY(h.dir)}}(l)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(c,l){return c.I||rl(l)?l:{value:l}}(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=sD(e.startAt)),e.endAt&&(n.structuredQuery.endAt=sD(e.endAt)),n}function hM(t){var e=uM(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ie(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var a=[];n.where&&(a=dM(n.where));var c=[];n.orderBy&&(c=n.orderBy.map(function(g){return function(y){return new xf(cf(y.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(g)}));var l=null;n.limit&&(l=function(g){var y;return rl(y=typeof g=="object"?g.value:g)?null:y}(n.limit));var h=null;n.startAt&&(h=aD(n.startAt));var p=null;return n.endAt&&(p=aD(n.endAt)),z4(e,i,c,a,l,"F",h,p)}function dM(t){return t?t.unaryFilter!==void 0?[EY(t)]:t.fieldFilter!==void 0?[bY(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(function(e){return dM(e)}).reduce(function(e,n){return e.concat(n)}):ge():[]}function sD(t){return{before:t.before,values:t.position}}function aD(t){var e=!!t.before,n=t.values||[];return new N0(n,e)}function vY(t){return dY[t]}function wY(t){return pY[t]}function Fl(t){return{fieldPath:t.canonicalString()}}function cf(t){return go.fromServerFormat(t.fieldPath)}function bY(t){return ti.create(cf(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ge()}}(t.fieldFilter.op),t.fieldFilter.value)}function EY(t){switch(t.unaryFilter.op){case"IS_NAN":var e=cf(t.unaryFilter.field);return ti.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=cf(t.unaryFilter.field);return ti.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=cf(t.unaryFilter.field);return ti.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=cf(t.unaryFilter.field);return ti.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ge()}}function AY(t){var e=[];return t.fields.forEach(function(n){return e.push(n.canonicalString())}),{fieldPaths:e}}function pM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=uD(e)),e=SY(t.get(n),e);return uD(e)}function SY(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function uD(t){return t+""}function Ns(t){var e=t.length;if(Ie(e>=2),e===2)return Ie(t.charAt(0)===""&&t.charAt(1)===""),Ze.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var a=t.indexOf("",s);switch((a<0||a>n)&&ge(),t.charAt(a+1)){case"":var c=t.substring(s,a),l=void 0;i.length===0?l=c:(l=i+=c,i=""),r.push(l);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:ge()}s=a+2}return new Ze(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IY=function(t,e){this.seconds=t,this.nanoseconds=e},Qr=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Qr.store="owner",Qr.key="owner";var ru=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ru.store="mutationQueues",ru.keyPath="userId";var vt=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};vt.store="mutations",vt.keyPath="batchId",vt.userMutationsIndex="userMutationsIndex",vt.userMutationsKeyPath=["userId","batchId"];var zn=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,lo(n)]},t.key=function(e,n,r){return[e,lo(n),r]},t}();zn.store="documentMutations",zn.PLACEHOLDER=new zn;var TY=function(t,e){this.path=t,this.readTime=e},xY=function(t,e){this.path=t,this.version=e},$t=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};$t.store="remoteDocuments",$t.readTimeIndex="readTimeIndex",$t.readTimeIndexPath="readTime",$t.collectionReadTimeIndex="collectionReadTimeIndex",$t.collectionReadTimeIndexPath=["parentPath","readTime"];var Vo=function(t){this.byteSize=t};Vo.store="remoteDocumentGlobal",Vo.key="remoteDocumentGlobalKey";var kr=function(t,e,n,r,i,s,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};kr.store="targets",kr.keyPath="targetId",kr.queryTargetsIndexName="queryTargetsIndex",kr.queryTargetsKeyPath=["canonicalId","targetId"];var Nn=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Nn.store="targetDocuments",Nn.keyPath=["targetId","path"],Nn.documentTargetsIndex="documentTargetsIndex",Nn.documentTargetsKeyPath=["path","targetId"];var Jr=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Jr.key="targetGlobalKey",Jr.store="targetGlobal";var kc=function(t,e){this.collectionId=t,this.parent=e};kc.store="collectionParents",kc.keyPath=["collectionId","parent"];var _s=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};_s.store="clientMetadata",_s.keyPath="clientId";var Dh=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Dh.store="bundles",Dh.keyPath="bundleId";var _h=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};_h.store="namedQueries",_h.keyPath="name";var CY=pt(pt([],pt(pt([],pt(pt([],pt(pt([],[ru.store,vt.store,zn.store,$t.store,kr.store,Qr.store,Jr.store,Nn.store]),[_s.store])),[Vo.store])),[kc.store])),[Dh.store,_h.store]),gM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",mM=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),ai=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},X=function(){function t(e){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(i,s){r.nextCallback=function(a){r.wrapSuccess(e,a).next(i,s)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,s)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(n,r){e.next(n,r)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,r){n(e)})},t.reject=function(e){return new t(function(n,r){r(e)})},t.waitFor=function(e){return new t(function(n,r){var i=0,s=0,a=!1;e.forEach(function(c){++i,c.next(function(){++s,a&&s===i&&n()},function(l){return r(l)})}),a=!0,s===i&&n()})},t.or=function(e){for(var n=t.resolve(!1),r=function(a){n=n.next(function(c){return c?t.resolve(c):a()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(e,n){var r=this,i=[];return e.forEach(function(s,a){i.push(n.call(r,s,a))}),this.waitFor(i)},t}(),yM=function(){function t(e,n){var r=this;this.action=e,this.transaction=n,this.aborted=!1,this.ft=new ai,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new Lp(e,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var s=_x(i.target.error);r.ft.reject(new Lp(e,s))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new Lp(n,s)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(re("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new kY(n)},t}(),Rh=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,t._t($c())===12.2&&tn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return re("SimpleDb","Removing database:",e),Wu(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if(typeof indexedDB>"u")return!1;if(t.gt())return!0;var e=$c(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.Tt)==="YES"},t.It=function(e,n){return e.store(n)},t._t=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},t.Et=function(e){var n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},t.prototype.At=function(e){return J(this,void 0,void 0,function(){var n,r=this;return Q(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(re("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var c=indexedDB.open(r.name,r.version);c.onsuccess=function(l){var h=l.target.result;s(h)},c.onblocked=function(){a(new Lp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=function(l){var h=l.target.error;h.name==="VersionError"?a(new Y(V.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Lp(e,h))},c.onupgradeneeded=function(l){re("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',l.oldVersion);var h=l.target.result;r.wt.Rt(h,c.transaction,l.oldVersion,r.version).next(function(){re("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,r,i){return J(this,void 0,void 0,function(){var s,a,c,l,h;return Q(this,function(p){switch(p.label){case 0:s=n==="readonly",a=0,c=function(){var g,y,w,E,I;return Q(this,function(k){switch(k.label){case 0:++a,k.label=1;case 1:return k.trys.push([1,4,,5]),[4,l.At(e)];case 2:return l.db=k.sent(),g=yM.open(l.db,e,s?"readonly":"readwrite",r),y=i(g).catch(function(S){return g.abort(S),X.reject(S)}).toPromise(),w={},y.catch(function(){}),[4,g.dt];case 3:return[2,(w.value=(k.sent(),y),w)];case 4:return E=k.sent(),I=E.name!=="FirebaseError"&&a<3,re("SimpleDb","Transaction failed with error:",E.message,"Retrying:",I),l.close(),I?[3,5]:[2,{value:Promise.reject(E)}];case 5:return[2]}})},l=this,p.label=1;case 1:return[5,c()];case 2:if(typeof(h=p.sent())=="object")return[2,h.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),NY=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return Wu(this.Pt.delete())},t}(),Lp=function(t){function e(n,r){var i=this;return(i=t.call(this,V.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return pe(e,t),e}(Y);function il(t){return t.name==="IndexedDbTransactionError"}var kY=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var r;return n!==void 0?(re("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(re("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Wu(r)},t.prototype.add=function(e){return re("SimpleDb","ADD",this.store.name,e,e),Wu(this.store.add(e))},t.prototype.get=function(e){var n=this;return Wu(this.store.get(e)).next(function(r){return r===void 0&&(r=null),re("SimpleDb","GET",n.store.name,e,r),r})},t.prototype.delete=function(e){return re("SimpleDb","DELETE",this.store.name,e),Wu(this.store.delete(e))},t.prototype.count=function(){return re("SimpleDb","COUNT",this.store.name),Wu(this.store.count())},t.prototype.Nt=function(e,n){var r=this.cursor(this.options(e,n)),i=[];return this.xt(r,function(s,a){i.push(a)}).next(function(){return i})},t.prototype.Ft=function(e,n){re("SimpleDb","DELETE ALL",this.store.name);var r=this.options(e,n);r.kt=!1;var i=this.cursor(r);return this.xt(i,function(s,a,c){return c.delete()})},t.prototype.$t=function(e,n){var r;n?r=e:(r={},n=e);var i=this.cursor(r);return this.xt(i,n)},t.prototype.Ot=function(e){var n=this.cursor({});return new X(function(r,i){n.onerror=function(s){var a=_x(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?e(a.primaryKey,a.value).next(function(c){c?a.continue():r()}):r()}})},t.prototype.xt=function(e,n){var r=[];return new X(function(i,s){e.onerror=function(a){s(a.target.error)},e.onsuccess=function(a){var c=a.target.result;if(c){var l=new NY(c),h=n(c.primaryKey,c.value,l);if(h instanceof X){var p=h.catch(function(g){return l.done(),X.reject(g)});r.push(p)}l.isDone?i():l.Dt===null?c.continue():c.continue(l.Dt)}else i()}}).next(function(){return X.waitFor(r)})},t.prototype.options=function(e,n){var r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var r=this.store.index(e.index);return e.kt?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function Wu(t){return new X(function(e,n){t.onsuccess=function(r){var i=r.target.result;e(i)},t.onerror=function(r){var i=_x(r.target.error);n(i)}})}var cD=!1;function _x(t){var e=Rh._t($c());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Y("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return cD||(cD=!0,setTimeout(function(){throw r},0)),r}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lD=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return pe(e,t),e}(mM);function Mr(t,e){var n=se(t);return Rh.It(n.Mt,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rx=function(){function t(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return t.prototype.applyToRemoteDocument=function(e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(e.key)&&rY(s,e,r[i])}},t.prototype.applyToLocalView=function(e){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(e.key)&&yT(a,e,this.localWriteTime);for(var i=0,s=this.mutations;i<s.length;i++){var a;(a=s[i]).key.isEqual(e.key)&&yT(a,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var n=this;this.mutations.forEach(function(r){var i=e.get(r.key),s=i;n.applyToLocalView(s),i.isValidDocument()||s.convertToNoDocument(Re.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},mt())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&Th(this.mutations,e.mutations,function(n,r){return JP(n,r)})&&Th(this.baseMutations,e.baseMutations,function(n,r){return JP(n,r)})},t}(),OY=function(){function t(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return t.from=function(e,n,r){Ie(e.mutations.length===r.length);for(var i=cY(),s=e.mutations,a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new t(e,n,r,i)},t}(),v1=function(){function t(e,n,r,i,s,a,c){s===void 0&&(s=Re.min()),a===void 0&&(a=Re.min()),c===void 0&&(c=Lr.EMPTY_BYTE_STRING),this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),vM=function(t){this.Lt=t};function bT(t,e){if(e.document)return yY(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ve.fromSegments(e.noDocument.path),r=Mh(e.noDocument.readTime),i=Jn.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=ve.fromSegments(e.unknownDocument.path);return r=Mh(e.unknownDocument.version),Jn.newUnknownDocument(s,r)}return ge()}function fD(t,e,n){var r=Lx(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(g,y){return{name:O0(g,y.key),fields:y.data.value.mapValue.fields,updateTime:k0(g,y.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new $t(null,null,s,a,r,i)}if(e.isNoDocument()){var c=e.key.path.toArray(),l=Lh(e.version);return a=e.hasCommittedMutations,new $t(null,new TY(c,l),null,a,r,i)}if(e.isUnknownDocument()){var h=e.key.path.toArray(),p=Lh(e.version);return new $t(new xY(h,p),null,null,!0,r,i)}return ge()}function Lx(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function wM(t){var e=new _r(t[0],t[1]);return Re.fromTimestamp(e)}function Lh(t){var e=t.toTimestamp();return new IY(e.seconds,e.nanoseconds)}function Mh(t){var e=new _r(t.seconds,t.nanoseconds);return Re.fromTimestamp(e)}function Hl(t,e){for(var n=(e.baseMutations||[]).map(function(l){return oD(t.Lt,l)}),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&e.mutations[r+1].transform!==void 0){var s=e.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map(function(l){return oD(t.Lt,l)}),c=_r.fromMillis(e.localWriteTimeMs);return new Rx(e.batchId,c,n,a)}function vp(t){var e,n,r=Mh(t.readTime),i=t.lastLimboFreeSnapshotVersion!==void 0?Mh(t.lastLimboFreeSnapshotVersion):Re.min();return t.query.documents!==void 0?(Ie((n=t.query).documents.length===1),e=Qo(Og(uM(n.documents[0])))):e=function(s){return Qo(hM(s))}(t.query),new v1(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Lr.fromBase64String(t.resumeToken))}function bM(t,e){var n,r=Lh(e.snapshotVersion),i=Lh(e.lastLimboFreeSnapshotVersion);n=rw(e.target)?lM(t.Lt,e.target):fM(t.Lt,e.target);var s=e.resumeToken.toBase64();return new kr(e.targetId,kg(e.target),r,s,e.sequenceNumber,i,n)}function EM(t){var e=hM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?G4(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PY=function(){function t(){}return t.prototype.getBundleMetadata=function(e,n){return hD(e).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:Mh(i.createTime),version:i.version};var i})},t.prototype.saveBundleMetadata=function(e,n){return hD(e).put({bundleId:(r=n).id,createTime:Lh(fr(r.createTime)),version:r.version});var r},t.prototype.getNamedQuery=function(e,n){return dD(e).get(n).next(function(r){if(r)return{name:(i=r).name,query:EM(i.bundledQuery),readTime:Mh(i.readTime)};var i})},t.prototype.saveNamedQuery=function(e,n){return dD(e).put(function(r){return{name:r.name,readTime:Lh(fr(r.readTime)),bundledQuery:r.bundledQuery}}(n))},t}();function hD(t){return Mr(t,Dh.store)}function dD(t){return Mr(t,_h.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DY=function(){function t(){this.Bt=new Mx}return t.prototype.addToCollectionParentIndex=function(e,n){return this.Bt.add(n),X.resolve()},t.prototype.getCollectionParents=function(e,n){return X.resolve(this.Bt.getEntries(n))},t}(),Mx=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pn(Ze.comparator),s=!i.has(r);return this.index[n]=i.add(r),s},t.prototype.has=function(e){var n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)},t.prototype.getEntries=function(e){return(this.index[e]||new pn(Ze.comparator)).toArray()},t}(),_Y=function(){function t(){this.qt=new Mx}return t.prototype.addToCollectionParentIndex=function(e,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),s=n.popLast();e.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:lo(s)};return pD(e).put(a)}return X.resolve()},t.prototype.getCollectionParents=function(e,n){var r=[],i=IDBKeyRange.bound([n,""],[F4(n),""],!1,!0);return pD(e).Nt(i).next(function(s){for(var a=0,c=s;a<c.length;a++){var l=c[a];if(l.collectionId!==n)break;r.push(Ns(l.parent))}return r})},t}();function pD(t){return Mr(t,kc.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Oo=function(){function t(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(t,e,n){var r=t.store(vt.store),i=t.store(zn.store),s=[],a=IDBKeyRange.only(n.batchId),c=0,l=r.$t({range:a},function(E,I,k){return c++,k.delete()});s.push(l.next(function(){Ie(c===1)}));for(var h=[],p=0,g=n.mutations;p<g.length;p++){var y=g[p],w=zn.key(e,y.key.path,n.batchId);s.push(i.delete(w)),h.push(y.key)}return X.waitFor(s).next(function(){return h})}function aw(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ge();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oo.DEFAULT_COLLECTION_PERCENTILE=10,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oo.DEFAULT=new Oo(41943040,Oo.DEFAULT_COLLECTION_PERCENTILE,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oo.DISABLED=new Oo(-1,0,0);var RY=function(){function t(e,n,r,i){this.userId=e,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return t.Qt=function(e,n,r,i){return Ie(e.uid!==""),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(e){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fa(e).$t({index:vt.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},t.prototype.addMutationBatch=function(e,n,r,i){var s=this,a=zl(e),c=fa(e);return c.add({}).next(function(l){Ie(typeof l=="number");for(var h=new Rx(l,n,r,i),p=function(S,T,x){var _=x.baseMutations.map(function(F){return sw(S.Lt,F)}),R=x.mutations.map(function(F){return sw(S.Lt,F)});return new vt(T,x.batchId,x.localWriteTime.toMillis(),_,R)}(s.R,s.userId,h),g=[],y=new pn(function(S,T){return Be(S.canonicalString(),T.canonicalString())}),w=0,E=i;w<E.length;w++){var I=E[w],k=zn.key(s.userId,I.key.path,l);y=y.add(I.key.path.popLast()),g.push(c.put(p)),g.push(a.put(k,zn.PLACEHOLDER))}return y.forEach(function(S){g.push(s.Ut.addToCollectionParentIndex(e,S))}),e.addOnCommittedListener(function(){s.Kt[l]=h.keys()}),X.waitFor(g).next(function(){return h})})},t.prototype.lookupMutationBatch=function(e,n){var r=this;return fa(e).get(n).next(function(i){return i?(Ie(i.userId===r.userId),Hl(r.R,i)):null})},t.prototype.jt=function(e,n){var r=this;return this.Kt[n]?X.resolve(this.Kt[n]):this.lookupMutationBatch(e,n).next(function(i){if(i){var s=i.keys();return r.Kt[n]=s,s}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return fa(e).$t({index:vt.userMutationsIndex,range:s},function(c,l,h){l.userId===r.userId&&(Ie(l.batchId>=i),a=Hl(r.R,l)),h.done()}).next(function(){return a})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return fa(e).$t({index:vt.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},t.prototype.getAllMutationBatches=function(e){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fa(e).Nt(vt.userMutationsIndex,r).next(function(i){return i.map(function(s){return Hl(n.R,s)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,i=zn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return zl(e).$t({range:s},function(c,l,h){var p=c[0],g=c[1],y=c[2],w=Ns(g);if(p===r.userId&&n.path.isEqual(w))return fa(e).get(y).next(function(E){if(!E)throw ge();Ie(E.userId===r.userId),a.push(Hl(r.R,E))});h.done()}).next(function(){return a})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,i=new pn(Be),s=[];return n.forEach(function(a){var c=zn.prefixForPath(r.userId,a.path),l=IDBKeyRange.lowerBound(c),h=zl(e).$t({range:l},function(p,g,y){var w=p[0],E=p[1],I=p[2],k=Ns(E);w===r.userId&&a.path.isEqual(k)?i=i.add(I):y.done()});s.push(h)}),X.waitFor(s).next(function(){return r.Wt(e,i)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=this,i=n.path,s=i.length+1,a=zn.prefixForPath(this.userId,i),c=IDBKeyRange.lowerBound(a),l=new pn(Be);return zl(e).$t({range:c},function(h,p,g){var y=h[0],w=h[1],E=h[2],I=Ns(w);y===r.userId&&i.isPrefixOf(I)?I.length===s&&(l=l.add(E)):g.done()}).next(function(){return r.Wt(e,l)})},t.prototype.Wt=function(e,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(fa(e).get(a).next(function(c){if(c===null)throw ge();Ie(c.userId===r.userId),i.push(Hl(r.R,c))}))}),X.waitFor(s).next(function(){return i})},t.prototype.removeMutationBatch=function(e,n){var r=this;return AM(e.Mt,this.userId,n).next(function(i){return e.addOnCommittedListener(function(){r.Gt(n.batchId)}),X.forEach(i,function(s){return r.referenceDelegate.markPotentiallyOrphaned(e,s)})})},t.prototype.Gt=function(e){delete this.Kt[e]},t.prototype.performConsistencyCheck=function(e){var n=this;return this.checkEmpty(e).next(function(r){if(!r)return X.resolve();var i=IDBKeyRange.lowerBound(zn.prefixForUser(n.userId)),s=[];return zl(e).$t({range:i},function(a,c,l){if(a[0]===n.userId){var h=Ns(a[1]);s.push(h)}else l.done()}).next(function(){Ie(s.length===0)})})},t.prototype.containsKey=function(e,n){return SM(e,this.userId,n)},t.prototype.zt=function(e){var n=this;return IM(e).get(this.userId).next(function(r){return r||new ru(n.userId,-1,"")})},t}();function SM(t,e,n){var r=zn.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return zl(t).$t({range:s,kt:!0},function(c,l,h){var p=c[0],g=c[1];c[2],p===e&&g===i&&(a=!0),h.done()}).next(function(){return a})}function fa(t){return Mr(t,vt.store)}function zl(t){return Mr(t,zn.store)}function IM(t){return Mr(t,ru.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uw=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),LY=function(){function t(e,n){this.referenceDelegate=e,this.R=n}return t.prototype.allocateTargetId=function(e){var n=this;return this.Xt(e).next(function(r){var i=new uw(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(e,r).next(function(){return r.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(n){return Re.fromTimestamp(new _r(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,n,r){var i=this;return this.Xt(e).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Zt(e,s)})},t.prototype.addTargetData=function(e,n){var r=this;return this.te(e,n).next(function(){return r.Xt(e).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(e,i)})})},t.prototype.updateTargetData=function(e,n){return this.te(e,n)},t.prototype.removeTargetData=function(e,n){var r=this;return this.removeMatchingKeysForTargetId(e,n.targetId).next(function(){return Ul(e).delete(n.targetId)}).next(function(){return r.Xt(e)}).next(function(i){return Ie(i.targetCount>0),i.targetCount-=1,r.Zt(e,i)})},t.prototype.removeTargets=function(e,n,r){var i=this,s=0,a=[];return Ul(e).$t(function(c,l){var h=vp(l);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.removeTargetData(e,h)))}).next(function(){return X.waitFor(a)}).next(function(){return s})},t.prototype.forEachTarget=function(e,n){return Ul(e).$t(function(r,i){var s=vp(i);n(s)})},t.prototype.Xt=function(e){return mD(e).get(Jr.key).next(function(n){return Ie(n!==null),n})},t.prototype.Zt=function(e,n){return mD(e).put(Jr.key,n)},t.prototype.te=function(e,n){return Ul(e).put(bM(this.R,n))},t.prototype.ee=function(e,n){var r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(n){return n.targetCount})},t.prototype.getTargetData=function(e,n){var r=kg(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Ul(e).$t({range:i,index:kr.queryTargetsIndexName},function(a,c,l){var h=vp(c);p1(n,h.target)&&(s=h,l.done())}).next(function(){return s})},t.prototype.addMatchingKeys=function(e,n,r){var i=this,s=[],a=Aa(e);return n.forEach(function(c){var l=lo(c.path);s.push(a.put(new Nn(r,l))),s.push(i.referenceDelegate.addReference(e,r,c))}),X.waitFor(s)},t.prototype.removeMatchingKeys=function(e,n,r){var i=this,s=Aa(e);return X.forEach(n,function(a){var c=lo(a.path);return X.waitFor([s.delete([r,c]),i.referenceDelegate.removeReference(e,r,a)])})},t.prototype.removeMatchingKeysForTargetId=function(e,n){var r=Aa(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Aa(e),s=mt();return i.$t({range:r,kt:!0},function(a,c,l){var h=Ns(a[1]),p=new ve(h);s=s.add(p)}).next(function(){return s})},t.prototype.containsKey=function(e,n){var r=lo(n.path),i=IDBKeyRange.bound([r],[F4(r)],!1,!0),s=0;return Aa(e).$t({index:Nn.documentTargetsIndex,kt:!0,range:i},function(a,c,l){var h=a[0];a[1],h!==0&&(s++,l.done())}).next(function(){return s>0})},t.prototype.lt=function(e,n){return Ul(e).get(n).next(function(r){return r?vp(r):null})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t){return Mr(t,kr.store)}function mD(t){return Mr(t,Jr.store)}function Aa(t){return Mr(t,Nn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(t){return J(this,void 0,void 0,function(){return Q(this,function(e){if(t.code!==V.FAILED_PRECONDITION||t.message!==gM)throw t;return re("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t,e){var n=t[0],r=t[1],i=e[0],s=e[1],a=Be(n,i);return a===0?Be(r,s):a}var MY=function(){function t(e){this.ne=e,this.buffer=new pn(yD),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var n=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();yD(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),FY=function(){function t(e,n){this.garbageCollector=e,this.asyncQueue=n,this.oe=!1,this.ce=null}return t.prototype.start=function(e){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),t.prototype.ue=function(e){var n=this,r=this.oe?3e5:6e4;re("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return J(n,void 0,void 0,function(){var i;return Q(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return il(i=s.sent())?(re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,ol(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return s.sent(),[2]}})})})},t}(),UY=function(){function t(e,n){this.ae=e,this.params=n}return t.prototype.calculateTargetCount=function(e,n){return this.ae.he(e).next(function(r){return Math.floor(n/100*r)})},t.prototype.nthSequenceNumber=function(e,n){var r=this;if(n===0)return X.resolve(ei.o);var i=new MY(n);return this.ae.forEachTarget(e,function(s){return i.re(s.sequenceNumber)}).next(function(){return r.ae.le(e,function(s){return i.re(s)})}).next(function(){return i.maxValue})},t.prototype.removeTargets=function(e,n,r){return this.ae.removeTargets(e,n,r)},t.prototype.removeOrphanedDocuments=function(e,n){return this.ae.removeOrphanedDocuments(e,n)},t.prototype.collect=function(e,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(gD)):this.getCacheSize(e).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),gD):r.fe(e,n)})},t.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},t.prototype.fe=function(e,n){var r,i,s,a,c,l,h,p=this,g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(y){return y>p.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.maximumSequenceNumbersToCollect+" from "+y),i=p.params.maximumSequenceNumbersToCollect):i=y,a=Date.now(),p.nthSequenceNumber(e,i)}).next(function(y){return r=y,c=Date.now(),p.removeTargets(e,r,n)}).next(function(y){return s=y,l=Date.now(),p.removeOrphanedDocuments(e,r)}).next(function(y){return h=Date.now(),dT()<=Ye.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-g)+`ms
	Determined least recently used `+i+" in "+(c-a)+`ms
	Removed `+s+" targets in "+(l-c)+`ms
	Removed `+y+" documents in "+(h-l)+`ms
Total Duration: `+(h-g)+"ms"),X.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:y})})},t}(),BY=function(){function t(e,n){this.db=e,this.garbageCollector=function(r,i){return new UY(r,i)}(this,n)}return t.prototype.he=function(e){var n=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(r){return n.next(function(i){return r+i})})},t.prototype.de=function(e){var n=0;return this.le(e,function(r){n++}).next(function(){return n})},t.prototype.forEachTarget=function(e,n){return this.db.getTargetCache().forEachTarget(e,n)},t.prototype.le=function(e,n){return this.we(e,function(r,i){return n(i)})},t.prototype.addReference=function(e,n,r){return by(e,r)},t.prototype.removeReference=function(e,n,r){return by(e,r)},t.prototype.removeTargets=function(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)},t.prototype.markPotentiallyOrphaned=function(e,n){return by(e,n)},t.prototype._e=function(e,n){return function(r,i){var s=!1;return IM(r).Ot(function(a){return SM(r,a,i).next(function(c){return c&&(s=!0),X.resolve(!c)})}).next(function(){return s})}(e,n)},t.prototype.removeOrphanedDocuments=function(e,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(e,function(c,l){if(l<=n){var h=r._e(e,c).next(function(p){if(!p)return a++,i.getEntry(e,c).next(function(){return i.removeEntry(c),Aa(e).delete([0,lo(c.path)])})});s.push(h)}}).next(function(){return X.waitFor(s)}).next(function(){return i.apply(e)}).next(function(){return a})},t.prototype.removeTarget=function(e,n){var r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)},t.prototype.updateLimboDocument=function(e,n){return by(e,n)},t.prototype.we=function(e,n){var r,i=Aa(e),s=ei.o;return i.$t({index:Nn.documentTargetsIndex},function(a,c){var l=a[0];a[1];var h=c.path,p=c.sequenceNumber;l===0?(s!==ei.o&&n(new ve(Ns(r)),s),s=p,r=h):s=ei.o}).next(function(){s!==ei.o&&n(new ve(Ns(r)),s)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function by(t,e){return Aa(t).put(function(n,r){return new Nn(0,lo(n.path),r)}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yh=function(){function t(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}return t.prototype.get=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],c=a[0],l=a[1];if(this.equalsFn(c,e))return l}},t.prototype.has=function(e){return this.get(e)!==void 0},t.prototype.set=function(e,n){var r=this.mapKeyFn(e),i=this.inner[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]},t.prototype.delete=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},t.prototype.forEach=function(e){nl(this.inner,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],c=a[0],l=a[1];e(c,l)}})},t.prototype.isEmpty=function(){return U4(this.inner)},t}(),TM=function(){function t(){this.changes=new Yh(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var n=this.changes.get(e);return n?n.readTime:Re.min()},t.prototype.addEntry=function(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})},t.prototype.removeEntry=function(e,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(e,{document:Jn.newInvalidDocument(e),readTime:n})},t.prototype.getEntry=function(e,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?X.resolve(r.document):this.getFromCache(e,n)},t.prototype.getEntries=function(e,n){return this.getAllFromCache(e,n)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),jY=function(){function t(e,n){this.R=e,this.Ut=n}return t.prototype.addEntry=function(e,n,r){return ga(e).put(Ey(n),r)},t.prototype.removeEntry=function(e,n){var r=ga(e),i=Ey(n);return r.delete(i)},t.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(i){return i.byteSize+=n,r.me(e,i)})},t.prototype.getEntry=function(e,n){var r=this;return ga(e).get(Ey(n)).next(function(i){return r.ye(n,i)})},t.prototype.ge=function(e,n){var r=this;return ga(e).get(Ey(n)).next(function(i){return{document:r.ye(n,i),size:aw(i)}})},t.prototype.getEntries=function(e,n){var r=this,i=co();return this.pe(e,n,function(s,a){var c=r.ye(s,a);i=i.insert(s,c)}).next(function(){return i})},t.prototype.Ee=function(e,n){var r=this,i=co(),s=new Yn(ve.comparator);return this.pe(e,n,function(a,c){var l=r.ye(a,c);i=i.insert(a,l),s=s.insert(a,aw(c))}).next(function(){return{documents:i,Te:s}})},t.prototype.pe=function(e,n,r){if(n.isEmpty())return X.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return ga(e).$t({range:i},function(c,l,h){for(var p=ve.fromSegments(c);a&&ve.comparator(a,p)<0;)r(a,null),a=s.getNext();a&&a.isEqual(p)&&(r(a,l),a=s.hasNext()?s.getNext():null),a?h.Ct(a.path.toArray()):h.done()}).next(function(){for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){var i=this,s=co(),a=n.path.length+1,c={};if(r.isEqual(Re.min())){var l=n.path.toArray();c.range=IDBKeyRange.lowerBound(l)}else{var h=n.path.toArray(),p=Lx(r);c.range=IDBKeyRange.lowerBound([h,p],!0),c.index=$t.collectionReadTimeIndex}return ga(e).$t(c,function(g,y,w){if(g.length===a){var E=bT(i.R,y);n.path.isPrefixOf(E.key.path)?Dg(n,E)&&(s=s.insert(E.key,E)):w.done()}}).next(function(){return s})},t.prototype.newChangeBuffer=function(e){return new VY(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return vD(e).get(Vo.key).next(function(n){return Ie(!!n),n})},t.prototype.me=function(e,n){return vD(e).put(Vo.key,n)},t.prototype.ye=function(e,n){if(n){var r=bT(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(Re.min()))return r}return Jn.newInvalidDocument(e)},t}(),VY=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new Yh(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return pe(e,t),e.prototype.applyChanges=function(n){var r=this,i=[],s=0,a=new pn(function(c,l){return Be(c.canonicalString(),l.canonicalString())});return this.changes.forEach(function(c,l){var h=r.Ae.get(c);if(l.document.isValidDocument()){var p=fD(r.Ie.R,l.document,r.getReadTime(c));a=a.add(c.path.popLast());var g=aw(p);s+=g-h,i.push(r.Ie.addEntry(n,c,p))}else if(s-=h,r.trackRemovals){var y=fD(r.Ie.R,Jn.newNoDocument(c,Re.min()),r.getReadTime(c));i.push(r.Ie.addEntry(n,c,y))}else i.push(r.Ie.removeEntry(n,c))}),a.forEach(function(c){i.push(r.Ie.Ut.addToCollectionParentIndex(n,c))}),i.push(this.Ie.updateMetadata(n,s)),X.waitFor(i)},e.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(s){return i.Ae.set(r,s.size),s.document})},e.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(s){var a=s.documents;return s.Te.forEach(function(c,l){i.Ae.set(c,l)}),a})},e}(TM);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t){return Mr(t,Vo.store)}function ga(t){return Mr(t,$t.store)}function Ey(t){return t.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $Y=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,n,r,i){var s=this;Ie(r<i&&r>=0&&i<=11);var a=new yM("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore(Qr.store)}(e),function(l){l.createObjectStore(ru.store,{keyPath:ru.keyPath}),l.createObjectStore(vt.store,{keyPath:vt.keyPath,autoIncrement:!0}).createIndex(vt.userMutationsIndex,vt.userMutationsKeyPath,{unique:!0}),l.createObjectStore(zn.store)}(e),wD(e),function(l){l.createObjectStore($t.store)}(e));var c=X.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore(Nn.store),l.deleteObjectStore(kr.store),l.deleteObjectStore(Jr.store)}(e),wD(e)),c=c.next(function(){return function(l){var h=l.store(Jr.store),p=new Jr(0,0,Re.min().toTimestamp(),0);return h.put(Jr.key,p)}(a)})),r<4&&i>=4&&(r!==0&&(c=c.next(function(){return function(l,h){return h.store(vt.store).Nt().next(function(p){l.deleteObjectStore(vt.store),l.createObjectStore(vt.store,{keyPath:vt.keyPath,autoIncrement:!0}).createIndex(vt.userMutationsIndex,vt.userMutationsKeyPath,{unique:!0});var g=h.store(vt.store),y=p.map(function(w){return g.put(w)});return X.waitFor(y)})}(e,a)})),c=c.next(function(){(function(l){l.createObjectStore(_s.store,{keyPath:_s.keyPath})})(e)})),r<5&&i>=5&&(c=c.next(function(){return s.Re(a)})),r<6&&i>=6&&(c=c.next(function(){return function(l){l.createObjectStore(Vo.store)}(e),s.be(a)})),r<7&&i>=7&&(c=c.next(function(){return s.ve(a)})),r<8&&i>=8&&(c=c.next(function(){return s.Pe(e,a)})),r<9&&i>=9&&(c=c.next(function(){(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e),function(l){var h=l.objectStore($t.store);h.createIndex($t.readTimeIndex,$t.readTimeIndexPath,{unique:!1}),h.createIndex($t.collectionReadTimeIndex,$t.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(c=c.next(function(){return s.Ve(a)})),r<11&&i>=11&&(c=c.next(function(){(function(l){l.createObjectStore(Dh.store,{keyPath:Dh.keyPath})})(e),function(l){l.createObjectStore(_h.store,{keyPath:_h.keyPath})}(e)})),c},t.prototype.be=function(e){var n=0;return e.store($t.store).$t(function(r,i){n+=aw(i)}).next(function(){var r=new Vo(n);return e.store(Vo.store).put(Vo.key,r)})},t.prototype.Re=function(e){var n=this,r=e.store(ru.store),i=e.store(vt.store);return r.Nt().next(function(s){return X.forEach(s,function(a){var c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt(vt.userMutationsIndex,c).next(function(l){return X.forEach(l,function(h){Ie(h.userId===a.userId);var p=Hl(n.R,h);return AM(e,a.userId,p).next(function(){})})})})})},t.prototype.ve=function(e){var n=e.store(Nn.store),r=e.store($t.store);return e.store(Jr.store).get(Jr.key).next(function(i){var s=[];return r.$t(function(a,c){var l=new Ze(a),h=function(p){return[0,lo(p)]}(l);s.push(n.get(h).next(function(p){return p?X.resolve():function(g){return n.put(new Nn(0,lo(g),i.highestListenSequenceNumber))}(l)}))}).next(function(){return X.waitFor(s)})})},t.prototype.Pe=function(e,n){e.createObjectStore(kc.store,{keyPath:kc.keyPath});var r=n.store(kc.store),i=new Mx,s=function(a){if(i.add(a)){var c=a.lastSegment(),l=a.popLast();return r.put({collectionId:c,parent:lo(l)})}};return n.store($t.store).$t({kt:!0},function(a,c){var l=new Ze(a);return s(l.popLast())}).next(function(){return n.store(zn.store).$t({kt:!0},function(a,c){a[0];var l=a[1];a[2];var h=Ns(l);return s(h.popLast())})})},t.prototype.Ve=function(e){var n=this,r=e.store(kr.store);return r.$t(function(i,s){var a=vp(s),c=bM(n.R,a);return r.put(c)})},t}();function wD(t){t.createObjectStore(Nn.store,{keyPath:Nn.keyPath}).createIndex(Nn.documentTargetsIndex,Nn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(kr.store,{keyPath:kr.keyPath}).createIndex(kr.queryTargetsIndexName,kr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Jr.store)}var fS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",HY=function(){function t(e,n,r,i,s,a,c,l,h,p){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=a,this.document=c,this.De=h,this.Ce=p,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(g){return Promise.resolve()},!t.yt())throw new Y(V.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new BY(this,i),this.Le=n+"main",this.R=new vM(l),this.Be=new Rh(this.Le,11,new $Y(this.R)),this.qe=new LY(this.referenceDelegate,this.R),this.Ut=new _Y,this.Ue=function(g,y){return new jY(g,y)}(this.R,this.Ut),this.Ke=new PY,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,p===!1&&tn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Y(V.FAILED_PRECONDITION,fS);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e.qe.getHighestSequenceNumber(n)})}).then(function(n){e.Ne=new ei(n,e.De)}).then(function(){e.xe=!0}).catch(function(n){return e.Be&&e.Be.close(),Promise.reject(n)})},t.prototype.He=function(e){var n=this;return this.Me=function(r){return J(n,void 0,void 0,function(){return Q(this,function(i){return this.started?[2,e(r)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var n=this;this.Be.vt(function(r){return J(n,void 0,void 0,function(){return Q(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,e()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return J(n,void 0,void 0,function(){return Q(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Ay(n).put(new _s(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(n).next(function(r){r||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(n)}).next(function(r){return e.isPrimary&&!r?e.Xe(n).next(function(){return!1}):!!r&&e.Ze(n).next(function(){return!0})})}).catch(function(n){if(il(n))return re("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Se.enqueueRetryable(function(){return e.Me(n)}),e.isPrimary=n})},t.prototype.Je=function(e){var n=this;return sp(e).get(Qr.key).next(function(r){return X.resolve(n.tn(r))})},t.prototype.en=function(e){return Ay(e).delete(this.clientId)},t.prototype.nn=function(){return J(this,void 0,void 0,function(){var e,n,r,i,s=this;return Q(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(c){var l=Mr(c,_s.store);return l.Nt().next(function(h){var p=s.rn(h,18e5),g=h.filter(function(y){return p.indexOf(y)===-1});return X.forEach(g,function(y){return l.delete(y.clientId)}).next(function(){return g})})}).catch(function(){return[]})]);case 1:if(e=a.sent(),this.Qe)for(n=0,r=e;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var n=this;return this.Ce?X.resolve(!0):sp(e).get(Qr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new Y(V.FAILED_PRECONDITION,fS);return!1}}return!(!n.networkEnabled||!n.inForeground)||Ay(e).Nt().next(function(i){return n.rn(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,c=!n.inForeground&&s.inForeground,l=n.networkEnabled===s.networkEnabled;if(a||c&&l)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&re("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},t.prototype.shutdown=function(){return J(this,void 0,void 0,function(){var e=this;return Q(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Qr.store,_s.store],function(r){var i=new lD(r,ei.o);return e.Xe(i).next(function(){return e.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,n){var r=this;return e.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return Ay(n).Nt().next(function(r){return e.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return RY.Qt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,r){var i=this;re("IndexedDbPersistence","Starting transaction:",e);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(e,a,CY,function(c){return s=new lD(c,i.Ne?i.Ne.next():ei.o),n==="readwrite-primary"?i.Je(s).next(function(l){return!!l||i.Ye(s)}).next(function(l){if(!l)throw tn("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Y(V.FAILED_PRECONDITION,gM);return r(s)}).next(function(l){return i.Ze(s).next(function(){return l})}):i.dn(s).next(function(){return r(s)})}).then(function(c){return s.raiseOnCommittedEvent(),c})},t.prototype.dn=function(e){var n=this;return sp(e).get(Qr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new Y(V.FAILED_PRECONDITION,fS)})},t.prototype.Ze=function(e){var n=new Qr(this.clientId,this.allowTabSynchronization,Date.now());return sp(e).put(Qr.key,n)},t.yt=function(){return Rh.yt()},t.prototype.Xe=function(e){var n=this,r=sp(e);return r.get(Qr.key).next(function(i){return n.tn(i)?(re("IndexedDbPersistence","Releasing primary lease."),r.delete(Qr.key)):X.resolve()})},t.prototype.sn=function(e,n){var r=Date.now();return!(e<r-n||e>r&&(tn("Detected an update time that is in the future: "+e+" > "+r),1))},t.prototype.We=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ke=function(){e.Se.enqueueAndForget(function(){return e.inForeground=e.document.visibilityState==="visible",e.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground=this.document.visibilityState==="visible")},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var e,n=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Fe=function(){n.un(),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(e){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(e)))!==null;return re("IndexedDbPersistence","Client '"+e+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return tn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){tn("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function sp(t){return Mr(t,Qr.store)}function Ay(t){return Mr(t,_s.store)}function Fx(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var xM=function(){function t(e,n,r){this.Ue=e,this._n=n,this.Ut=r}return t.prototype.mn=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(i){return r.yn(e,n,i)})},t.prototype.yn=function(e,n,r){return this.Ue.getEntry(e,n).next(function(i){for(var s=0,a=r;s<a.length;s++)a[s].applyToLocalView(i);return i})},t.prototype.gn=function(e,n){e.forEach(function(r,i){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(i)})},t.prototype.pn=function(e,n){var r=this;return this.Ue.getEntries(e,n).next(function(i){return r.En(e,i).next(function(){return i})})},t.prototype.En=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,n).next(function(i){return r.gn(n,i)})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){return function(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(e,n.path):Nx(n)?this.In(e,n,r):this.An(e,n,r)},t.prototype.Tn=function(e,n){return this.mn(e,new ve(n)).next(function(r){var i=vT();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},t.prototype.In=function(e,n,r){var i=this,s=n.collectionGroup,a=vT();return this.Ut.getCollectionParents(e,s).next(function(c){return X.forEach(c,function(l){var h=function(p,g){return new zs(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(s));return i.An(e,h,r).next(function(p){p.forEach(function(g,y){a=a.insert(g,y)})})}).next(function(){return a})})},t.prototype.An=function(e,n,r){var i,s,a=this;return this.Ue.getDocumentsMatchingQuery(e,n,r).next(function(c){return i=c,a._n.getAllMutationBatchesAffectingQuery(e,n)}).next(function(c){return s=c,a.Rn(e,s,i).next(function(l){i=l;for(var h=0,p=s;h<p.length;h++)for(var g=p[h],y=0,w=g.mutations;y<w.length;y++){var E=w[y],I=E.key,k=i.get(I);k==null&&(k=Jn.newInvalidDocument(I),i=i.insert(I,k)),yT(E,k,g.localWriteTime),k.isFoundDocument()||(i=i.remove(I))}})}).next(function(){return i.forEach(function(c,l){Dg(n,l)||(i=i.remove(c))}),i})},t.prototype.Rn=function(e,n,r){for(var i=mt(),s=0,a=n;s<a.length;s++)for(var c=0,l=a[s].mutations;c<l.length;c++){var h=l[c];h instanceof wu&&r.get(h.key)===null&&(i=i.add(h.key))}var p=r;return this.Ue.getEntries(e,i).next(function(g){return g.forEach(function(y,w){w.isFoundDocument()&&(p=p.insert(y,w))}),p})},t}(),zY=function(){function t(e,n,r,i){this.targetId=e,this.fromCache=n,this.bn=r,this.vn=i}return t.Pn=function(e,n){for(var r=mt(),i=mt(),s=0,a=n.docChanges;s<a.length;s++){var c=a[s];switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),CM=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(Re.min())?this.Dn(e,n):this.Sn.pn(e,i).next(function(a){var c=s.Cn(n,a);return(Wy(n)||ow(n))&&s.Nn(n.limitType,c,i,r)?s.Dn(e,n):(dT()<=Ye.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),mT(n)),s.Sn.getDocumentsMatchingQuery(e,n,r).next(function(l){return c.forEach(function(h){l=l.insert(h.key,h)}),l}))})},t.prototype.Cn=function(e,n){var r=new pn(K4(e));return n.forEach(function(i,s){Dg(e,s)&&(r=r.add(s))}),r},t.prototype.Nn=function(e,n,r,i){if(r.size!==n.size)return!0;var s=e==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)},t.prototype.Dn=function(e,n){return dT()<=Ye.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",mT(n)),this.Sn.getDocumentsMatchingQuery(e,n,Re.min())},t}(),GY=function(){function t(e,n,r,i){this.persistence=e,this.xn=n,this.R=i,this.Fn=new Yn(Be),this.kn=new Yh(function(s){return kg(s)},p1),this.$n=Re.min(),this._n=e.getMutationQueue(r),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new xM(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return e.collect(r,n.Fn)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t,e,n,r){return new GY(t,e,n,r)}function kM(t,e){return J(this,void 0,void 0,function(){var n,r,i,s;return Q(this,function(a){switch(a.label){case 0:return n=se(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(c){var l;return n._n.getAllMutationBatches(c).next(function(h){return l=h,r=n.persistence.getMutationQueue(e),i=new xM(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(c)}).next(function(h){for(var p=[],g=[],y=mt(),w=0,E=l;w<E.length;w++){var I=E[w];p.push(I.batchId);for(var k=0,S=I.mutations;k<S.length;k++){var T=S[k];y=y.add(T.key)}}for(var x=0,_=h;x<_.length;x++){var R=_[x];g.push(R.batchId);for(var F=0,q=R.mutations;F<q.length;F++){var H=q[F];y=y.add(H.key)}}return i.pn(c,y).next(function(Ae){return{Ln:Ae,removedBatchIds:p,addedBatchIds:g}})})})];case 1:return s=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function qY(t,e){var n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=e.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){var p=l.batch,g=p.keys(),y=X.resolve();return g.forEach(function(w){y=y.next(function(){return h.getEntry(c,w)}).next(function(E){var I=l.docVersions.get(w);Ie(I!==null),E.version.compareTo(I)<0&&(p.applyToRemoteDocument(E,l),E.isValidDocument()&&h.addEntry(E,l.commitVersion))})}),y.next(function(){return a._n.removeMutationBatch(c,p)})}(n,r,e,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function OM(t){var e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e.qe.getLastRemoteSnapshotVersion(n)})}function KY(t,e){var n=se(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var c=[];e.targetChanges.forEach(function(p,g){var y=i.get(g);if(y){c.push(n.qe.removeMatchingKeys(s,p.removedDocuments,g).next(function(){return n.qe.addMatchingKeys(s,p.addedDocuments,g)}));var w=p.resumeToken;if(w.approximateByteSize()>0){var E=y.withResumeToken(w,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(g,E),function(I,k,S){return Ie(k.resumeToken.approximateByteSize()>0),I.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8||S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(y,E,p)&&c.push(n.qe.updateTargetData(s,E))}}});var l=co();if(e.documentUpdates.forEach(function(p,g){e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),c.push(QY(s,a,e.documentUpdates,r,void 0).next(function(p){l=p})),!r.isEqual(Re.min())){var h=n.qe.getLastRemoteSnapshotVersion(s).next(function(p){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});c.push(h)}return X.waitFor(c).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,l)}).next(function(){return l})}).then(function(s){return n.Fn=i,s})}function QY(t,e,n,r,i){var s=mt();return n.forEach(function(a){return s=s.add(a)}),e.getEntries(t,s).next(function(a){var c=co();return n.forEach(function(l,h){var p=a.get(l),g=(i==null?void 0:i.get(l))||r;h.isNoDocument()&&h.version.isEqual(Re.min())?(e.removeEntry(l,g),c=c.insert(l,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h,g),c=c.insert(l,h)):re("LocalStore","Ignoring outdated watch update for ",l,". Current version:",p.version," Watch version:",h.version)}),c})}function WY(t,e){var n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return e===void 0&&(e=-1),n._n.getNextMutationBatchAfterBatchId(r,e)})}function cw(t,e){var n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,e).next(function(s){return s?(i=s,X.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new v1(e,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.Fn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(r.targetId,r),n.kn.set(e,r.targetId)),r})}function Fh(t,e,n){return J(this,void 0,void 0,function(){var r,i,s,a;return Q(this,function(c){switch(c.label){case 0:r=se(t),i=r.Fn.get(e),s=n?"readwrite":"readwrite-primary",c.label=1;case 1:return c.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(l){return r.persistence.referenceDelegate.removeTarget(l,i)})];case 2:c.sent(),c.label=3;case 3:return[3,5];case 4:if(!il(a=c.sent()))throw a;return re("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function lw(t,e,n){var r=se(t),i=Re.min(),s=mt();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(c,l,h){var p=se(c),g=p.kn.get(h);return g!==void 0?X.resolve(p.Fn.get(g)):p.qe.getTargetData(l,h)}(r,a,Qo(e)).next(function(c){if(c)return i=c.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,c.targetId).next(function(l){s=l})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,e,n?i:Re.min(),n?s:mt())}).next(function(c){return{documents:c,Bn:s}})})}function PM(t,e){var n=se(t),r=se(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,e).next(function(a){return a?a.target:null})})}function DM(t){var e=se(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=se(r),c=co(),l=Lx(s),h=ga(i),p=IDBKeyRange.lowerBound(l,!0);return h.$t({index:$t.readTimeIndex,range:p},function(g,y){var w=bT(a.R,y);c=c.insert(w.key,w),l=y.readTime}).next(function(){return{wn:c,readTime:wM(l)}})}(e.On,n,e.$n)}).then(function(n){var r=n.wn,i=n.readTime;return e.$n=i,r})}function JY(t){return J(this,void 0,void 0,function(){var e;return Q(this,function(n){return[2,(e=se(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=ga(i),a=Re.min();return s.$t({index:$t.readTimeIndex,reverse:!0},function(c,l,h){l.readTime&&(a=wM(l.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){e.$n=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YY=function(){function t(e){this.R=e,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,n){return X.resolve(this.Qn.get(n))},t.prototype.saveBundleMetadata=function(e,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:fr(r.createTime)}),X.resolve()},t.prototype.getNamedQuery=function(e,n){return X.resolve(this.jn.get(n))},t.prototype.saveNamedQuery=function(e,n){return this.jn.set(n.name,function(r){return{name:r.name,query:EM(r.bundledQuery),readTime:fr(r.readTime)}}(n)),X.resolve()},t}(),Ux=function(){function t(){this.Wn=new pn(yn.Gn),this.zn=new pn(yn.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,n){var r=new yn(e,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},t.prototype.Jn=function(e,n){var r=this;e.forEach(function(i){return r.addReference(i,n)})},t.prototype.removeReference=function(e,n){this.Yn(new yn(e,n))},t.prototype.Xn=function(e,n){var r=this;e.forEach(function(i){return r.removeReference(i,n)})},t.prototype.Zn=function(e){var n=this,r=new ve(new Ze([])),i=new yn(r,e),s=new yn(r,e+1),a=[];return this.zn.forEachInRange([i,s],function(c){n.Yn(c),a.push(c.key)}),a},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(n){return e.Yn(n)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var n=new ve(new Ze([])),r=new yn(n,e),i=new yn(n,e+1),s=mt();return this.zn.forEachInRange([r,i],function(a){s=s.add(a.key)}),s},t.prototype.containsKey=function(e){var n=new yn(e,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)},t}(),yn=function(){function t(e,n){this.key=e,this.ns=n}return t.Gn=function(e,n){return ve.comparator(e.key,n.key)||Be(e.ns,n.ns)},t.Hn=function(e,n){return Be(e.ns,n.ns)||ve.comparator(e.key,n.key)},t}(),XY=function(){function t(e,n){this.Ut=e,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new pn(yn.Gn)}return t.prototype.checkEmpty=function(e){return X.resolve(this._n.length===0)},t.prototype.addMutationBatch=function(e,n,r,i){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new Rx(s,n,r,i);this._n.push(a);for(var c=0,l=i;c<l.length;c++){var h=l[c];this.rs=this.rs.add(new yn(h.key,s)),this.Ut.addToCollectionParentIndex(e,h.key.path.popLast())}return X.resolve(a)},t.prototype.lookupMutationBatch=function(e,n){return X.resolve(this.os(n))},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=n+1,i=this.cs(r),s=i<0?0:i;return X.resolve(this._n.length>s?this._n[s]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return X.resolve(this._n.length===0?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return X.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,i=new yn(n,0),s=new yn(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,s],function(c){var l=r.os(c.ns);a.push(l)}),X.resolve(a)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,i=new pn(Be);return n.forEach(function(s){var a=new yn(s,0),c=new yn(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,c],function(l){i=i.add(l.ns)})}),X.resolve(this.us(i))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=n.path,i=r.length+1,s=r;ve.isDocumentKey(s)||(s=s.child(""));var a=new yn(new ve(s),0),c=new pn(Be);return this.rs.forEachWhile(function(l){var h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(l.ns)),!0)},a),X.resolve(this.us(c))},t.prototype.us=function(e){var n=this,r=[];return e.forEach(function(i){var s=n.os(i);s!==null&&r.push(s)}),r},t.prototype.removeMutationBatch=function(e,n){var r=this;Ie(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return X.forEach(n.mutations,function(s){var a=new yn(s.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(function(){r.rs=i})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,n){var r=new yn(n,0),i=this.rs.firstAfterOrEqual(r);return X.resolve(n.isEqual(i&&i.key))},t.prototype.performConsistencyCheck=function(e){return this._n.length,X.resolve()},t.prototype.hs=function(e,n){return this.cs(e)},t.prototype.cs=function(e){return this._n.length===0?0:e-this._n[0].batchId},t.prototype.os=function(e){var n=this.cs(e);return n<0||n>=this._n.length?null:this._n[n]},t}(),ZY=function(){function t(e,n){this.Ut=e,this.ls=n,this.docs=new Yn(ve.comparator),this.size=0}return t.prototype.addEntry=function(e,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,c=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:c,readTime:r}),this.size+=c-a,this.Ut.addToCollectionParentIndex(e,i.path.popLast())},t.prototype.removeEntry=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype.getEntry=function(e,n){var r=this.docs.get(n);return X.resolve(r?r.document.clone():Jn.newInvalidDocument(n))},t.prototype.getEntries=function(e,n){var r=this,i=co();return n.forEach(function(s){var a=r.docs.get(s);i=i.insert(s,a?a.document.clone():Jn.newInvalidDocument(s))}),X.resolve(i)},t.prototype.getDocumentsMatchingQuery=function(e,n,r){for(var i=co(),s=new ve(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var c=a.getNext(),l=c.key,h=c.value,p=h.document,g=h.readTime;if(!n.path.isPrefixOf(l.path))break;g.compareTo(r)<=0||Dg(n,p)&&(i=i.insert(p.key,p.clone()))}return X.resolve(i)},t.prototype.fs=function(e,n){return X.forEach(this.docs,function(r){return n(r)})},t.prototype.newChangeBuffer=function(e){return new eX(this)},t.prototype.getSize=function(e){return X.resolve(this.size)},t}(),eX=function(t){function e(n){var r=this;return(r=t.call(this)||this).Ie=n,r}return pe(e,t),e.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),X.waitFor(i)},e.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},e.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},e}(TM),tX=function(){function t(e){this.persistence=e,this.ds=new Yh(function(n){return kg(n)},p1),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.ws=0,this._s=new Ux,this.targetCount=0,this.ys=uw.Jt()}return t.prototype.forEachTarget=function(e,n){return this.ds.forEach(function(r,i){return n(i)}),X.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return X.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return X.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),X.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),X.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.ys=new uw(n),this.highestTargetId=n),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,n){return this.te(n),this.targetCount+=1,X.resolve()},t.prototype.updateTargetData=function(e,n){return this.te(n),X.resolve()},t.prototype.removeTargetData=function(e,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,X.resolve()},t.prototype.removeTargets=function(e,n,r){var i=this,s=0,a=[];return this.ds.forEach(function(c,l){l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i.ds.delete(c),a.push(i.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),X.waitFor(a).next(function(){return s})},t.prototype.getTargetCount=function(e){return X.resolve(this.targetCount)},t.prototype.getTargetData=function(e,n){var r=this.ds.get(n)||null;return X.resolve(r)},t.prototype.addMatchingKeys=function(e,n,r){return this._s.Jn(n,r),X.resolve()},t.prototype.removeMatchingKeys=function(e,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(function(a){s.push(i.markPotentiallyOrphaned(e,a))}),X.waitFor(s)},t.prototype.removeMatchingKeysForTargetId=function(e,n){return this._s.Zn(n),X.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=this._s.es(n);return X.resolve(r)},t.prototype.containsKey=function(e,n){return X.resolve(this._s.containsKey(n))},t}(),nX=function(){function t(e,n){var r=this;this.gs={},this.Ne=new ei(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new tX(this),this.Ut=new DY,this.Ue=function(i,s){return new ZY(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new vM(n),this.Ke=new YY(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var n=this.gs[e.toKey()];return n||(n=new XY(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=n),n},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,r){var i=this;re("MemoryPersistence","Starting transaction:",e);var s=new rX(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(a){return i.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},t.prototype.Is=function(e,n){return X.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(e,n)}}))},t}(),rX=function(t){function e(n){var r=this;return(r=t.call(this)||this).currentSequenceNumber=n,r}return pe(e,t),e}(mM),iX=function(){function t(e){this.persistence=e,this.As=new Ux,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ge()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),X.resolve()},t.prototype.removeReference=function(e,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),X.resolve()},t.prototype.markPotentiallyOrphaned=function(e,n){return this.vs.add(n.toString()),X.resolve()},t.prototype.removeTarget=function(e,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(function(s){s.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(e,n)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.vs,function(i){var s=ve.fromPath(i);return n.Ps(e,s).next(function(a){a||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(e)})},t.prototype.updateLimboDocument=function(e,n){var r=this;return this.Ps(e,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,n){var r=this;return X.or([function(){return X.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(e,n)},function(){return r.persistence.Is(e,n)}])},t}(),Tr=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return this.uid!=null},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(t,e){return"firestore_clients_"+t+"_"+e}function ED(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function hS(t,e){return"firestore_targets_"+t+"_"+e}Tr.UNAUTHENTICATED=new Tr(null),Tr.GOOGLE_CREDENTIALS=new Tr("google-credentials-uid"),Tr.FIRST_PARTY=new Tr("first-party-uid");var AD=function(){function t(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new Y(s.error.code,s.error.message)),a?new t(e,n,s.state,i):(tn("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),dS=function(){function t(e,n,r){this.targetId=e,this.state=n,this.error=r}return t.Vs=function(e,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new Y(i.error.code,i.error.message)),s?new t(e,i.state,r):(tn("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),SD=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.Vs=function(e,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=y1(),a=0;i&&a<r.activeTargetIds.length;++a)i=V4(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new t(e,s):(tn("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),oX=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.Vs=function(e){var n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(tn("SharedClientState","Failed to parse online state: "+e),null)},t}(),ET=function(){function t(){this.activeTargetIds=y1()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),pS=function(){function t(e,n,r,i,s){this.window=e,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Yn(Be),this.started=!1,this.$s=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=bD(this.persistenceKey,this.Ns),this.Ms=function(c){return"firestore_sequence_number_"+c}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new ET),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(c){return"firestore_online_state_"+c}(this.persistenceKey),this.Ks=function(c){return"firestore_bundle_loaded_"+c}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return J(this,void 0,void 0,function(){var e,n,r,i,s,a,c,l,h,p,g,y=this;return Q(this,function(w){switch(w.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=w.sent(),n=0,r=e;n<r.length;n++)(i=r[n])!==this.Ns&&(s=this.getItem(bD(this.persistenceKey,i)))&&(a=SD.Vs(i,s))&&(this.ks=this.ks.insert(a.clientId,a));for(this.Qs(),(c=this.storage.getItem(this.Us))&&(l=this.js(c))&&this.Ws(l),h=0,p=this.$s;h<p.length;h++)g=p[h],this.Fs(g);return this.$s=[],this.window.addEventListener("pagehide",function(){return y.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(e){var n=!1;return this.ks.forEach(function(r,i){i.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,n,r){this.zs(e,n,r),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var n="not-current";if(this.isActiveQueryTarget(e)){var r=this.storage.getItem(hS(this.persistenceKey,e));if(r){var i=dS.Vs(e,r);i&&(n=i.state)}}return this.Js.Ds(e),this.Qs(),n},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(hS(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,n,r){this.Ys(e,n,r)},t.prototype.handleUserChange=function(e,n,r){var i=this;n.forEach(function(s){i.Hs(s)}),this.currentUser=e,r.forEach(function(s){i.addPendingMutation(s)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return re("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){re("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){re("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.Fs=function(e){var n=this,r=e;if(r.storageArea===this.storage){if(re("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void tn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return J(n,void 0,void 0,function(){var i,s,a,c,l,h;return Q(this,function(p){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(c=this.ri(r.key,r.newValue)))return[2,this.oi(c)]}else if(r.key===this.Us){if(r.newValue!==null&&(l=this.js(r.newValue)))return[2,this.Ws(l)]}else if(r.key===this.Ms)(h=function(g){var y=ei.o;if(g!=null)try{var w=JSON.parse(g);Ie(typeof w=="number"),y=w}catch(E){tn("SharedClientState","Failed to read sequence number from WebStorage",E)}return y}(r.newValue))!==ei.o&&this.sequenceNumberHandler(h);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(e,n,r){var i=new AD(this.currentUser,e,n,r),s=ED(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Ss())},t.prototype.Hs=function(e){var n=ED(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Xs=function(e){var n={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(n))},t.prototype.Ys=function(e,n,r){var i=hS(this.persistenceKey,e),s=new dS(e,n,r);this.setItem(i,s.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(e){var n=this.Ls.exec(e);return n?n[1]:null},t.prototype.ni=function(e,n){var r=this.ti(e);return SD.Vs(r,n)},t.prototype.si=function(e,n){var r=this.Bs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return AD.Vs(new Tr(s),i,n)},t.prototype.ri=function(e,n){var r=this.qs.exec(e),i=Number(r[1]);return dS.Vs(i,n)},t.prototype.js=function(e){return oX.Vs(e)},t.prototype.ii=function(e){return J(this,void 0,void 0,function(){return Q(this,function(n){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(re("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},t.prototype.ei=function(e,n){var r=this,i=n?this.ks.insert(e,n):this.ks.remove(e),s=this.Gs(this.ks),a=this.Gs(i),c=[],l=[];return a.forEach(function(h){s.has(h)||c.push(h)}),s.forEach(function(h){a.has(h)||l.push(h)}),this.syncEngine.hi(c,l).then(function(){r.ks=i})},t.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var n=y1();return e.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},t}(),_M=function(){function t(){this.li=new ET,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,n,r){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,n,r){this.fi[e]=n},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new ET,Promise.resolve()},t.prototype.handleUserChange=function(e,n,r){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),sX=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),ID=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(0)},t.prototype.yi=function(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(1)},t.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},t}(),aX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},uX=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),cX=function(t){function e(n){var r=this;return(r=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return pe(e,t),e.prototype.ki=function(n,r,i,s){return new Promise(function(a,c){var l=new jJ;l.listenOnce(FJ.COMPLETE,function(){try{switch(l.getLastErrorCode()){case lS.NO_ERROR:var p=l.getResponseJson();re("Connection","XHR received:",JSON.stringify(p)),a(p);break;case lS.TIMEOUT:re("Connection",'RPC "'+n+'" timed out'),c(new Y(V.DEADLINE_EXCEEDED,"Request time out"));break;case lS.HTTP_ERROR:var g=l.getStatus();if(re("Connection",'RPC "'+n+'" failed with status:',g,"response text:",l.getResponseText()),g>0){var y=l.getResponseJson().error;if(y&&y.status&&y.message){var w=function(E){var I=E.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(I)>=0?I:V.UNKNOWN}(y.status);c(new Y(w,y.message))}else c(new Y(V.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new Y(V.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{re("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);l.send(r,"POST",h,i,15)})},e.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=LJ(),a=MJ(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new BJ({})),this.Fi(c.initMessageHeaders,r),SW()||TW()||xW()||CW()||NW()||IW()||(c.httpHeadersOverwriteParam="$httpHeaders");var l=i.join("");re("Connection","Creating WebChannel: "+l,c);var h=s.createWebChannel(l,c),p=!1,g=!1,y=new uX({Ei:function(E){g?re("Connection","Not sending because WebChannel is closed:",E):(p||(re("Connection","Opening WebChannel transport."),h.open(),p=!0),re("Connection","WebChannel sending:",E),h.send(E))},Ti:function(){return h.close()}}),w=function(E,I,k){E.listen(I,function(S){try{k(S)}catch(T){setTimeout(function(){throw T},0)}})};return w(h,vy.EventType.OPEN,function(){g||re("Connection","WebChannel transport opened.")}),w(h,vy.EventType.CLOSE,function(){g||(g=!0,re("Connection","WebChannel transport closed"),y.Vi())}),w(h,vy.EventType.ERROR,function(E){g||(g=!0,ew("Connection","WebChannel transport errored:",E),y.Vi(new Y(V.UNAVAILABLE,"The operation could not be completed")))}),w(h,vy.EventType.MESSAGE,function(E){var I;if(!g){var k=E.data[0];Ie(!!k);var S=k,T=S.error||((I=S[0])===null||I===void 0?void 0:I.error);if(T){re("Connection","WebChannel received error:",T);var x=T.status,_=function(F){var q=Xt[F];if(q!==void 0)return rM(q)}(x),R=T.message;_===void 0&&(_=V.INTERNAL,R="Unknown error status: "+x+" with message "+T.message),g=!0,y.Vi(new Y(_,R)),h.close()}else re("Connection","WebChannel received:",k),y.Si(k)}}),w(a,UJ.STAT_EVENT,function(E){E.stat===VP.PROXY?re("Connection","Detected buffering proxy"):E.stat===VP.NOPROXY&&re("Connection","Detected no buffering proxy")}),setTimeout(function(){y.Pi()},0),y},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId;var n=e.ssl?"https":"http";this.Di=n+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,n,r,i){var s=this.xi(e,n);re("RestConnection","Sending: ",s,r);var a={};return this.Fi(a,i),this.ki(e,s,a,r).then(function(c){return re("RestConnection","Received: ",c),c},function(c){throw ew("RestConnection",e+" failed with error: ",c,"url: ",s,"request:",r),c})},t.prototype.$i=function(e,n,r,i){return this.Ni(e,n,r,i)},t.prototype.Fi=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.7.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(e[r]=n.authHeaders[r])},t.prototype.xi=function(e,n){var r=aX[e];return this.Di+"/v1/"+n+":"+r},t}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(){return typeof window<"u"?window:null}function Xy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t){return new gY(t,!0)}var Bx=function(){function t(e,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Se=e,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(e){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-i);s>0&&re("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),LM=function(){function t(e,n,r,i,s,a){this.Se=e,this.zi=r,this.Hi=i,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Bx(e,n)}return t.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},t.prototype.er=function(){return this.state===2},t.prototype.start=function(){this.state!==3?this.auth():this.nr()},t.prototype.stop=function(){return J(this,void 0,void 0,function(){return Q(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ur(),this.stream.send(e)},t.prototype.rr=function(){return J(this,void 0,void 0,function(){return Q(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,n){return J(this,void 0,void 0,function(){return Q(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,e!==3?this.Zi.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(tn(n.toString()),tn("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===V.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){e.Yi===r&&e.lr(i)},function(i){n(function(){var s=new Y(V.UNKNOWN,"Fetching auth token failed: "+i.message);return e.dr(s)})})},t.prototype.lr=function(e){var n=this,r=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return J(e,void 0,void 0,function(){return Q(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return re("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===e?r():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),lX=function(t){function e(n,r,i,s,a){var c=this;return(c=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=s,c}return pe(e,t),e.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},e.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,a){var c;if("targetChange"in a){a.targetChange;var l=function(k){return k==="NO_CHANGE"?0:k==="ADD"?1:k==="REMOVE"?2:k==="CURRENT"?3:k==="RESET"?4:ge()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],p=function(k,S){return k.I?(Ie(S===void 0||typeof S=="string"),Lr.fromBase64String(S||"")):(Ie(S===void 0||S instanceof Uint8Array),Lr.fromUint8Array(S||new Uint8Array))}(s,a.targetChange.resumeToken),g=(y=a.targetChange.cause)&&function(k){var S=k.code===void 0?V.UNKNOWN:rM(k.code);return new Y(S,k.message||"")}(y);c=new oM(l,h,p,g||null)}else if("documentChange"in a){a.documentChange,(l=a.documentChange).document,l.document.name,l.document.updateTime,h=Ds(s,l.document.name),p=fr(l.document.updateTime);var y=new Yr({mapValue:{fields:l.document.fields}}),w=(g=Jn.newFoundDocument(h,p,y),l.targetIds||[]),E=l.removedTargetIds||[];c=new Yy(w,E,g.key,g)}else if("documentDelete"in a)a.documentDelete,(l=a.documentDelete).document,h=Ds(s,l.document),p=l.readTime?fr(l.readTime):Re.min(),y=Jn.newNoDocument(h,p),g=l.removedTargetIds||[],c=new Yy([],g,y.key,y);else if("documentRemove"in a)a.documentRemove,(l=a.documentRemove).document,h=Ds(s,l.document),p=l.removedTargetIds||[],c=new Yy([],p,h,null);else{if(!("filter"in a))return ge();a.filter;var I=a.filter;I.targetId,l=I.count||0,h=new oY(l),p=I.targetId,c=new iM(p,h)}return c}(this.R,n),i=function(s){if(!("targetChange"in s))return Re.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?Re.min():a.readTime?fr(a.readTime):Re.min()}(n);return this.listener._r(r,i)},e.prototype.mr=function(n){var r={};r.database=P0(this.R),r.addTarget=function(s,a){var c,l=a.target;return(c=rw(l)?{documents:lM(s,l)}:{query:fM(s,l)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=sM(s,a.resumeToken):a.snapshotVersion.compareTo(Re.min())>0&&(c.readTime=k0(s,a.snapshotVersion.toTimestamp())),c}(this.R,n);var i=function(s,a){var c=function(l,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ge()}}(0,a.purpose);return c==null?null:{"goog-listen-tags":c}}(this.R,n);i&&(r.labels=i),this.cr(r)},e.prototype.yr=function(n){var r={};r.database=P0(this.R),r.removeTarget=n,this.cr(r)},e}(LM),fX=function(t){function e(n,r,i,s,a){var c=this;return(c=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=s,c.gr=!1,c}return pe(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(n){return this.Hi.Oi("Write",n)},e.prototype.onMessage=function(n){if(Ie(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,a){return s&&s.length>0?(Ie(a!==void 0),s.map(function(c){return function(l,h){var p=l.updateTime?fr(l.updateTime):fr(h);return p.isEqual(Re.min())&&(p=fr(h)),new nY(p,l.transformResults||[])}(c,a)})):[]}(n.writeResults,n.commitTime),i=fr(n.commitTime);return this.listener.Tr(i,r)}return Ie(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var n={};n.database=P0(this.R),this.cr(n)},e.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return sw(r.R,s)})};this.cr(i)},e}(LM),hX=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).credentials=n,s.Hi=r,s.R=i,s.Rr=!1,s}return pe(e,t),e.prototype.br=function(){if(this.Rr)throw new Y(V.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===V.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new Y(V.UNKNOWN,a.toString())})},e.prototype.$i=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.$i(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===V.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new Y(V.UNKNOWN,a.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),dX=function(){function t(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.Fr(),this.vr=0,e==="Online"&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var n="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(tn(n),this.Vr=!1):re("OnlineStateTracker",n)},t.prototype.Fr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},t}(),pX=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return J(s,void 0,void 0,function(){return Q(this,function(c){switch(c.label){case 0:return bu(this)?(re("RemoteStore","Restarting streams for network reachability change."),[4,function(l){return J(this,void 0,void 0,function(){var h;return Q(this,function(p){switch(p.label){case 0:return(h=se(l)).Or.add(4),[4,Xh(h)];case 1:return p.sent(),h.Br.set("Unknown"),h.Or.delete(4),[4,Mg(h)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})})}),this.Br=new dX(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(t){return J(this,void 0,void 0,function(){var e,n;return Q(this,function(r){switch(r.label){case 0:if(!bu(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Xh(t){return J(this,void 0,void 0,function(){var e,n;return Q(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function b1(t,e){var n=se(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),$x(n)?Vx(n):ed(n).er()&&jx(n,e))}function D0(t,e){var n=se(t),r=ed(n);n.$r.delete(e),r.er()&&MM(n,e),n.$r.size===0&&(r.er()?r.ir():bu(n)&&n.Br.set("Unknown"))}function jx(t,e){t.qr.U(e.targetId),ed(t).mr(e)}function MM(t,e){t.qr.U(e),ed(t).yr(e)}function Vx(t){t.qr=new hY({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),ed(t).start(),t.Br.Sr()}function $x(t){return bu(t)&&!ed(t).tr()&&t.$r.size>0}function bu(t){return se(t).Or.size===0}function FM(t){t.qr=void 0}function gX(t){return J(this,void 0,void 0,function(){return Q(this,function(e){return t.$r.forEach(function(n,r){jx(t,n)}),[2]})})}function mX(t,e){return J(this,void 0,void 0,function(){return Q(this,function(n){return FM(t),$x(t)?(t.Br.Nr(e),Vx(t)):t.Br.set("Unknown"),[2]})})}function yX(t,e,n){return J(this,void 0,void 0,function(){var r,i,s;return Q(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof oM&&e.state===2&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(c,l){return J(this,void 0,void 0,function(){var h,p,g,y;return Q(this,function(w){switch(w.label){case 0:h=l.cause,p=0,g=l.targetIds,w.label=1;case 1:return p<g.length?(y=g[p],c.$r.has(y)?[4,c.remoteSyncer.rejectListen(y,h)]:[3,3]):[3,5];case 2:w.sent(),c.$r.delete(y),c.qr.removeTarget(y),w.label=3;case 3:w.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,fw(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Yy?t.qr.X(e):e instanceof iM?t.qr.rt(e):t.qr.et(e),n.isEqual(Re.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,OM(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(c,l){var h=c.qr.ut(l);return h.targetChanges.forEach(function(p,g){if(p.resumeToken.approximateByteSize()>0){var y=c.$r.get(g);y&&c.$r.set(g,y.withResumeToken(p.resumeToken,l))}}),h.targetMismatches.forEach(function(p){var g=c.$r.get(p);if(g){c.$r.set(p,g.withResumeToken(Lr.EMPTY_BYTE_STRING,g.snapshotVersion)),MM(c,p);var y=new v1(g.target,p,1,g.sequenceNumber);jx(c,y)}}),c.remoteSyncer.applyRemoteEvent(h)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return re("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,fw(t,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function fw(t,e,n){return J(this,void 0,void 0,function(){var r=this;return Q(this,function(i){switch(i.label){case 0:if(!il(e))throw e;return t.Or.add(1),[4,Xh(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return OM(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return J(r,void 0,void 0,function(){return Q(this,function(s){switch(s.label){case 0:return re("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),t.Or.delete(1),[4,Mg(t)];case 2:return s.sent(),[2]}})})}),[2]}})})}function UM(t,e){return e().catch(function(n){return fw(t,n,e)})}function Zh(t){return J(this,void 0,void 0,function(){var e,n,r,i,s;return Q(this,function(a){switch(a.label){case 0:e=se(t),n=lu(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(c){return bu(c)&&c.kr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,WY(e.localStore,r)];case 3:return(i=a.sent())===null?(e.kr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(c,l){c.kr.push(l);var h=lu(c);h.er()&&h.pr&&h.Er(l.mutations)}(e,i),[3,6]);case 4:return s=a.sent(),[4,fw(e,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return BM(e)&&jM(e),[2]}})})}function BM(t){return bu(t)&&!lu(t).tr()&&t.kr.length>0}function jM(t){lu(t).start()}function vX(t){return J(this,void 0,void 0,function(){return Q(this,function(e){return lu(t).Ar(),[2]})})}function wX(t){return J(this,void 0,void 0,function(){var e,n,r,i;return Q(this,function(s){for(e=lu(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]})})}function bX(t,e,n){return J(this,void 0,void 0,function(){var r,i;return Q(this,function(s){switch(s.label){case 0:return r=t.kr.shift(),i=OY.from(r,e,n),[4,UM(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,Zh(t)];case 2:return s.sent(),[2]}})})}function EX(t,e){return J(this,void 0,void 0,function(){return Q(this,function(n){switch(n.label){case 0:return e&&lu(t).pr?[4,function(r,i){return J(this,void 0,void 0,function(){var s,a;return Q(this,function(c){switch(c.label){case 0:return nM(a=i.code)&&a!==V.ABORTED?(s=r.kr.shift(),lu(r).sr(),[4,UM(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,i)})]):[3,3];case 1:return c.sent(),[4,Zh(r)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return BM(t)&&jM(t),[2]}})})}function AT(t,e){return J(this,void 0,void 0,function(){var n;return Q(this,function(r){switch(r.label){case 0:return n=se(t),e?(n.Or.delete(2),[4,Mg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Xh(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function ed(t){var e=this;return t.Ur||(t.Ur=function(n,r,i){var s=se(n);return s.br(),new lX(r,s.Hi,s.credentials,s.R,i)}(t.datastore,t.asyncQueue,{Ii:gX.bind(null,t),Ri:mX.bind(null,t),_r:yX.bind(null,t)}),t.Mr.push(function(n){return J(e,void 0,void 0,function(){return Q(this,function(r){switch(r.label){case 0:return n?(t.Ur.sr(),$x(t)?Vx(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:r.sent(),FM(t),r.label=3;case 3:return[2]}})})})),t.Ur}function lu(t){var e=this;return t.Kr||(t.Kr=function(n,r,i){var s=se(n);return s.br(),new fX(r,s.Hi,s.credentials,s.R,i)}(t.datastore,t.asyncQueue,{Ii:vX.bind(null,t),Ri:EX.bind(null,t),Ir:wX.bind(null,t),Tr:bX.bind(null,t)}),t.Mr.push(function(n){return J(e,void 0,void 0,function(){return Q(this,function(r){switch(r.label){case 0:return n?(t.Kr.sr(),[4,Zh(t)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:r.sent(),t.kr.length>0&&(re("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),r.label=4;case 4:return[2]}})})})),t.Kr}var AX=function(){function t(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return t.createAndSchedule=function(e,n,r,i,s){var a=new t(e,n,Date.now()+r,i,s);return a.start(r),a},t.prototype.start=function(e){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.timerHandle!==null?(e.clearTimeout(),e.op().then(function(n){return e.deferred.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function td(t,e){if(tn("AsyncQueue",e+": "+t),il(t))return new Y(V.UNAVAILABLE,e+": "+t);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VM=function(){function t(e){this.comparator=e?function(n,r){return e(n,r)||ve.comparator(n.key,r.key)}:function(n,r){return ve.comparator(n.key,r.key)},this.keyedMap=vT(),this.sortedSet=new Yn(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return this.keyedMap.get(e)!=null},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),TD=function(){function t(){this.Qr=new Yn(ve.comparator)}return t.prototype.track=function(e){var n=e.doc.key,r=this.Qr.get(n);r?e.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,e):e.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Qr=this.Qr.remove(n):e.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):ge():this.Qr=this.Qr.insert(n,e)},t.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(n,r){e.push(r)}),e},t}(),hw=function(){function t(e,n,r,i,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=l}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new t(e,n,VM.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},t}(),SX=function(){this.Wr=void 0,this.listeners=[]},IX=function(){this.queries=new Yh(function(t){return q4(t)},Pg),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t,e){return J(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return Q(this,function(h){switch(h.label){case 0:if(n=se(t),r=e.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new SX),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=h.sent(),[3,4];case 3:return c=h.sent(),l=td(c,"Initialization of query '"+mT(e.query)+"' failed"),[2,void e.onError(l)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&Gx(n),[2]}})})}function zx(t,e){return J(this,void 0,void 0,function(){var n,r,i,s,a;return Q(this,function(c){return n=se(t),r=e.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(e))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function TX(t,e){for(var n=se(t),r=!1,i=0,s=e;i<s.length;i++){var a=s[i],c=a.query,l=n.queries.get(c);if(l){for(var h=0,p=l.listeners;h<p.length;h++)p[h].Hr(a)&&(r=!0);l.Wr=a}}r&&Gx(n)}function xX(t,e,n){var r=se(t),i=r.queries.get(e);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(e)}function Gx(t){t.Gr.forEach(function(e){e.next()})}var qx=function(){function t(e,n,r){this.query=e,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=e.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}e=new hw(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),a=!0):this.eo(e,this.onlineState)&&(this.no(e),a=!0),this.Xr=e,a},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),n=!0),n},t.prototype.eo=function(e,n){if(!e.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||e.docs.isEmpty()&&n!=="Offline")},t.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},t.prototype.no=function(e){e=hw.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $M=function(t){this.key=t},HM=function(t){this.key=t},zM=function(){function t(e,n){this.query=e,this.uo=n,this.ao=null,this.current=!1,this.ho=mt(),this.mutatedKeys=mt(),this.lo=K4(e),this.fo=new VM(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(e,n){var r=this,i=n?n.mo:new TD,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,c=s,l=!1,h=Wy(this.query)&&s.size===this.query.limit?s.last():null,p=ow(this.query)&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(function(y,w){var E=s.get(y),I=Dg(r.query,w)?w:null,k=!!E&&r.mutatedKeys.has(E.key),S=!!I&&(I.hasLocalMutations||r.mutatedKeys.has(I.key)&&I.hasCommittedMutations),T=!1;E&&I?E.data.isEqual(I.data)?k!==S&&(i.track({type:3,doc:I}),T=!0):r.yo(E,I)||(i.track({type:2,doc:I}),T=!0,(h&&r.lo(I,h)>0||p&&r.lo(I,p)<0)&&(l=!0)):!E&&I?(i.track({type:0,doc:I}),T=!0):E&&!I&&(i.track({type:1,doc:E}),T=!0,(h||p)&&(l=!0)),T&&(I?(c=c.add(I),a=S?a.add(y):a.delete(y)):(c=c.delete(y),a=a.delete(y)))}),Wy(this.query)||ow(this.query))for(;c.size>this.query.limit;){var g=Wy(this.query)?c.last():c.first();c=c.delete(g.key),a=a.delete(g.key),i.track({type:1,doc:g})}return{fo:c,mo:i,Nn:l,mutatedKeys:a}},t.prototype.yo=function(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},t.prototype.applyChanges=function(e,n,r){var i=this,s=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var a=e.mo.jr();a.sort(function(p,g){return function(y,w){var E=function(I){switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return E(y)-E(w)}(p.type,g.type)||i.lo(p.doc,g.doc)}),this.po(r);var c=n?this.Eo():[],l=this.ho.size===0&&this.current?1:0,h=l!==this.ao;return this.ao=l,a.length!==0||h?{snapshot:new hw(this.query,e.fo,s,a,e.mutatedKeys,l===0,h,!1),To:c}:{To:c}},t.prototype.zr=function(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new TD,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var n=this;e&&(e.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),e.modifiedDocuments.forEach(function(r){}),e.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var n=this.ho;this.ho=mt(),this.fo.forEach(function(i){e.Io(i.key)&&(e.ho=e.ho.add(i.key))});var r=[];return n.forEach(function(i){e.ho.has(i)||r.push(new HM(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new $M(i))}),r},t.prototype.Ao=function(e){this.uo=e.Bn,this.ho=mt();var n=this._o(e.documents);return this.applyChanges(n,!0)},t.prototype.Ro=function(){return hw.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},t}(),CX=function(t,e,n){this.query=t,this.targetId=e,this.view=n},NX=function(t){this.key=t,this.bo=!1},kX=function(){function t(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Yh(function(c){return q4(c)},Pg),this.Vo=new Map,this.So=new Set,this.Do=new Yn(ve.comparator),this.Co=new Map,this.No=new Ux,this.xo={},this.Fo=new Map,this.ko=uw.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),t}();function OX(t,e){return J(this,void 0,void 0,function(){var n,r,i,s,a,c;return Q(this,function(l){switch(l.label){case 0:return n=Yx(t),(s=n.Po.get(e))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ro(),[3,4]):[3,1];case 1:return[4,cw(n.localStore,Qo(e))];case 2:return a=l.sent(),c=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Kx(n,e,r,c==="current")];case 3:i=l.sent(),n.isPrimaryClient&&b1(n.remoteStore,a),l.label=4;case 4:return[2,i]}})})}function Kx(t,e,n,r){return J(this,void 0,void 0,function(){var i,s,a,c,l,h;return Q(this,function(p){switch(p.label){case 0:return t.Oo=function(g,y,w){return function(E,I,k,S){return J(this,void 0,void 0,function(){var T,x,_;return Q(this,function(R){switch(R.label){case 0:return T=I.view._o(k),T.Nn?[4,lw(E.localStore,I.query,!1).then(function(F){var q=F.documents;return I.view._o(q,T)})]:[3,2];case 1:T=R.sent(),R.label=2;case 2:return x=S&&S.targetChanges.get(I.targetId),_=I.view.applyChanges(T,E.isPrimaryClient,x),[2,(ST(E,I.targetId,_.To),_.snapshot)]}})})}(t,g,y,w)},[4,lw(t.localStore,e,!0)];case 1:return i=p.sent(),s=new zM(e,i.Bn),a=s._o(i.documents),c=Px.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),l=s.applyChanges(a,t.isPrimaryClient,c),ST(t,n,l.To),h=new CX(e,n,s),[2,(t.Po.set(e,h),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),l.snapshot)]}})})}function PX(t,e){return J(this,void 0,void 0,function(){var n,r,i;return Q(this,function(s){switch(s.label){case 0:return n=se(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!Pg(a,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Fh(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),D0(n.remoteStore,r.targetId),Uh(n,r.targetId)}).catch(ol)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Uh(n,r.targetId),[4,Fh(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function DX(t,e,n){return J(this,void 0,void 0,function(){var r,i,s,a;return Q(this,function(c){switch(c.label){case 0:r=Xx(t),c.label=1;case 1:return c.trys.push([1,5,,6]),[4,function(l,h){var p,g=se(l),y=_r.now(),w=h.reduce(function(E,I){return E.add(I.key)},mt());return g.persistence.runTransaction("Locally write mutations","readwrite",function(E){return g.Mn.pn(E,w).next(function(I){p=I;for(var k=[],S=0,T=h;S<T.length;S++){var x=T[S],_=iY(x,p.get(x.key));_!=null&&k.push(new wu(x.key,_,$4(_.value.mapValue),qn.exists(!0)))}return g._n.addMutationBatch(E,y,k,h)})}).then(function(E){return E.applyToLocalDocumentSet(p),{batchId:E.batchId,changes:p}})}(r.localStore,e)];case 2:return i=c.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(l,h,p){var g=l.xo[l.currentUser.toKey()];g||(g=new Yn(Be)),g=g.insert(h,p),l.xo[l.currentUser.toKey()]=g}(r,i.batchId,n),[4,Eu(r,i.changes)];case 3:return c.sent(),[4,Zh(r.remoteStore)];case 4:return c.sent(),[3,6];case 5:return s=c.sent(),a=td(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function GM(t,e){return J(this,void 0,void 0,function(){var n,r;return Q(this,function(i){switch(i.label){case 0:n=se(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,KY(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(s,a){var c=n.Co.get(a);c&&(Ie(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.bo=!0:s.modifiedDocuments.size>0?Ie(c.bo):s.removedDocuments.size>0&&(Ie(c.bo),c.bo=!1))}),[4,Eu(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,ol(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function xD(t,e,n){var r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(s,a){var c=a.view.zr(e);c.snapshot&&i.push(c.snapshot)}),function(s,a){var c=se(s);c.onlineState=a;var l=!1;c.queries.forEach(function(h,p){for(var g=0,y=p.listeners;g<y.length;g++)y[g].zr(a)&&(l=!0)}),l&&Gx(c)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function _X(t,e,n){return J(this,void 0,void 0,function(){var r,i,s,a,c,l;return Q(this,function(h){switch(h.label){case 0:return(r=se(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(a=(a=new Yn(ve.comparator)).insert(s,Jn.newNoDocument(s,Re.min())),c=mt().add(s),l=new Ox(Re.min(),new Map,new pn(Be),a,c),[4,GM(r,l)]):[3,2];case 1:return h.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),Jx(r),[3,4];case 2:return[4,Fh(r.localStore,e,!1).then(function(){return Uh(r,e,n)}).catch(ol)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function RX(t,e){return J(this,void 0,void 0,function(){var n,r,i;return Q(this,function(s){switch(s.label){case 0:n=se(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,qY(n.localStore,e)];case 2:return i=s.sent(),Wx(n,r,null),Qx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Eu(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,ol(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function LX(t,e,n){return J(this,void 0,void 0,function(){var r,i;return Q(this,function(s){switch(s.label){case 0:r=se(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,c){var l=se(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var p;return l._n.lookupMutationBatch(h,c).next(function(g){return Ie(g!==null),p=g.keys(),l._n.removeMutationBatch(h,g)}).next(function(){return l._n.performConsistencyCheck(h)}).next(function(){return l.Mn.pn(h,p)})})}(r.localStore,e)];case 2:return i=s.sent(),Wx(r,e,n),Qx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Eu(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,ol(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function MX(t,e){return J(this,void 0,void 0,function(){var n,r,i,s,a;return Q(this,function(c){switch(c.label){case 0:bu((n=se(t)).remoteStore)||re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,function(l){var h=se(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return h._n.getHighestUnacknowledgedBatchId(p)})}(n.localStore)];case 2:return(r=c.sent())===-1?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return s=c.sent(),a=td(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function Qx(t,e){(t.Fo.get(e)||[]).forEach(function(n){n.resolve()}),t.Fo.delete(e)}function Wx(t,e,n){var r=se(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Uh(t,e,n){n===void 0&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(a){t.No.containsKey(a)||qM(t,a)})}function qM(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);n!==null&&(D0(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Jx(t))}function ST(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof $M?(t.No.addReference(s.key,e),FX(t,s)):s instanceof HM?(re("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||qM(t,s.key)):ge()}}function FX(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(re("SyncEngine","New document in limbo: "+n),t.So.add(r),Jx(t))}function Jx(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new ve(Ze.fromString(e)),r=t.ko.next();t.Co.set(r,new NX(n)),t.Do=t.Do.insert(n,r),b1(t.remoteStore,new v1(Qo(Og(n.path)),r,2,ei.o))}}function Eu(t,e,n){return J(this,void 0,void 0,function(){var r,i,s,a;return Q(this,function(c){switch(c.label){case 0:return r=se(t),i=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(l,h){a.push(r.Oo(h,e,n).then(function(p){if(p){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,p.fromCache?"not-current":"current"),i.push(p);var g=zY.Pn(h.targetId,p);s.push(g)}}))}),[4,Promise.all(a)]);case 1:return c.sent(),r.vo._r(i),[4,function(l,h){return J(this,void 0,void 0,function(){var p,g,y,w,E,I,k,S,T;return Q(this,function(x){switch(x.label){case 0:p=se(l),x.label=1;case 1:return x.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(_){return X.forEach(h,function(R){return X.forEach(R.bn,function(F){return p.persistence.referenceDelegate.addReference(_,R.targetId,F)}).next(function(){return X.forEach(R.vn,function(F){return p.persistence.referenceDelegate.removeReference(_,R.targetId,F)})})})})];case 2:return x.sent(),[3,4];case 3:if(!il(g=x.sent()))throw g;return re("LocalStore","Failed to update sequence numbers: "+g),[3,4];case 4:for(y=0,w=h;y<w.length;y++)E=w[y],I=E.targetId,E.fromCache||(k=p.Fn.get(I),S=k.snapshotVersion,T=k.withLastLimboFreeSnapshotVersion(S),p.Fn=p.Fn.insert(I,T));return[2]}})})}(r.localStore,s)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function UX(t,e){return J(this,void 0,void 0,function(){var n,r;return Q(this,function(i){switch(i.label){case 0:return(n=se(t)).currentUser.isEqual(e)?[3,3]:(re("SyncEngine","User change. New user:",e.toKey()),[4,kM(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(s,a){s.Fo.forEach(function(c){c.forEach(function(l){l.reject(new Y(V.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Eu(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function BX(t,e){var n=se(t),r=n.Co.get(e);if(r&&r.bo)return mt().add(r.key);var i=mt(),s=n.Vo.get(e);if(!s)return i;for(var a=0,c=s;a<c.length;a++){var l=c[a],h=n.Po.get(l);i=i.unionWith(h.view.wo)}return i}function jX(t,e){return J(this,void 0,void 0,function(){var n,r,i;return Q(this,function(s){switch(s.label){case 0:return[4,lw((n=se(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&ST(n,e.targetId,i.To),i)]}})})}function VX(t){return J(this,void 0,void 0,function(){var e;return Q(this,function(n){return[2,DM((e=se(t)).localStore).then(function(r){return Eu(e,r)})]})})}function $X(t,e,n,r){return J(this,void 0,void 0,function(){var i,s;return Q(this,function(a){switch(a.label){case 0:return[4,function(c,l){var h=se(c),p=se(h._n);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(g){return p.jt(g,l).next(function(y){return y?h.Mn.pn(g,y):X.resolve(null)})})}((i=se(t)).localStore,e)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Zh(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Wx(i,e,r||null),Qx(i,e),function(c,l){se(se(c)._n).Gt(l)}(i.localStore,e)):ge(),a.label=4;case 4:return[4,Eu(i,s)];case 5:return a.sent(),[3,7];case 6:re("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function HX(t,e){return J(this,void 0,void 0,function(){var n,r,i,s,a,c,l,h;return Q(this,function(p){switch(p.label){case 0:return Yx(n=se(t)),Xx(n),e!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,CD(n,r.toArray())]);case 1:return i=p.sent(),n.$o=!0,[4,AT(n.remoteStore,!0)];case 2:for(p.sent(),s=0,a=i;s<a.length;s++)c=a[s],b1(n.remoteStore,c);return[3,7];case 3:return e!==!1||n.$o===!1?[3,7]:(l=[],h=Promise.resolve(),n.Vo.forEach(function(g,y){n.sharedClientState.isLocalQueryTarget(y)?l.push(y):h=h.then(function(){return Uh(n,y),Fh(n.localStore,y,!0)}),D0(n.remoteStore,y)}),[4,h]);case 4:return p.sent(),[4,CD(n,l)];case 5:return p.sent(),function(g){var y=se(g);y.Co.forEach(function(w,E){D0(y.remoteStore,E)}),y.No.ts(),y.Co=new Map,y.Do=new Yn(ve.comparator)}(n),n.$o=!1,[4,AT(n.remoteStore,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function CD(t,e,n){return J(this,void 0,void 0,function(){var r,i,s,a,c,l,h,p,g,y,w,E,I,k;return Q(this,function(S){switch(S.label){case 0:r=se(t),i=[],s=[],a=0,c=e,S.label=1;case 1:return a<c.length?(l=c[a],h=void 0,(p=r.Vo.get(l))&&p.length!==0?[4,cw(r.localStore,Qo(p[0]))]:[3,7]):[3,13];case 2:h=S.sent(),g=0,y=p,S.label=3;case 3:return g<y.length?(w=y[g],E=r.Po.get(w),[4,jX(r,E)]):[3,6];case 4:(I=S.sent()).snapshot&&s.push(I.snapshot),S.label=5;case 5:return g++,[3,3];case 6:return[3,11];case 7:return[4,PM(r.localStore,l)];case 8:return k=S.sent(),[4,cw(r.localStore,k)];case 9:return h=S.sent(),[4,Kx(r,KM(k),l,!1)];case 10:S.sent(),S.label=11;case 11:i.push(h),S.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(s),i)]}})})}function KM(t){return z4(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function zX(t){var e=se(t);return se(se(e.localStore).persistence).fn()}function GX(t,e,n,r){return J(this,void 0,void 0,function(){var i,s,a;return Q(this,function(c){switch(c.label){case 0:return(i=se(t)).$o?(re("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,DM(i.localStore)];case 3:return s=c.sent(),a=Ox.createSynthesizedRemoteEventForCurrentChange(e,n==="current"),[4,Eu(i,s,a)];case 4:return c.sent(),[3,8];case 5:return[4,Fh(i.localStore,e,!0)];case 6:return c.sent(),Uh(i,e,r),[3,8];case 7:ge(),c.label=8;case 8:return[2]}})})}function qX(t,e,n){return J(this,void 0,void 0,function(){var r,i,s,a,c,l,h,p,g,y;return Q(this,function(w){switch(w.label){case 0:if(!(r=Yx(t)).$o)return[3,10];i=0,s=e,w.label=1;case 1:return i<s.length?(a=s[i],r.Vo.has(a)?(re("SyncEngine","Adding an already active target "+a),[3,5]):[4,PM(r.localStore,a)]):[3,6];case 2:return c=w.sent(),[4,cw(r.localStore,c)];case 3:return l=w.sent(),[4,Kx(r,KM(c),l.targetId,!1)];case 4:w.sent(),b1(r.remoteStore,l),w.label=5;case 5:return i++,[3,1];case 6:h=function(E){return Q(this,function(I){switch(I.label){case 0:return r.Vo.has(E)?[4,Fh(r.localStore,E,!1).then(function(){D0(r.remoteStore,E),Uh(r,E)}).catch(ol)]:[3,2];case 1:I.sent(),I.label=2;case 2:return[2]}})},p=0,g=n,w.label=7;case 7:return p<g.length?(y=g[p],[5,h(y)]):[3,10];case 8:w.sent(),w.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function Yx(t){var e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=GM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_X.bind(null,e),e.vo._r=TX.bind(null,e.eventManager),e.vo.Mo=xX.bind(null,e.eventManager),e}function Xx(t){var e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LX.bind(null,e),e}var QM=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return J(this,void 0,void 0,function(){return Q(this,function(n){switch(n.label){case 0:return this.R=w1(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Ko=function(e){return NM(this.persistence,new CM,e.initialUser,this.R)},t.prototype.qo=function(e){return new nX(iX.bs,this.R)},t.prototype.Bo=function(e){return new _M},t.prototype.terminate=function(){return J(this,void 0,void 0,function(){return Q(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),WM=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return pe(e,t),e.prototype.initialize=function(n){return J(this,void 0,void 0,function(){return Q(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,JY(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,n)];case 3:return r.sent(),[4,Xx(this.Qo.syncEngine)];case 4:return r.sent(),[4,Zh(this.Qo.remoteStore)];case 5:return r.sent(),[2]}})})},e.prototype.Ko=function(n){return NM(this.persistence,new CM,n.initialUser,this.R)},e.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new FY(r,n.asyncQueue)},e.prototype.qo=function(n){var r=Fx(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Oo.withCacheSize(this.cacheSizeBytes):Oo.DEFAULT;return new HY(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,RM(),Xy(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(n){return new _M},e}(QM),KX=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return pe(e,t),e.prototype.initialize=function(n){return J(this,void 0,void 0,function(){var r,i=this;return Q(this,function(s){switch(s.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof pS?(this.sharedClientState.syncEngine={ui:$X.bind(null,r),ai:GX.bind(null,r),hi:qX.bind(null,r),fn:zX.bind(null,r),ci:VX.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return J(i,void 0,void 0,function(){return Q(this,function(c){switch(c.label){case 0:return[4,HX(this.Qo.syncEngine,a)];case 1:return c.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},e.prototype.Bo=function(n){var r=RM();if(!pS.yt(r))throw new Y(V.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=Fx(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new pS(r,n.asyncQueue,i,n.clientId,n.initialUser)},e}(WM),IT=function(){function t(){}return t.prototype.initialize=function(e,n){return J(this,void 0,void 0,function(){var r=this;return Q(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return xD(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=UX.bind(null,this.syncEngine),[4,AT(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new IX},t.prototype.createDatastore=function(e){var n,r=w1(e.databaseInfo.databaseId),i=(n=e.databaseInfo,new cX(n));return function(s,a,c){return new hX(s,a,c)}(e.credentials,i,r)},t.prototype.createRemoteStore=function(e){var n,r,i,s,a,c=this;return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=function(l){return xD(c.syncEngine,l,0)},a=ID.yt()?new ID:new sX,new pX(n,r,i,s,a)},t.prototype.createSyncEngine=function(e,n){return function(r,i,s,a,c,l,h){var p=new kX(r,i,s,a,c,l);return h&&(p.$o=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)},t.prototype.terminate=function(){return function(e){return J(this,void 0,void 0,function(){var n;return Q(this,function(r){switch(r.label){case 0:return n=se(e),re("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Xh(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E1=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,n){var r=this;this.muted||setTimeout(function(){r.muted||e(n)},0)},t}(),QX=function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return J(this,void 0,void 0,function(){var n,r=this;return Q(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Y(V.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return J(this,void 0,void 0,function(){var c,l,h,p,g,y;return Q(this,function(w){switch(w.label){case 0:return c=se(s),l=P0(c.R)+"/documents",h={documents:a.map(function(E){return O0(c.R,E)})},[4,c.$i("BatchGetDocuments",l,h)];case 1:return p=w.sent(),g=new Map,p.forEach(function(E){var I=function(k,S){return"found"in S?function(T,x){Ie(!!x.found),x.found.name,x.found.updateTime;var _=Ds(T,x.found.name),R=fr(x.found.updateTime),F=new Yr({mapValue:{fields:x.found.fields}});return Jn.newFoundDocument(_,R,F)}(k,S):"missing"in S?function(T,x){Ie(!!x.missing),Ie(!!x.readTime);var _=Ds(T,x.missing),R=fr(x.readTime);return Jn.newNoDocument(_,R)}(k,S):ge()}(c.R,E);g.set(I.key.toString(),I)}),y=[],[2,(a.forEach(function(E){var I=g.get(E.toString());Ie(!!I),y.push(I)}),y)]}})})}(this.datastore,e)];case 1:return[2,((n=i.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},t.prototype.set=function(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new Lg(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return J(this,void 0,void 0,function(){var e,n=this;return Q(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(i){e.delete(i.key.toString())}),e.forEach(function(i,s){var a=ve.fromPath(s);n.mutations.push(new kx(a,n.precondition(a)))}),[4,function(i,s){return J(this,void 0,void 0,function(){var a,c,l;return Q(this,function(h){switch(h.label){case 0:return a=se(i),c=P0(a.R)+"/documents",l={writes:s.map(function(p){return sw(a.R,p)})},[4,a.Ni("Commit",c,l)];case 1:return h.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ge();n=Re.min()}var r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Y(V.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)},t.prototype.precondition=function(e){var n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?qn.updateTime(n):qn.none()},t.prototype.preconditionForUpdate=function(e){var n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Re.min()))throw new Y(V.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qn.updateTime(n)}return qn.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}(),WX=function(){function t(e,n,r,i){this.asyncQueue=e,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new Bx(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return J(e,void 0,void 0,function(){var n,r,i=this;return Q(this,function(s){return n=new QX(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(c){i.ic(c)})})}).catch(function(a){i.ic(a)}),[2]})})})},t.prototype.sc=function(e){try{var n=this.updateFunction(e);return!rl(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},t.prototype.ic=function(e){var n=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if(e.name==="FirebaseError"){var n=e.code;return n==="aborted"||n==="failed-precondition"||!nM(n)}return!1},t}(),JX=function(){function t(e,n,r){var i=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=Tr.UNAUTHENTICATED,this.clientId=M4.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return J(i,void 0,void 0,function(){return Q(this,function(a){switch(a.label){case 0:return re("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return a.sent(),this.user=s,[2]}})})})}return t.prototype.getConfiguration=function(){return J(this,void 0,void 0,function(){return Q(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Y(V.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var n=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return J(e,void 0,void 0,function(){var r,i;return Q(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),i=td(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(t,e){return J(this,void 0,void 0,function(){var n,r,i=this;return Q(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(a){return J(i,void 0,void 0,function(){return Q(this,function(c){switch(c.label){case 0:return r.isEqual(a)?[3,2]:[4,kM(e.localStore,a)];case 1:c.sent(),r=a,c.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function YM(t,e){return J(this,void 0,void 0,function(){var n,r;return Q(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Zx(t)];case 1:return n=i.sent(),re("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(s){return function(a,c){return J(this,void 0,void 0,function(){var l,h;return Q(this,function(p){switch(p.label){case 0:return(l=se(a)).asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials"),h=bu(l),l.Or.add(3),[4,Xh(l)];case 1:return p.sent(),h&&l.Br.set("Unknown"),[4,l.remoteSyncer.handleCredentialChange(c)];case 2:return p.sent(),l.Or.delete(3),[4,Mg(l)];case 3:return p.sent(),[2]}})})}(e.remoteStore,s)}),t.onlineComponents=e,[2]}})})}function Zx(t){return J(this,void 0,void 0,function(){return Q(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(re("FirestoreClient","Using default OfflineComponentProvider"),[4,JM(t,new QM)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function A1(t){return J(this,void 0,void 0,function(){return Q(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(re("FirestoreClient","Using default OnlineComponentProvider"),[4,YM(t,new IT)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function ND(t){return Zx(t).then(function(e){return e.persistence})}function XM(t){return Zx(t).then(function(e){return e.localStore})}function kD(t){return A1(t).then(function(e){return e.remoteStore})}function ZM(t){return A1(t).then(function(e){return e.syncEngine})}function Bh(t){return J(this,void 0,void 0,function(){var e,n;return Q(this,function(r){switch(r.label){case 0:return[4,A1(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=OX.bind(null,e.syncEngine),n.onUnlisten=PX.bind(null,e.syncEngine),n)]}})})}function OD(t,e,n){var r=this;n===void 0&&(n={});var i=new ai;return t.asyncQueue.enqueueAndForget(function(){return J(r,void 0,void 0,function(){var s;return Q(this,function(a){switch(a.label){case 0:return s=function(c,l,h,p,g){var y=new E1({next:function(E){l.enqueueAndForget(function(){return zx(c,w)});var I=E.docs.has(h);!I&&E.fromCache?g.reject(new Y(V.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&p&&p.source==="server"?g.reject(new Y(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:function(E){return g.reject(E)}}),w=new qx(Og(h.path),y,{includeMetadataChanges:!0,so:!0});return Hx(c,w)},[4,Bh(t)];case 1:return[2,s.apply(void 0,[a.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function PD(t,e,n){var r=this;n===void 0&&(n={});var i=new ai;return t.asyncQueue.enqueueAndForget(function(){return J(r,void 0,void 0,function(){var s;return Q(this,function(a){switch(a.label){case 0:return s=function(c,l,h,p,g){var y=new E1({next:function(E){l.enqueueAndForget(function(){return zx(c,w)}),E.fromCache&&p.source==="server"?g.reject(new Y(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:function(E){return g.reject(E)}}),w=new qx(h,y,{includeMetadataChanges:!0,so:!0});return Hx(c,w)},[4,Bh(t)];case 1:return[2,s.apply(void 0,[a.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var YX=function(t,e,n,r,i,s,a,c){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=c},dw=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),DD=new Map,eF=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},_D=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){this.changeListener=n,e.enqueueRetryable(function(){return n(Tr.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),XX=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){var r=this;this.changeListener=n,e.enqueueRetryable(function(){return n(r.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),ZX=function(){function t(e){var n=this;this.currentUser=Tr.UNAUTHENTICATED,this.oc=new ai,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){re("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};e.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=e.getImmediate({optional:!0});i?r(i):(re("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return t.prototype.getToken=function(){var e=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return e.cc!==n?(re("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):i?(Ie(typeof i.accessToken=="string"),new eF(i.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,n){var r=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return J(r,void 0,void 0,function(){return Q(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string"),new Tr(e)},t}(),eZ=function(){function t(e,n,r){this.hc=e,this.lc=n,this.fc=r,this.type="FirstParty",this.user=Tr.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),t}(),tZ=function(){function t(e,n,r){this.hc=e,this.lc=n,this.fc=r}return t.prototype.getToken=function(){return Promise.resolve(new eZ(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(e,n){e.enqueueRetryable(function(){return n(Tr.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(t,e,n){if(!n)throw new Y(V.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function tC(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new Y(V.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function tF(t,e,n,r){if(e===!0&&r===!0)throw new Y(V.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function RD(t){if(!ve.isDocumentKey(t))throw new Y(V.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function LD(t){if(ve.isDocumentKey(t))throw new Y(V.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function S1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return typeof t=="function"?"a function":ge()}function nt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=S1(t);throw new Y(V.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function MD(t,e){if(e<=0)throw new Y(V.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FD=function(){function t(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,tF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},t}(),_0=function(){function t(e,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FD({}),this._settingsFrozen=!1,e instanceof dw?(this._databaseId=e,this._credentials=new _D):(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Y(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dw(r.options.projectId)}(e),this._credentials=new ZX(n))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Y(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Y(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FD(e),e.credentials!==void 0&&(this._credentials=function(n){if(!n)return new _D;switch(n.type){case"gapi":var r=n.client;return Ie(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new tZ(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Y(V.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return e=this,(n=DD.get(e))&&(re("ComponentProvider","Removing Datastore"),DD.delete(e),n.terminate()),Promise.resolve();var e,n},t}(),Dt=function(){function t(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new iu(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),ri=function(){function t(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),iu=function(t){function e(n,r,i){var s=this;return(s=t.call(this,n,r,Og(i))||this)._path=i,s.type="collection",s}return pe(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Dt(this.firestore,null,new ve(n))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this._path)},e}(ri);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=on(t),eC("collection","path",e),t instanceof _0)return LD(n=Ze.fromString.apply(Ze,pt([e],r))),new iu(t,null,n);if(!(t instanceof Dt||t instanceof iu))throw new Y(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return LD(n=Ze.fromString.apply(Ze,pt([t.path],r)).child(Ze.fromString(e))),new iu(t.firestore,null,n)}function Zy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=on(t),arguments.length===1&&(e=M4.u()),eC("doc","path",e),t instanceof _0)return RD(n=Ze.fromString.apply(Ze,pt([e],r))),new Dt(t,null,new ve(n));if(!(t instanceof Dt||t instanceof iu))throw new Y(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return RD(n=t._path.child(Ze.fromString.apply(Ze,pt([e],r)))),new Dt(t.firestore,t instanceof iu?t.converter:null,new ve(n))}function rF(t,e){return t=on(t),e=on(e),(t instanceof Dt||t instanceof iu)&&(e instanceof Dt||e instanceof iu)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function iF(t,e){return t=on(t),e=on(e),t instanceof ri&&e instanceof ri&&t.firestore===e.firestore&&Pg(t._query,e._query)&&t.converter===e.converter}var nZ=function(){function t(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new Bx(this,"async_queue_retry"),this.Tc=function(){var r=Xy();r&&re("AsyncQueue","Visibility state changed to "+r.visibilityState),e.Zi.Gi()};var n=Xy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Tc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ic(),this.Ac(e)},t.prototype.enterRestrictedMode=function(){if(!this._c){this._c=!0;var e=Xy();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Tc)}},t.prototype.enqueue=function(e){return this.Ic(),this._c?new Promise(function(n){}):this.Ac(e)},t.prototype.enqueueRetryable=function(e){var n=this;this.enqueueAndForget(function(){return n.wc.push(e),n.Rc()})},t.prototype.Rc=function(){return J(this,void 0,void 0,function(){var e,n=this;return Q(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!il(e=r.sent()))throw e;return re("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.Rc()}),r.label=5;case 5:return[2]}})})},t.prototype.Ac=function(e){var n=this,r=this.dc.then(function(){return n.gc=!0,e().catch(function(i){throw n.yc=i,n.gc=!1,tn("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},t.prototype.enqueueAfterDelay=function(e,n,r){var i=this;this.Ic(),this.Ec.indexOf(e)>-1&&(n=0);var s=AX.createAndSchedule(this,e,n,r,function(a){return i.bc(a)});return this.mc.push(s),s},t.prototype.Ic=function(){this.yc&&ge()},t.prototype.verifyOperationInProgress=function(){},t.prototype.vc=function(){return J(this,void 0,void 0,function(){var e;return Q(this,function(n){switch(n.label){case 0:return[4,e=this.dc];case 1:n.sent(),n.label=2;case 2:if(e!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.Pc=function(e){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===e)return!0;return!1},t.prototype.Vc=function(e){var n=this;return this.vc().then(function(){n.mc.sort(function(a,c){return a.targetTimeMs-c.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var s=i[r];if(s.skipDelay(),e!=="all"&&s.timerId===e)break}return n.vc()})},t.prototype.Sc=function(e){this.Ec.push(e)},t.prototype.bc=function(e){var n=this.mc.indexOf(e);this.mc.splice(n,1)},t}();function jh(t){return function(e,n){if(typeof e!="object"||e===null)return!1;for(var r=e,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(t)}var rZ=-1,hn=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).type="firestore",i._queue=new nZ,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return pe(e,t),e.prototype._terminate=function(){return this._firestoreClient||oF(this),this._firestoreClient.terminate()},e}(_0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t){return t._firestoreClient||oF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function oF(t){var e,n=t._freezeSettings(),r=function(i,s,a,c){return new YX(i,s,a,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new JX(t._credentials,t._queue,r)}function UD(t,e,n){var r=this,i=new ai;return t.asyncQueue.enqueue(function(){return J(r,void 0,void 0,function(){var s;return Q(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,JM(t,n)];case 1:return a.sent(),[4,YM(t,e)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(c){return c.name==="FirebaseError"?c.code===V.FAILED_PRECONDITION||c.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function BD(t){if(t._initialized||t._terminated)throw new Y(V.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qo=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0;r<e.length;++r)if(e[r].length===0)throw new Y(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new go(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),Qc=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(Lr.fromBase64String(e))}catch(n){throw new Y(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(Lr.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),sl=function(t){this._methodName=t},I1=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return Be(this._lat,e._lat)||Be(this._long,e._long)},t}(),iZ=/^__.*__$/,oZ=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return this.fieldMask!==null?new wu(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rg(e,this.data,n,this.fieldTransforms)},t}(),sF=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return new wu(e,this.data,this.fieldMask,n,this.fieldTransforms)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}var uF=function(){function t(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Dc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),t.prototype.Nc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.xc=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Nc({path:r,Fc:!1});return i.kc(e),i},t.prototype.$c=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Nc({path:r,Fc:!1});return i.Dc(),i},t.prototype.Oc=function(e){return this.Nc({path:void 0,Fc:!0})},t.prototype.Mc=function(e){return pw(e,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},t.prototype.contains=function(e){return this.fieldMask.find(function(n){return e.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return e.isPrefixOf(n.field)})!==void 0},t.prototype.Dc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.kc(this.path.get(e))},t.prototype.kc=function(e){if(e.length===0)throw this.Mc("Document fields must not be empty");if(aF(this.Cc)&&iZ.test(e))throw this.Mc('Document fields cannot begin and end with "__"')},t}(),sZ=function(){function t(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.R=r||w1(e)}return t.prototype.qc=function(e,n,r,i){return i===void 0&&(i=!1),new uF({Cc:e,methodName:n,Bc:r,path:go.emptyPath(),Fc:!1,Lc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function al(t){var e=t._freezeSettings(),n=w1(t._databaseId);return new sZ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function T1(t,e,n,r,i,s){s===void 0&&(s={});var a=t.qc(s.merge||s.mergeFields?2:0,e,n,i);oC("Data must be an object, but it was:",a,r);var c,l,h=fF(r,a);if(s.merge)c=new xh(a.fieldMask),l=a.fieldTransforms;else if(s.mergeFields){for(var p=[],g=0,y=s.mergeFields;g<y.length;g++){var w=TT(e,y[g],n);if(!a.contains(w))throw new Y(V.INVALID_ARGUMENT,"Field '"+w+"' is specified in your field mask but missing from your input data.");dF(p,w)||p.push(w)}c=new xh(p),l=a.fieldTransforms.filter(function(E){return c.covers(E.field)})}else c=null,l=a.fieldTransforms;return new oZ(new Yr(h),c,l)}var nC=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return pe(e,t),e.prototype._toFieldTransform=function(n){if(n.Cc!==2)throw n.Cc===1?n.Mc(this._methodName+"() can only appear at the top level of your update data"):n.Mc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(sl);function cF(t,e,n){return new uF({Cc:3,Bc:e.settings.Bc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var aZ=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return pe(e,t),e.prototype._toFieldTransform=function(n){return new _g(n.path,new Oh)},e.prototype.isEqual=function(n){return n instanceof e},e}(sl),uZ=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Uc=r,i}return pe(e,t),e.prototype._toFieldTransform=function(n){var r=cF(this,n,!0),i=this.Uc.map(function(a){return ul(a,r)}),s=new qc(i);return new _g(n.path,s)},e.prototype.isEqual=function(n){return this===n},e}(sl),cZ=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Uc=r,i}return pe(e,t),e.prototype._toFieldTransform=function(n){var r=cF(this,n,!0),i=this.Uc.map(function(a){return ul(a,r)}),s=new Kc(i);return new _g(n.path,s)},e.prototype.isEqual=function(n){return this===n},e}(sl),lZ=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Kc=r,i}return pe(e,t),e.prototype._toFieldTransform=function(n){var r=new Ph(n.R,J4(n.R,this.Kc));return new _g(n.path,r)},e.prototype.isEqual=function(n){return this===n},e}(sl);function rC(t,e,n,r){var i=t.qc(1,e,n);oC("Data must be an object, but it was:",i,r);var s=[],a=Yr.empty();nl(r,function(l,h){var p=sC(e,l,n);h=on(h);var g=i.$c(p);if(h instanceof nC)s.push(p);else{var y=ul(h,g);y!=null&&(s.push(p),a.set(p,y))}});var c=new xh(s);return new sF(a,c,i.fieldTransforms)}function iC(t,e,n,r,i,s){var a=t.qc(1,e,n),c=[TT(e,r,n)],l=[i];if(s.length%2!=0)throw new Y(V.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)c.push(TT(e,s[h])),l.push(s[h+1]);for(var p=[],g=Yr.empty(),y=c.length-1;y>=0;--y)if(!dF(p,c[y])){var w=c[y],E=l[y];E=on(E);var I=a.$c(w);if(E instanceof nC)p.push(w);else{var k=ul(E,I);k!=null&&(p.push(w),g.set(w,k))}}var S=new xh(p);return new sF(g,S,a.fieldTransforms)}function lF(t,e,n,r){return r===void 0&&(r=!1),ul(n,t.qc(r?4:3,e))}function ul(t,e){if(hF(t=on(t)))return oC("Unsupported field value:",e,t),fF(t,e);if(t instanceof sl)return function(n,r){if(!aF(r.Cc))throw r.Mc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Mc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&e.Cc!==4)throw e.Mc("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,c=n;a<c.length;a++){var l=ul(c[a],r.Oc(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=on(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return J4(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=_r.fromDate(n);return{timestampValue:k0(r.R,i)}}if(n instanceof _r)return i=new _r(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:k0(r.R,i)};if(n instanceof I1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Qc)return{bytesValue:sM(r.R,n._byteString)};if(n instanceof Dt){i=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Mc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Dx(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Mc("Unsupported field value: "+S1(n))}(t,e)}function fF(t,e){var n={};return U4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nl(t,function(r,i){var s=ul(i,e.xc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function hF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _r||t instanceof I1||t instanceof Qc||t instanceof Dt||t instanceof sl)}function oC(t,e,n){if(!hF(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=S1(n);throw r==="an object"?e.Mc(t+" a custom object"):e.Mc(t+" "+r)}}function TT(t,e,n){if((e=on(e))instanceof qo)return e._internalPath;if(typeof e=="string")return sC(t,e);throw pw("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var fZ=new RegExp("[~\\*/\\[\\]]");function sC(t,e,n){if(e.search(fZ)>=0)throw pw("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return new(qo.bind.apply(qo,pt([void 0],e.split("."))))()._internalPath}catch{throw pw("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function pw(t,e,n,r,i){var s=r&&!r.isEmpty(),a=i!==void 0,c="Function "+e+"() called with invalid data";n&&(c+=" (via `toFirestore()`)");var l="";return(s||a)&&(l+=" (found",s&&(l+=" in field "+r),a&&(l+=" in document "+i),l+=")"),new Y(V.INVALID_ARGUMENT,(c+=". ")+t+l)}function dF(t,e){return t.some(function(n){return n.isEqual(e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R0=function(){function t(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Dt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return this._document!==null},t.prototype.data=function(){if(this._document){if(this._converter){var e=new hZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(e){if(this._document){var n=this._document.data.field(gw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}},t}(),hZ=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return pe(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(R0);function gw(t,e){return typeof e=="string"?sC(t,e):e instanceof qo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ic=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),Rs=function(t){function e(n,r,i,s,a,c){var l=this;return(l=t.call(this,n,r,i,s,c)||this)._firestore=n,l._firestoreImpl=n,l.metadata=a,l}return pe(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Mp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},e.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(gw("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},e}(R0),Mp=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return pe(e,t),e.prototype.data=function(n){return n===void 0&&(n={}),t.prototype.data.call(this,n)},e}(Rs),Sa=function(){function t(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ic(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var r=this;this._snapshot.docs.forEach(function(i){e.call(n,new Mp(r._firestore,r._userDataWriter,i.key,i,new ic(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},t.prototype.docChanges=function(e){e===void 0&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(c){return{type:"added",doc:new Mp(r._firestore,r._userDataWriter,c.doc.key,c.doc,new ic(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(c){return i||c.type!==3}).map(function(c){var l=new Mp(r._firestore,r._userDataWriter,c.doc.key,c.doc,new ic(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,p=-1;return c.type!==0&&(h=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(p=(a=a.add(c.doc)).indexOf(c.doc.key)),{type:dZ(c.type),doc:l,oldIndex:h,newIndex:p}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},t}();function dZ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}function pF(t,e){return t instanceof Rs&&e instanceof Rs?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Sa&&e instanceof Sa&&t._firestore===e._firestore&&iF(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(t){if(ow(t)&&t.explicitOrderBy.length===0)throw new Y(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Fg=function(){};function ha(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var pZ=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).Qc=n,s.jc=r,s.Wc=i,s.type="where",s}return pe(e,t),e.prototype._apply=function(n){var r=al(n.firestore),i=function(s,a,c,l,h,p,g){var y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Y(V.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){zD(g,p);for(var w=[],E=0,I=g;E<I.length;E++){var k=I[E];w.push(HD(l,s,k))}y={arrayValue:{values:w}}}else y=HD(l,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||zD(g,p),y=lF(c,"where",g,p==="in"||p==="not-in");var S=ti.create(h,p,y);return function(T,x){if(x.g()){var _=Cx(T);if(_!==null&&!_.isEqual(x.field))throw new Y(V.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+_.toString()+"' and '"+x.field.toString()+"'");var R=xx(T);R!==null&&yF(T,x.field,R)}var F=function(q,H){for(var Ae=0,N=q.filters;Ae<N.length;Ae++){var tt=N[Ae];if(H.indexOf(tt.op)>=0)return tt.op}return null}(T,function(q){switch(q){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(x.op));if(F!==null)throw F===x.op?new Y(V.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+x.op.toString()+"' filter."):new Y(V.INVALID_ARGUMENT,"Invalid query. You cannot use '"+x.op.toString()+"' filters with '"+F.toString()+"' filters.")}(s,S),S}(n._query,0,r,n.firestore._databaseId,this.Qc,this.jc,this.Wc);return new ri(n.firestore,n.converter,function(s,a){var c=s.filters.concat([a]);return new zs(s.path,s.collectionGroup,s.explicitOrderBy.slice(),c,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,i))},e}(Fg),gZ=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Qc=n,i.Gc=r,i.type="orderBy",i}return pe(e,t),e.prototype._apply=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new Y(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Y(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var c=new xf(s,a);return function(l,h){if(xx(l)===null){var p=Cx(l);p!==null&&yF(l,p,h.field)}}(i,c),c}(n._query,this.Qc,this.Gc);return new ri(n.firestore,n.converter,function(i,s){var a=i.explicitOrderBy.concat([s]);return new zs(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},e}(Fg),jD=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).type=n,s.zc=r,s.Hc=i,s}return pe(e,t),e.prototype._apply=function(n){return new ri(n.firestore,n.converter,G4(n._query,this.zc,this.Hc))},e}(Fg),VD=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).type=n,s.Jc=r,s.Yc=i,s}return pe(e,t),e.prototype._apply=function(n){var r=mF(n,this.type,this.Jc,this.Yc);return new ri(n.firestore,n.converter,function(i,s){return new zs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n._query,r))},e}(Fg),$D=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).type=n,s.Jc=r,s.Yc=i,s}return pe(e,t),e.prototype._apply=function(n){var r=mF(n,this.type,this.Jc,this.Yc);return new ri(n.firestore,n.converter,function(i,s){return new zs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n._query,r))},e}(Fg);function mF(t,e,n,r){if(n[0]=on(n[0]),n[0]instanceof R0)return function(s,a,c,l,h){if(!l)throw new Y(V.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+c+"().");for(var p=[],g=0,y=kh(s);g<y.length;g++){var w=y[g];if(w.field.isKeyField())p.push(nw(a,l.key));else{var E=l.data.field(w.field);if(Sx(E))throw new Y(V.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){var I=w.field.canonicalString();throw new Y(V.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+I+"' (used as the orderBy) does not exist.")}p.push(E)}}return new N0(p,h)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=al(t.firestore);return function(s,a,c,l,h,p){var g=s.explicitOrderBy;if(h.length>g.length)throw new Y(V.INVALID_ARGUMENT,"Too many arguments provided to "+l+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var y=[],w=0;w<h.length;w++){var E=h[w];if(g[w].field.isKeyField()){if(typeof E!="string")throw new Y(V.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+l+"(), but got a "+typeof E);if(!Nx(s)&&E.indexOf("/")!==-1)throw new Y(V.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+l+"() must be a plain document ID, but '"+E+"' contains a slash.");var I=s.path.child(Ze.fromString(E));if(!ve.isDocumentKey(I))throw new Y(V.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+l+"() must result in a valid document path, but '"+I+"' is not because it contains an odd number of segments.");var k=new ve(I);y.push(nw(a,k))}else{var S=lF(c,l,E);y.push(S)}}return new N0(y,p)}(t._query,t.firestore._databaseId,i,e,n,r)}function HD(t,e,n){if(typeof(n=on(n))=="string"){if(n==="")throw new Y(V.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nx(e)&&n.indexOf("/")!==-1)throw new Y(V.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ze.fromString(n));if(!ve.isDocumentKey(r))throw new Y(V.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return nw(t,new ve(r))}if(n instanceof Dt)return nw(t,n._key);throw new Y(V.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+S1(n)+".")}function zD(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(V.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Y(V.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function yF(t,e,n){if(!n.isEqual(e))throw new Y(V.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aC=function(){function t(){}return t.prototype.convertValue=function(e,n){switch(n===void 0&&(n="none"),Gc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ch(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ge()}},t.prototype.convertObject=function(e,n){var r=this,i={};return nl(e.fields,function(s,a){i[s]=r.convertValue(a,n)}),i},t.prototype.convertGeoPoint=function(e){return new I1(Zt(e.latitude),Zt(e.longitude))},t.prototype.convertArray=function(e,n){var r=this;return(e.values||[]).map(function(i){return r.convertValue(i,n)})},t.prototype.convertServerTimestamp=function(e,n){switch(n){case"previous":var r=j4(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(x0(e));default:return null}},t.prototype.convertTimestamp=function(e){var n=Vs(e);return new _r(n.seconds,n.nanos)},t.prototype.convertDocumentKey=function(e,n){var r=Ze.fromString(e);Ie(pM(r));var i=new dw(r.get(1),r.get(3)),s=new ve(r.popFirst(5));return i.isEqual(n)||tn("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var mZ=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return pe(e,t),e.prototype.convertBytes=function(n){return new Qc(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Dt(this.firestore,null,r)},e}(aC),yZ=function(){function t(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=al(e)}return t.prototype.set=function(e,n,r){this._verifyNotCommitted();var i=Ia(e,this._firestore),s=x1(i.converter,n,r),a=T1(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,qn.none())),this},t.prototype.update=function(e,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this._verifyNotCommitted();var a,c=Ia(e,this._firestore);return a=typeof(n=on(n))=="string"||n instanceof qo?iC(this._dataReader,"WriteBatch.update",c._key,n,r,i):rC(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(a.toMutation(c._key,qn.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var n=Ia(e,this._firestore);return this._mutations=this._mutations.concat(new Lg(n._key,qn.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Y(V.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(t,e){if((t=on(t)).firestore!==e)throw new Y(V.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oc=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return pe(e,t),e.prototype.convertBytes=function(n){return new Qc(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Dt(this.firestore,null,r)},e}(aC);function GD(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=nt(t,Dt);var s=nt(t.firestore,hn),a=al(s);return L0(s,[(typeof(e=on(e))=="string"||e instanceof qo?iC(a,"updateDoc",t._key,e,n,r):rC(a,"updateDoc",t._key,e)).toMutation(t._key,qn.exists(!0))])}function vF(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=on(t);var a={includeMetadataChanges:!1},c=0;typeof i[c]!="object"||jh(i[c])||(a=i[c],c++);var l,h,p,g={includeMetadataChanges:a.includeMetadataChanges};if(jh(i[c])){var y=i[c];i[c]=(e=y.next)===null||e===void 0?void 0:e.bind(y),i[c+1]=(n=y.error)===null||n===void 0?void 0:n.bind(y),i[c+2]=(r=y.complete)===null||r===void 0?void 0:r.bind(y)}if(t instanceof Dt)h=nt(t.firestore,hn),p=Og(t._key.path),l={next:function(I){i[c]&&i[c](xT(h,t,I))},error:i[c+1],complete:i[c+2]};else{var w=nt(t,ri);h=nt(w.firestore,hn),p=w._query;var E=new Oc(h);l={next:function(I){i[c]&&i[c](new Sa(h,E,w,I))},error:i[c+1],complete:i[c+2]},gF(t._query)}return function(I,k,S,T){var x=this,_=new E1(T),R=new qx(k,_,S);return I.asyncQueue.enqueueAndForget(function(){return J(x,void 0,void 0,function(){var F;return Q(this,function(q){switch(q.label){case 0:return F=Hx,[4,Bh(I)];case 1:return[2,F.apply(void 0,[q.sent(),R])]}})})}),function(){_.Wo(),I.asyncQueue.enqueueAndForget(function(){return J(x,void 0,void 0,function(){var F;return Q(this,function(q){switch(q.label){case 0:return F=zx,[4,Bh(I)];case 1:return[2,F.apply(void 0,[q.sent(),R])]}})})})}}(Gn(h),p,g,l)}function L0(t,e){return function(n,r){var i=this,s=new ai;return n.asyncQueue.enqueueAndForget(function(){return J(i,void 0,void 0,function(){var a;return Q(this,function(c){switch(c.label){case 0:return a=DX,[4,ZM(n)];case 1:return[2,a.apply(void 0,[c.sent(),r,s])]}})})}),s.promise}(Gn(t),e)}function xT(t,e,n){var r=n.docs.get(e._key),i=new Oc(t);return new Rs(t,i,e._key,r,new ic(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vZ=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this)._firestore=n,i}return pe(e,t),e.prototype.get=function(n){var r=this,i=Ia(n,this._firestore),s=new Oc(this._firestore);return t.prototype.get.call(this,n).then(function(a){return new Rs(r._firestore,s,i._key,a._document,new ic(!1,!1),i.converter)})},e}(function(){function t(e,n){this._firestore=e,this._transaction=n,this._dataReader=al(e)}return t.prototype.get=function(e){var n=this,r=Ia(e,this._firestore),i=new mZ(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return ge();var a=s[0];if(a.isFoundDocument())return new R0(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new R0(n._firestore,i,r._key,null,r.converter);throw ge()})},t.prototype.set=function(e,n,r){var i=Ia(e,this._firestore),s=x1(i.converter,n,r),a=T1(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this},t.prototype.update=function(e,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,c=Ia(e,this._firestore);return a=typeof(n=on(n))=="string"||n instanceof qo?iC(this._dataReader,"Transaction.update",c._key,n,r,i):rC(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,a),this},t.prototype.delete=function(e){var n=Ia(e,this._firestore);return this._transaction.delete(n._key),this},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(){if(typeof Uint8Array>"u")throw new Y(V.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function KD(){if(typeof atob>"u")throw new Y(V.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var wF=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return KD(),new t(Qc.fromBase64String(e))},t.fromUint8Array=function(e){return qD(),new t(Qc.fromUint8Array(e))},t.prototype.toBase64=function(){return KD(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return qD(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),wZ=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){return function(r,i){BD(r=nt(r,hn));var s=Gn(r),a=r._freezeSettings(),c=new IT;return UD(s,c,new WM(c,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(e._delegate,{forceOwnership:n})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(n){BD(n=nt(n,hn));var r=Gn(n),i=n._freezeSettings(),s=new IT;return UD(r,s,new KX(s,i.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new Y(V.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new ai;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return J(r,void 0,void 0,function(){var s;return Q(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(c){return J(this,void 0,void 0,function(){var l;return Q(this,function(h){switch(h.label){case 0:return Rh.yt()?(l=c+"main",[4,Rh.delete(l)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(Fx(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(e._delegate)},t}(),bF=function(){function t(e,n,r){var i=this;this._delegate=n,this.Xc=r,this.INTERNAL={delete:function(){return i.terminate()}},e instanceof dw||(this.Zc=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){var n=this._delegate._getSettings();e.merge||n.host===e.host||ew("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),function(i,s,a,c){c===void 0&&(c={});var l=(i=nt(i,_0))._getSettings();if(l.host!=="firestore.googleapis.com"&&l.host!==s&&ew("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},l),{host:s+":"+a,ssl:!1})),c.mockUserToken){var h=AW(c.mockUserToken),p=c.mockUserToken.sub||c.mockUserToken.user_id;if(!p)throw new Y(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");i._credentials=new XX(new eF(h,new Tr(p)))}}(this._delegate,e,n,r)},t.prototype.enableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return J(n,void 0,void 0,function(){var r,i;return Q(this,function(s){switch(s.label){case 0:return[4,ND(e)];case 1:return r=s.sent(),[4,kD(e)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!0),function(a){var c=se(a);return c.Or.delete(0),Mg(c)}(i))]}})})})}(Gn(nt(this._delegate,hn)))},t.prototype.disableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return J(n,void 0,void 0,function(){var r,i;return Q(this,function(s){switch(s.label){case 0:return[4,ND(e)];case 1:return r=s.sent(),[4,kD(e)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!1),function(a){return J(this,void 0,void 0,function(){var c;return Q(this,function(l){switch(l.label){case 0:return(c=se(a)).Or.add(0),[4,Xh(c)];case 1:return l.sent(),c.Br.set("Offline"),[2]}})})}(i))]}})})})}(Gn(nt(this._delegate,hn)))},t.prototype.enablePersistence=function(e){var n=!1,r=!1;return e&&tF("synchronizeTabs",n=!!e.synchronizeTabs,"experimentalForceOwningTab",r=!!e.experimentalForceOwningTab),n?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,r)},t.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var n=this,r=new ai;return e.asyncQueue.enqueueAndForget(function(){return J(n,void 0,void 0,function(){var i;return Q(this,function(s){switch(s.label){case 0:return i=MX,[4,ZM(e)];case 1:return[2,i.apply(void 0,[s.sent(),r])]}})})}),r.promise}(Gn(nt(this._delegate,hn)))},t.prototype.onSnapshotsInSync=function(e){return function(n,r){return function(i,s){var a=this,c=new E1(s);return i.asyncQueue.enqueueAndForget(function(){return J(a,void 0,void 0,function(){var l;return Q(this,function(h){switch(h.label){case 0:return l=function(p,g){se(p).Gr.add(g),g.next()},[4,Bh(i)];case 1:return[2,l.apply(void 0,[h.sent(),c])]}})})}),function(){c.Wo(),i.asyncQueue.enqueueAndForget(function(){return J(a,void 0,void 0,function(){var l;return Q(this,function(h){switch(h.label){case 0:return l=function(p,g){se(p).Gr.delete(g)},[4,Bh(i)];case 1:return[2,l.apply(void 0,[h.sent(),c])]}})})})}}(Gn(n=nt(n,hn)),jh(r)?r:{next:r})}(this._delegate,e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Zc)throw new Y(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new mw(this,nF(this._delegate,e))}catch(n){throw ir(n,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new Pc(this,Zy(this._delegate,e))}catch(n){throw ir(n,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new k1(this,function(n,r){if(n=nt(n,_0),eC("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new Y(V.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ri(n,null,function(i){return new zs(Ze.emptyPath(),i)}(r))}(this._delegate,e))}catch(n){throw ir(n,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var n=this;return function(r,i){return function(s,a){var c=this,l=new ai;return s.asyncQueue.enqueueAndForget(function(){return J(c,void 0,void 0,function(){var h;return Q(this,function(p){switch(p.label){case 0:return[4,function(g){return A1(g).then(function(y){return y.datastore})}(s)];case 1:return h=p.sent(),new WX(s.asyncQueue,h,a,l).run(),[2]}})})}),l.promise}(Gn(r),function(s){return i(new vZ(r,s))})}(this._delegate,function(r){return e(new EF(n,r))})},t.prototype.batch=function(){var e=this;return Gn(this._delegate),new AF(new yZ(this._delegate,function(n){return L0(e._delegate,n)}))},t.prototype.loadBundle=function(e){throw new Y(V.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new Y(V.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),C1=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return pe(e,t),e.prototype.convertBytes=function(n){return new wF(new Qc(n))},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return Pc.tu(r,this.firestore,null)},e}(aC);function bZ(t){var e;e=t,uo.setLogLevel(e)}var EF=function(){function t(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new C1(e)}return t.prototype.get=function(e){var n=this,r=oc(e);return this._delegate.get(r).then(function(i){return new M0(n._firestore,new Rs(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},t.prototype.set=function(e,n,r){var i=oc(e);return r?(tC("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},t.prototype.update=function(e,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var c=oc(e);return arguments.length===2?this._delegate.update(c,n):(i=this._delegate).update.apply(i,pt([c,n,r],s)),this},t.prototype.delete=function(e){var n=oc(e);return this._delegate.delete(n),this},t}(),AF=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,n,r){var i=oc(e);return r?(tC("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},t.prototype.update=function(e,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var c=oc(e);return arguments.length===2?this._delegate.update(c,n):(i=this._delegate).update.apply(i,pt([c,n,r],s)),this},t.prototype.delete=function(e){var n=oc(e);return this._delegate.delete(n),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),N1=function(){function t(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}return t.prototype.fromFirestore=function(e,n){var r=new Mp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new F0(this._firestore,r),n??{})},t.prototype.toFirestore=function(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)},t.eu=function(e,n){var r=t.nu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new C1(e),n),i.set(n,s)),s},t}();N1.nu=new WeakMap;var Pc=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new C1(e)}return t.su=function(e,n,r){if(e.length%2!=0)throw new Y(V.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Dt(n._delegate,r,new ve(e)))},t.tu=function(e,n,r){return new t(n,new Dt(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new mw(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new mw(this.firestore,nF(this._delegate,e))}catch(n){throw ir(n,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=on(e))instanceof Dt&&rF(this._delegate,e)},t.prototype.set=function(e,n){n=tC("DocumentReference.set",n);try{return function(r,i,s){r=nt(r,Dt);var a=nt(r.firestore,hn),c=x1(r.converter,i,s);return L0(a,[T1(al(a),"setDoc",r._key,c,r.converter!==null,s).toMutation(r._key,qn.none())])}(this._delegate,e,n)}catch(r){throw ir(r,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?GD(this._delegate,e):GD.apply(void 0,pt([this._delegate,e,n],r))}catch(s){throw ir(s,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return L0(nt((e=this._delegate).firestore,hn),[new Lg(e._key,qn.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=SF(n),s=IF(n,function(a){return new M0(e.firestore,new Rs(e.firestore._delegate,e._userDataWriter,a._key,a._document,a.metadata,e._delegate.converter))});return vF(this._delegate,i,s)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(r){r=nt(r,Dt);var i=nt(r.firestore,hn),s=Gn(i),a=new Oc(i);return function(c,l){var h=this,p=new ai;return c.asyncQueue.enqueueAndForget(function(){return J(h,void 0,void 0,function(){var g;return Q(this,function(y){switch(y.label){case 0:return g=function(w,E,I){return J(this,void 0,void 0,function(){var k,S;return Q(this,function(T){switch(T.label){case 0:return T.trys.push([0,2,,3]),[4,function(x,_){var R=se(x);return R.persistence.runTransaction("read document","readonly",function(F){return R.Mn.mn(F,_)})}(w,E)];case 1:return(S=T.sent()).isFoundDocument()?I.resolve(S):S.isNoDocument()?I.resolve(null):I.reject(new Y(V.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return k=T.sent(),S=td(k,"Failed to get document '"+E+" from cache"),I.reject(S),[3,3];case 3:return[2]}})})},[4,XM(c)];case 1:return[2,g.apply(void 0,[y.sent(),l,p])]}})})}),p.promise}(s,r._key).then(function(c){return new Rs(i,a,r._key,c,new ic(c!==null&&c.hasLocalMutations,!0),r.converter)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(r){r=nt(r,Dt);var i=nt(r.firestore,hn);return OD(Gn(i),r._key,{source:"server"}).then(function(s){return xT(i,r,s)})}(this._delegate):function(r){r=nt(r,Dt);var i=nt(r.firestore,hn);return OD(Gn(i),r._key).then(function(s){return xT(i,r,s)})}(this._delegate)).then(function(r){return new M0(n.firestore,new Rs(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(N1.eu(this.firestore,e)):this._delegate.withConverter(null))},t}();function ir(t,e,n){return t.message=t.message.replace(e,n),t}function SF(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(typeof r=="object"&&!jh(r))return r}return{}}function IF(t,e){var n,r,i;return{next:function(s){i.next&&i.next(e(s))},error:(n=(i=jh(t[0])?t[0]:jh(t[1])?t[1]:typeof t[0]=="function"?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var M0=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Pc(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,n){return this._delegate.get(e,n)},t.prototype.isEqual=function(e){return pF(this._delegate,e._delegate)},t}(),F0=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return pe(e,t),e.prototype.data=function(n){return this._delegate.data(n)},e}(M0),k1=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new C1(e)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,ha(this._delegate,function(i,s,a){var c=s,l=gw("where",i);return new pZ(l,c,a)}(e,n,r)))}catch(i){throw ir(i,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,ha(this._delegate,function(r,i){i===void 0&&(i="asc");var s=i,a=gw("orderBy",r);return new gZ(a,s)}(e,n)))}catch(r){throw ir(r,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,ha(this._delegate,function(n){return MD("limit",n),new jD("limit",n,"F")}(e)))}catch(n){throw ir(n,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,ha(this._delegate,function(n){return MD("limitToLast",n),new jD("limitToLast",n,"L")}(e)))}catch(n){throw ir(n,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ha(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new VD("startAt",r,!0)}).apply(void 0,e)))}catch(r){throw ir(r,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ha(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new VD("startAfter",r,!1)}).apply(void 0,e)))}catch(r){throw ir(r,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ha(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new $D("endBefore",r,!0)}).apply(void 0,e)))}catch(r){throw ir(r,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ha(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new $D("endAt",r,!1)}).apply(void 0,e)))}catch(r){throw ir(r,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return iF(this._delegate,e._delegate)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(r){r=nt(r,ri);var i=nt(r.firestore,hn),s=Gn(i),a=new Oc(i);return function(c,l){var h=this,p=new ai;return c.asyncQueue.enqueueAndForget(function(){return J(h,void 0,void 0,function(){var g;return Q(this,function(y){switch(y.label){case 0:return g=function(w,E,I){return J(this,void 0,void 0,function(){var k,S,T,x,_;return Q(this,function(R){switch(R.label){case 0:return R.trys.push([0,2,,3]),[4,lw(w,E,!0)];case 1:return _=R.sent(),k=new zM(E,_.Bn),S=k._o(_.documents),T=k.applyChanges(S,!1),I.resolve(T.snapshot),[3,3];case 2:return x=R.sent(),_=td(x,"Failed to execute query '"+E+" against cache"),I.reject(_),[3,3];case 3:return[2]}})})},[4,XM(c)];case 1:return[2,g.apply(void 0,[y.sent(),l,p])]}})})}),p.promise}(s,r._query).then(function(c){return new Sa(i,a,r,c)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(r){r=nt(r,ri);var i=nt(r.firestore,hn),s=Gn(i),a=new Oc(i);return PD(s,r._query,{source:"server"}).then(function(c){return new Sa(i,a,r,c)})}(this._delegate):function(r){r=nt(r,ri);var i=nt(r.firestore,hn),s=Gn(i),a=new Oc(i);return gF(r._query),PD(s,r._query).then(function(c){return new Sa(i,a,r,c)})}(this._delegate)).then(function(r){return new CT(n.firestore,new Sa(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=SF(n),s=IF(n,function(a){return new CT(e.firestore,new Sa(e.firestore._delegate,e._userDataWriter,e._delegate,a._snapshot))});return vF(this._delegate,i,s)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(N1.eu(this.firestore,e)):this._delegate.withConverter(null))},t}(),EZ=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new F0(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),CT=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"query",{get:function(){return new k1(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(n){return new F0(e._firestore,n)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var n=this;return this._delegate.docChanges(e).map(function(r){return new EZ(n._firestore,r)})},t.prototype.forEach=function(e,n){var r=this;this._delegate.forEach(function(i){e.call(n,new F0(r._firestore,i))})},t.prototype.isEqual=function(e){return pF(this._delegate,e._delegate)},t}(),mw=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).firestore=n,i._delegate=r,i}return pe(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Pc(this.firestore,n):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){try{return new Pc(this.firestore,n===void 0?Zy(this._delegate):Zy(this._delegate,n))}catch(r){throw ir(r,"doc()","CollectionReference.doc()")}},e.prototype.add=function(n){var r=this;return function(i,s){var a=nt(i.firestore,hn),c=Zy(i),l=x1(i.converter,s);return L0(a,[T1(al(i.firestore),"addDoc",c._key,l,i.converter!==null,{}).toMutation(c._key,qn.exists(!1))]).then(function(){return c})}(this._delegate,n).then(function(i){return new Pc(r.firestore,i)})},e.prototype.isEqual=function(n){return rF(this._delegate,n._delegate)},e.prototype.withConverter=function(n){return new e(this.firestore,n?this._delegate.withConverter(N1.eu(this.firestore,n)):this._delegate.withConverter(null))},e}(k1);function oc(t){return nt(t,Dt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AZ=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._delegate=new(qo.bind.apply(qo,pt([void 0],e)))}return t.documentId=function(){return new t(go.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=on(e))instanceof qo&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),SZ=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new aZ("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new nC("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new uZ("arrayUnion",i)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new cZ("arrayRemove",i)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(r){return new lZ("increment",r)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}(),IZ=function(){function t(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},t}(),TZ={Firestore:bF,GeoPoint:I1,Timestamp:_r,Blob:wF,Transaction:EF,WriteBatch:AF,DocumentReference:Pc,DocumentSnapshot:M0,Query:k1,QueryDocumentSnapshot:F0,QuerySnapshot:CT,CollectionReference:mw,FieldPath:AZ,FieldValue:SZ,setLogLevel:bZ,CACHE_SIZE_UNLIMITED:rZ};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xZ(t){(function(e,n){e.INTERNAL.registerComponent(new IZ("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},TZ)))})(t,function(e,n){return new bF(e,new hn(e,n),new wZ)}),t.registerVersion("@firebase/firestore","2.3.8")}xZ(xe);(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function i(o,u){if(u){var f=r;o=o.split(".");for(var d=0;d<o.length-1;d++){var m=o[d];m in f||(f[m]={}),f=f[m]}o=o[o.length-1],d=f[o],u=u(d),u!=d&&u!=null&&e(f,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(A){this.b=0,this.c=void 0,this.a=[];var C=this.f();try{A(C.resolve,C.reject)}catch($){C.reject($)}}function f(){this.a=null}function d(A){return A instanceof u?A:new u(function(C){C(A)})}if(o)return o;f.prototype.b=function(A){if(this.a==null){this.a=[];var C=this;this.c(function(){C.g()})}this.a.push(A)};var m=r.setTimeout;f.prototype.c=function(A){m(A,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var A=this.a;this.a=[];for(var C=0;C<A.length;++C){var $=A[C];A[C]=null;try{$()}catch(W){this.f(W)}}}this.a=null},f.prototype.f=function(A){this.c(function(){throw A})},u.prototype.f=function(){function A(W){return function(Te){$||($=!0,W.call(C,Te))}}var C=this,$=!1;return{resolve:A(this.m),reject:A(this.g)}},u.prototype.m=function(A){if(A===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(A instanceof u)this.s(A);else{e:switch(typeof A){case"object":var C=A!=null;break e;case"function":C=!0;break e;default:C=!1}C?this.v(A):this.h(A)}},u.prototype.v=function(A){var C=void 0;try{C=A.then}catch($){this.g($);return}typeof C=="function"?this.u(C,A):this.h(A)},u.prototype.g=function(A){this.i(2,A)},u.prototype.h=function(A){this.i(1,A)},u.prototype.i=function(A,C){if(this.b!=0)throw Error("Cannot settle("+A+", "+C+"): Promise already settled in state"+this.b);this.b=A,this.c=C,this.l()},u.prototype.l=function(){if(this.a!=null){for(var A=0;A<this.a.length;++A)v.b(this.a[A]);this.a=null}};var v=new f;return u.prototype.s=function(A){var C=this.f();A.Ra(C.resolve,C.reject)},u.prototype.u=function(A,C){var $=this.f();try{A.call(C,$.resolve,$.reject)}catch(W){$.reject(W)}},u.prototype.then=function(A,C){function $(We,gn){return typeof We=="function"?function(ts){try{W(We(ts))}catch(uA){Te(uA)}}:gn}var W,Te,ot=new u(function(We,gn){W=We,Te=gn});return this.Ra($(A,W),$(C,Te)),ot},u.prototype.catch=function(A){return this.then(void 0,A)},u.prototype.Ra=function(A,C){function $(){switch(W.b){case 1:A(W.c);break;case 2:C(W.c);break;default:throw Error("Unexpected state: "+W.b)}}var W=this;this.a==null?v.b($):this.a.push($)},u.resolve=d,u.reject=function(A){return new u(function(C,$){$(A)})},u.race=function(A){return new u(function(C,$){for(var W=a(A),Te=W.next();!Te.done;Te=W.next())d(Te.value).Ra(C,$)})},u.all=function(A){var C=a(A),$=C.next();return $.done?d([]):new u(function(W,Te){function ot(ts){return function(uA){We[ts]=uA,gn--,gn==0&&W(We)}}var We=[],gn=0;do We.push(void 0),gn++,d($.value).Ra(ot(We.length-1),Te),$=C.next();while(!$.done)})},u});var c=c||{},l=this||self,h=/^[\w+/_-]+[=]{0,2}$/,p=null;function g(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function y(){}function w(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function E(o){var u=w(o);return u=="array"||u=="object"&&typeof o.length=="number"}function I(o){return w(o)=="function"}function k(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function S(o){return Object.prototype.hasOwnProperty.call(o,T)&&o[T]||(o[T]=++x)}var T="closure_uid_"+(1e9*Math.random()>>>0),x=0;function _(o,u,f){return o.call.apply(o.bind,arguments)}function R(o,u,f){if(!o)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,d),o.apply(u,m)}}return function(){return o.apply(u,arguments)}}function F(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?F=_:F=R,F.apply(null,arguments)}function q(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var d=f.slice();return d.push.apply(d,arguments),o.apply(this,d)}}function H(o,u){function f(){}f.prototype=u.prototype,o.bb=u.prototype,o.prototype=new f,o.prototype.constructor=o}function Ae(o){return o}function N(o,u,f){this.code=oe+o,this.message=u||it[o]||"",this.a=f||null}H(N,Error),N.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},N.prototype.toJSON=function(){return this.w()};function tt(o){var u=o&&o.code;return u?new N(u.substring(oe.length),o.message,o.serverResponse):null}var oe="auth/",it={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},ft={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Ke(o){for(var u in ft)if(ft[u].id===o)return o=ft[u],{firebaseEndpoint:o.Ua,secureTokenEndpoint:o.$a,identityPlatformEndpoint:o.Xa};return null}var Ht;Ht=Ke("__EID__")?"__EID__":void 0;function En(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function te(o){if(Error.captureStackTrace)Error.captureStackTrace(this,te);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}H(te,Error),te.prototype.name="CustomError";function we(o,u){o=o.split("%s");for(var f="",d=o.length-1,m=0;m<d;m++)f+=o[m]+(m<u.length?u[m]:"%s");te.call(this,f+o[d])}H(we,te),we.prototype.name="AssertionError";function de(o,u){throw new we("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function ke(o,u){this.c=o,this.f=u,this.b=0,this.a=null}ke.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function bt(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function yo(){this.b=this.a=null}var Fr=new ke(function(){return new gr},function(o){o.reset()});yo.prototype.add=function(o,u){var f=Fr.get();f.set(o,u),this.b?this.b.next=f:this.a=f,this.b=f};function _i(){var o=TC,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function gr(){this.next=this.b=this.a=null}gr.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},gr.prototype.reset=function(){this.next=this.b=this.a=null};var Ct=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},ht=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var d=o.length,m=typeof o=="string"?o.split(""):o,v=0;v<d;v++)v in m&&u.call(f,m[v],v,o)};function cl(o,u){for(var f=typeof o=="string"?o.split(""):o,d=o.length-1;0<=d;--d)d in f&&u.call(void 0,f[d],d,o)}var Ug=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=[],m=0,v=typeof o=="string"?o.split(""):o,A=0;A<f;A++)if(A in v){var C=v[A];u.call(void 0,C,A,o)&&(d[m++]=C)}return d},Au=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=Array(f),m=typeof o=="string"?o.split(""):o,v=0;v<f;v++)v in m&&(d[v]=u.call(void 0,m[v],v,o));return d},M1=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=typeof o=="string"?o.split(""):o,m=0;m<f;m++)if(m in d&&u.call(void 0,d[m],m,o))return!0;return!1};function Bg(o){e:{for(var u=hB,f=o.length,d=typeof o=="string"?o.split(""):o,m=0;m<f;m++)if(m in d&&u.call(void 0,d[m],m,o)){u=m;break e}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function An(o,u){return 0<=Ct(o,u)}function Ri(o,u){u=Ct(o,u);var f;return(f=0<=u)&&Array.prototype.splice.call(o,u,1),f}function Xn(o,u){var f=0;cl(o,function(d,m){u.call(void 0,d,m,o)&&Array.prototype.splice.call(o,m,1).length==1&&f++})}function Li(o){return Array.prototype.concat.apply([],arguments)}function Mi(o){var u=o.length;if(0<u){for(var f=Array(u),d=0;d<u;d++)f[d]=o[d];return f}return[]}var Su=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},rd=/&/g,id=/</g,od=/>/g,sd=/"/g,F1=/'/g,li=/\x00/g,vo=/[\x00&<>"']/;function at(o,u){return o.indexOf(u)!=-1}function ad(o,u){return o<u?-1:o>u?1:0}var wo;e:{var Fi=l.navigator;if(Fi){var Gs=Fi.userAgent;if(Gs){wo=Gs;break e}}wo=""}function Qe(o){return at(wo,o)}function qs(o,u){for(var f in o)u.call(void 0,o[f],f,o)}function Wo(o){for(var u in o)return!1;return!0}function Ur(o){var u={},f;for(f in o)u[f]=o[f];return u}var ud="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Sn(o,u){for(var f,d,m=1;m<arguments.length;m++){d=arguments[m];for(f in d)o[f]=d[f];for(var v=0;v<ud.length;v++)f=ud[v],Object.prototype.hasOwnProperty.call(d,f)&&(o[f]=d[f])}}function cd(o,u){e:{try{var f=o&&o.ownerDocument,d=f&&(f.defaultView||f.parentWindow);if(d=d||l,d.Element&&d.Location){var m=d;break e}}catch{}m=null}if(m&&typeof m[u]<"u"&&(!o||!(o instanceof m[u])&&(o instanceof m.Location||o instanceof m.Element))){if(k(o))try{var v=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{v="<object could not be stringified>"}else v=o===void 0?"undefined":o===null?"null":typeof o;de("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,v)}}function O(o,u){this.a=o===z&&u||"",this.b=U}O.prototype.ta=!0,O.prototype.sa=function(){return this.a},O.prototype.toString=function(){return"Const{"+this.a+"}"};function L(o){return o instanceof O&&o.constructor===O&&o.b===U?o.a:(de("expected object of type Const, got '"+o+"'"),"type_error:Const")}var U={},z={},ne;function ie(){if(ne===void 0){var o=null,u=l.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:Ae,createScript:Ae,createScriptURL:Ae})}catch(f){l.console&&l.console.error(f.message)}ne=o}else ne=o}return ne}function ye(o,u){this.a=u===an?o:""}ye.prototype.ta=!0,ye.prototype.sa=function(){return this.a.toString()},ye.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Le(o){return o instanceof ye&&o.constructor===ye?o.a:(de("expected object of type TrustedResourceUrl, got '"+o+"' of type "+w(o)),"type_error:TrustedResourceUrl")}function De(o,u){var f=L(o);if(!Ve.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return o=f.replace(Me,function(d,m){if(!Object.prototype.hasOwnProperty.call(u,m))throw Error('Found marker, "'+m+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(u));return d=u[m],d instanceof O?L(d):encodeURIComponent(String(d))}),dt(o)}var Me=/%{(\w+)}/g,Ve=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,an={};function dt(o){var u=ie();return o=u?u.createScriptURL(o):o,new ye(o,an)}function $e(o,u){this.a=u===mr?o:""}$e.prototype.ta=!0,$e.prototype.sa=function(){return this.a.toString()},$e.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Et(o){return o instanceof $e&&o.constructor===$e?o.a:(de("expected object of type SafeUrl, got '"+o+"' of type "+w(o)),"type_error:SafeUrl")}var un=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,zt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Jt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ln(o){if(o instanceof $e)return o;if(o=typeof o=="object"&&o.ta?o.sa():String(o),Jt.test(o))o=new $e(o,mr);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(zt);o=u&&un.test(u[1])?new $e(o,mr):null}return o}function Ui(o){return o instanceof $e?o:(o=typeof o=="object"&&o.ta?o.sa():String(o),Jt.test(o)||(o="about:invalid#zClosurez"),new $e(o,mr))}var mr={},ut=new $e("about:invalid#zClosurez",mr);function Nt(o,u,f){this.a=f===Qs?o:""}Nt.prototype.ta=!0,Nt.prototype.sa=function(){return this.a.toString()},Nt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function Ks(o){return o instanceof Nt&&o.constructor===Nt?o.a:(de("expected object of type SafeHtml, got '"+o+"' of type "+w(o)),"type_error:SafeHtml")}var Qs={};function Jo(o,u){cd(o,"HTMLScriptElement"),o.src=Le(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=l?u=g(u.document):(p===null&&(p=g(l.document)),u=p),u&&o.setAttribute("nonce",u)}function Ws(o,u,f,d){return o=o instanceof $e?o:Ui(o),u=u||l,f=f instanceof O?L(f):f||"",u.open(Et(o),f,d,void 0)}function ld(o,u){for(var f=o.split("%s"),d="",m=Array.prototype.slice.call(arguments,1);m.length&&1<f.length;)d+=f.shift()+m.shift();return d+f.join("%s")}function Js(o){return vo.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(rd,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(id,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(od,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(sd,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(F1,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(li,"&#0;"))),o}function U1(o){return U1[" "](o),o}U1[" "]=y;function QF(o,u){var f=XF;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var WF=Qe("Opera"),Bi=Qe("Trident")||Qe("MSIE"),yC=Qe("Edge"),JF=yC||Bi,vC=Qe("Gecko")&&!(at(wo.toLowerCase(),"webkit")&&!Qe("Edge"))&&!(Qe("Trident")||Qe("MSIE"))&&!Qe("Edge"),YF=at(wo.toLowerCase(),"webkit")&&!Qe("Edge");function wC(){var o=l.document;return o?o.documentMode:void 0}var jg;e:{var B1="",j1=function(){var o=wo;if(vC)return/rv:([^\);]+)(\)|;)/.exec(o);if(yC)return/Edge\/([\d\.]+)/.exec(o);if(Bi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(YF)return/WebKit\/(\S+)/.exec(o);if(WF)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(j1&&(B1=j1?j1[1]:""),Bi){var V1=wC();if(V1!=null&&V1>parseFloat(B1)){jg=String(V1);break e}}jg=B1}var XF={};function bC(o){return QF(o,function(){for(var u=0,f=Su(String(jg)).split("."),d=Su(String(o)).split("."),m=Math.max(f.length,d.length),v=0;u==0&&v<m;v++){var A=f[v]||"",C=d[v]||"";do{if(A=/(\d*)(\D*)(.*)/.exec(A)||["","","",""],C=/(\d*)(\D*)(.*)/.exec(C)||["","","",""],A[0].length==0&&C[0].length==0)break;u=ad(A[1].length==0?0:parseInt(A[1],10),C[1].length==0?0:parseInt(C[1],10))||ad(A[2].length==0,C[2].length==0)||ad(A[2],C[2]),A=A[3],C=C[3]}while(u==0)}return 0<=u})}var $1;if(l.document&&Bi){var EC=wC();$1=EC||parseInt(jg,10)||void 0}else $1=void 0;var Ys=$1;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var ZF=!Bi||9<=Number(Ys);function fd(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function AC(o,u){qs(u,function(f,d){f&&typeof f=="object"&&f.ta&&(f=f.sa()),d=="style"?o.style.cssText=f:d=="class"?o.className=f:d=="for"?o.htmlFor=f:SC.hasOwnProperty(d)?o.setAttribute(SC[d],f):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?o.setAttribute(d,f):o[d]=f})}var SC={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function eU(o,u,f){var d=arguments,m=document,v=String(d[0]),A=d[1];if(!ZF&&A&&(A.name||A.type)){if(v=["<",v],A.name&&v.push(' name="',Js(A.name),'"'),A.type){v.push(' type="',Js(A.type),'"');var C={};Sn(C,A),delete C.type,A=C}v.push(">"),v=v.join("")}return v=Vg(m,v),A&&(typeof A=="string"?v.className=A:Array.isArray(A)?v.className=A.join(" "):AC(v,A)),2<d.length&&tU(m,v,d),v}function tU(o,u,f){function d(C){C&&u.appendChild(typeof C=="string"?o.createTextNode(C):C)}for(var m=2;m<f.length;m++){var v=f[m];if(!E(v)||k(v)&&0<v.nodeType)d(v);else{e:{if(v&&typeof v.length=="number"){if(k(v)){var A=typeof v.item=="function"||typeof v.item=="string";break e}if(I(v)){A=typeof v.item=="function";break e}}A=!1}ht(A?Mi(v):v,d)}}}function Vg(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function IC(o){l.setTimeout(function(){throw o},0)}var H1;function nU(){var o=l.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Qe("Presto")&&(o=function(){var m=Vg(document,"IFRAME");m.style.display="none",document.documentElement.appendChild(m);var v=m.contentWindow;m=v.document,m.open(),m.close();var A="callImmediate"+Math.random(),C=v.location.protocol=="file:"?"*":v.location.protocol+"//"+v.location.host;m=F(function($){(C=="*"||$.origin==C)&&$.data==A&&this.port1.onmessage()},this),v.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){v.postMessage(A,C)}}}),typeof o<"u"&&!Qe("Trident")&&!Qe("MSIE")){var u=new o,f={},d=f;return u.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var m=f.Hb;f.Hb=null,m()}},function(m){d.next={Hb:m},d=d.next,u.port2.postMessage(0)}}return function(m){l.setTimeout(m,0)}}function $g(o,u){Hg||rU(),z1||(Hg(),z1=!0),TC.add(o,u)}var Hg;function rU(){if(l.Promise&&l.Promise.resolve){var o=l.Promise.resolve(void 0);Hg=function(){o.then(xC)}}else Hg=function(){var u=xC;!I(l.setImmediate)||l.Window&&l.Window.prototype&&!Qe("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(H1||(H1=nU()),H1(u)):l.setImmediate(u)}}var z1=!1,TC=new yo;function xC(){for(var o;o=_i();){try{o.a.call(o.b)}catch(u){IC(u)}bt(Fr,o)}z1=!1}function Fe(o,u){if(this.a=Iu,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=y)try{var f=this;o.call(u,function(d){Tu(f,hd,d)},function(d){if(!(d instanceof ll))try{throw d instanceof Error?d:Error("Promise rejected.")}catch{}Tu(f,Yo,d)})}catch(d){Tu(this,Yo,d)}}var Iu=0,hd=2,Yo=3;function CC(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}CC.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var NC=new ke(function(){return new CC},function(o){o.reset()});function G1(o,u,f){var d=NC.get();return d.g=o,d.b=u,d.f=f,d}function Ee(o){if(o instanceof Fe)return o;var u=new Fe(y);return Tu(u,hd,o),u}function At(o){return new Fe(function(u,f){f(o)})}function kC(o,u,f){_C(o,u,f,null)||$g(q(u,o))}function iU(o){return new Fe(function(u,f){var d=o.length,m=[];if(d)for(var v=function(W,Te){d--,m[W]=Te,d==0&&u(m)},A=function(W){f(W)},C=0,$;C<o.length;C++)$=o[C],kC($,q(v,C),A);else u(m)})}function OC(o){return new Fe(function(u){var f=o.length,d=[];if(f)for(var m=function(C,$,W){f--,d[C]=$?{Qb:!0,value:W}:{Qb:!1,reason:W},f==0&&u(d)},v=0,A;v<o.length;v++)A=o[v],kC(A,q(m,v,!0),q(m,v,!1));else u(d)})}Fe.prototype.then=function(o,u,f){return DC(this,I(o)?o:null,I(u)?u:null,f)},Fe.prototype.$goog_Thenable=!0,t=Fe.prototype,t.oa=function(o,u){return o=G1(o,o,u),o.c=!0,q1(this,o),this},t.o=function(o,u){return DC(this,null,o,u)},t.cancel=function(o){if(this.a==Iu){var u=new ll(o);$g(function(){PC(this,u)},this)}};function PC(o,u){if(o.a==Iu)if(o.c){var f=o.c;if(f.b){for(var d=0,m=null,v=null,A=f.b;A&&(A.c||(d++,A.a==o&&(m=A),!(m&&1<d)));A=A.next)m||(v=A);m&&(f.a==Iu&&d==1?PC(f,u):(v?(d=v,d.next==f.f&&(f.f=d),d.next=d.next.next):LC(f),MC(f,m,Yo,u)))}o.c=null}else Tu(o,Yo,u)}function q1(o,u){o.b||o.a!=hd&&o.a!=Yo||RC(o),o.f?o.f.next=u:o.b=u,o.f=u}function DC(o,u,f,d){var m=G1(null,null,null);return m.a=new Fe(function(v,A){m.g=u?function(C){try{var $=u.call(d,C);v($)}catch(W){A(W)}}:v,m.b=f?function(C){try{var $=f.call(d,C);$===void 0&&C instanceof ll?A(C):v($)}catch(W){A(W)}}:A}),m.a.c=o,q1(o,m),m.a}t.$c=function(o){this.a=Iu,Tu(this,hd,o)},t.ad=function(o){this.a=Iu,Tu(this,Yo,o)};function Tu(o,u,f){o.a==Iu&&(o===f&&(u=Yo,f=new TypeError("Promise cannot resolve to itself")),o.a=1,_C(f,o.$c,o.ad,o)||(o.i=f,o.a=u,o.c=null,RC(o),u!=Yo||f instanceof ll||sU(o,f)))}function _C(o,u,f,d){if(o instanceof Fe)return q1(o,G1(u||y,f||null,d)),!0;if(En(o))return o.then(u,f,d),!0;if(k(o))try{var m=o.then;if(I(m))return oU(o,m,u,f,d),!0}catch(v){return f.call(d,v),!0}return!1}function oU(o,u,f,d,m){function v($){C||(C=!0,d.call(m,$))}function A($){C||(C=!0,f.call(m,$))}var C=!1;try{u.call(o,A,v)}catch($){v($)}}function RC(o){o.h||(o.h=!0,$g(o.gc,o))}function LC(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}t.gc=function(){for(var o;o=LC(this);)MC(this,o,this.a,this.i);this.h=!1};function MC(o,u,f,d){if(f==Yo&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,FC(u,f,d);else try{u.c?u.g.call(u.f):FC(u,f,d)}catch(m){UC.call(null,m)}bt(NC,u)}function FC(o,u,f){u==hd?o.g.call(o.f,f):o.b&&o.b.call(o.f,f)}function sU(o,u){o.g=!0,$g(function(){o.g&&UC.call(null,u)})}var UC=IC;function ll(o){te.call(this,o)}H(ll,te),ll.prototype.name="cancel";function zg(){this.ya=this.ya,this.pa=this.pa}var aU=0;zg.prototype.ya=!1;function BC(o){!o.ya&&(o.ya=!0,o.Da(),aU!=0)&&S(o)}zg.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var uU=Object.freeze||function(o){return o},jC=!Bi||9<=Number(Ys),cU=Bi&&!bC("9"),lU=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{l.addEventListener("test",y,u),l.removeEventListener("test",y,u)}catch{}return o}();function yr(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}yr.prototype.preventDefault=function(){this.defaultPrevented=!0};function xu(o,u){if(yr.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,d=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if(vC){e:{try{U1(u.nodeName);var m=!0;break e}catch{}m=!1}m||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:fU[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}H(xu,yr);var fU=uU({2:"touch",3:"pen",4:"mouse"});xu.prototype.preventDefault=function(){xu.bb.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,cU)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},xu.prototype.g=function(){return this.a};var dd="closure_listenable_"+(1e6*Math.random()|0),hU=0;function dU(o,u,f,d,m){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!d,this.Wa=m,this.key=++hU,this.wa=this.Qa=!1}function Gg(o){o.wa=!0,o.listener=null,o.proxy=null,o.src=null,o.Wa=null}function qg(o){this.src=o,this.a={},this.b=0}qg.prototype.add=function(o,u,f,d,m){var v=o.toString();o=this.a[v],o||(o=this.a[v]=[],this.b++);var A=Q1(o,u,d,m);return-1<A?(u=o[A],f||(u.Qa=!1)):(u=new dU(u,this.src,v,!!d,m),u.Qa=f,o.push(u)),u};function K1(o,u){var f=u.type;f in o.a&&Ri(o.a[f],u)&&(Gg(u),o.a[f].length==0&&(delete o.a[f],o.b--))}function Q1(o,u,f,d){for(var m=0;m<o.length;++m){var v=o[m];if(!v.wa&&v.listener==u&&v.capture==!!f&&v.Wa==d)return m}return-1}var W1="closure_lm_"+(1e6*Math.random()|0),J1={};function fi(o,u,f,d,m){if(d&&d.once)Y1(o,u,f,d,m);else if(Array.isArray(u))for(var v=0;v<u.length;v++)fi(o,u[v],f,d,m);else f=Z1(f),o&&o[dd]?qC(o,u,f,k(d)?!!d.capture:!!d,m):VC(o,u,f,!1,d,m)}function VC(o,u,f,d,m,v){if(!u)throw Error("Invalid event type");var A=k(m)?!!m.capture:!!m,C=Kg(o);if(C||(o[W1]=C=new qg(o)),f=C.add(u,f,d,A,v),!f.proxy)if(d=pU(),f.proxy=d,d.src=o,d.listener=f,o.addEventListener)lU||(m=A),m===void 0&&(m=!1),o.addEventListener(u.toString(),d,m);else if(o.attachEvent)o.attachEvent(HC(u.toString()),d);else if(o.addListener&&o.removeListener)o.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.")}function pU(){var o=gU,u=jC?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function Y1(o,u,f,d,m){if(Array.isArray(u))for(var v=0;v<u.length;v++)Y1(o,u[v],f,d,m);else f=Z1(f),o&&o[dd]?eb(o,u,f,k(d)?!!d.capture:!!d,m):VC(o,u,f,!0,d,m)}function Br(o,u,f,d,m){if(Array.isArray(u))for(var v=0;v<u.length;v++)Br(o,u[v],f,d,m);else d=k(d)?!!d.capture:!!d,f=Z1(f),o&&o[dd]?(o=o.v,u=String(u).toString(),u in o.a&&(v=o.a[u],f=Q1(v,f,d,m),-1<f&&(Gg(v[f]),Array.prototype.splice.call(v,f,1),v.length==0&&(delete o.a[u],o.b--)))):o&&(o=Kg(o))&&(u=o.a[u.toString()],o=-1,u&&(o=Q1(u,f,d,m)),(f=-1<o?u[o]:null)&&$C(f))}function $C(o){if(typeof o!="number"&&o&&!o.wa){var u=o.src;if(u&&u[dd])K1(u.v,o);else{var f=o.type,d=o.proxy;u.removeEventListener?u.removeEventListener(f,d,o.capture):u.detachEvent?u.detachEvent(HC(f),d):u.addListener&&u.removeListener&&u.removeListener(d),(f=Kg(u))?(K1(f,o),f.b==0&&(f.src=null,u[W1]=null)):Gg(o)}}}function HC(o){return o in J1?J1[o]:J1[o]="on"+o}function zC(o,u,f,d){var m=!0;if((o=Kg(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var v=u[o];v&&v.capture==f&&!v.wa&&(v=GC(v,d),m=m&&v!==!1)}return m}function GC(o,u){var f=o.listener,d=o.Wa||o.src;return o.Qa&&$C(o),f.call(d,u)}function gU(o,u){if(o.wa)return!0;if(!jC){if(!u)e:{u=["window","event"];for(var f=l,d=0;d<u.length;d++)if(f=f[u[d]],f==null){u=null;break e}u=f}if(d=u,u=new xu(d,this),f=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var m=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{m=!0}(m||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],m=u.b;m;m=m.parentNode)d.push(m);for(o=o.type,m=d.length-1;0<=m;m--){u.b=d[m];var v=zC(d[m],o,!0,u);f=f&&v}for(m=0;m<d.length;m++)u.b=d[m],v=zC(d[m],o,!1,u),f=f&&v}return f}return GC(o,new xu(u,this))}function Kg(o){return o=o[W1],o instanceof qg?o:null}var X1="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z1(o){return I(o)?o:(o[X1]||(o[X1]=function(u){return o.handleEvent(u)}),o[X1])}function Zn(){zg.call(this),this.v=new qg(this),this.bc=this,this.hb=null}H(Zn,zg),Zn.prototype[dd]=!0,Zn.prototype.addEventListener=function(o,u,f,d){fi(this,o,u,f,d)},Zn.prototype.removeEventListener=function(o,u,f,d){Br(this,o,u,f,d)},Zn.prototype.dispatchEvent=function(o){var u,f=this.hb;if(f)for(u=[];f;f=f.hb)u.push(f);f=this.bc;var d=o.type||o;if(typeof o=="string")o=new yr(o,f);else if(o instanceof yr)o.target=o.target||f;else{var m=o;o=new yr(d,f),Sn(o,m)}if(m=!0,u)for(var v=u.length-1;0<=v;v--){var A=o.b=u[v];m=Qg(A,d,!0,o)&&m}if(A=o.b=f,m=Qg(A,d,!0,o)&&m,m=Qg(A,d,!1,o)&&m,u)for(v=0;v<u.length;v++)A=o.b=u[v],m=Qg(A,d,!1,o)&&m;return m},Zn.prototype.Da=function(){if(Zn.bb.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var f=o.a[u],d=0;d<f.length;d++)Gg(f[d]);delete o.a[u],o.b--}}this.hb=null};function qC(o,u,f,d,m){o.v.add(String(u),f,!1,d,m)}function eb(o,u,f,d,m){o.v.add(String(u),f,!0,d,m)}function Qg(o,u,f,d){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var m=!0,v=0;v<u.length;++v){var A=u[v];if(A&&!A.wa&&A.capture==f){var C=A.listener,$=A.Wa||A.src;A.Qa&&K1(o.v,A),m=C.call($,d)!==!1&&m}}return m&&!d.defaultPrevented}function tb(o,u,f){if(I(o))f&&(o=F(o,f));else if(o&&typeof o.handleEvent=="function")o=F(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:l.setTimeout(o,u||0)}function fl(o){var u=null;return new Fe(function(f,d){u=tb(function(){f(void 0)},o),u==-1&&d(Error("Failed to schedule timer."))}).o(function(f){throw l.clearTimeout(u),f})}function KC(o){if(o.X&&typeof o.X=="function")return o.X();if(typeof o=="string")return o.split("");if(E(o)){for(var u=[],f=o.length,d=0;d<f;d++)u.push(o[d]);return u}u=[],f=0;for(d in o)u[f++]=o[d];return u}function QC(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.X||typeof o.X!="function"){if(E(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(var d in o)u[f++]=d;return u}}function mU(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(E(o)||typeof o=="string")ht(o,u,void 0);else for(var f=QC(o),d=KC(o),m=d.length,v=0;v<m;v++)u.call(void 0,d[v],f&&f[v],o)}function hl(o,u){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var d=0;d<f;d+=2)this.set(arguments[d],arguments[d+1])}else if(o)if(o instanceof hl)for(f=o.Y(),d=0;d<f.length;d++)this.set(f[d],o.get(f[d]));else for(d in o)this.set(d,o[d])}t=hl.prototype,t.X=function(){nb(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},t.Y=function(){return nb(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function nb(o){if(o.c!=o.a.length){for(var u=0,f=0;u<o.a.length;){var d=o.a[u];Cu(o.b,d)&&(o.a[f++]=d),u++}o.a.length=f}if(o.c!=o.a.length){var m={};for(f=u=0;u<o.a.length;)d=o.a[u],Cu(m,d)||(o.a[f++]=d,m[d]=1),u++;o.a.length=f}}t.get=function(o,u){return Cu(this.b,o)?this.b[o]:u},t.set=function(o,u){Cu(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},t.forEach=function(o,u){for(var f=this.Y(),d=0;d<f.length;d++){var m=f[d],v=this.get(m);o.call(u,v,m,this)}};function Cu(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var WC=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function yU(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var d=o[f].indexOf("="),m=null;if(0<=d){var v=o[f].substring(0,d);m=o[f].substring(d+1)}else v=o[f];u(v,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function Xs(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var f;o instanceof Xs?(this.i=u!==void 0?u:o.i,pd(this,o.c),this.l=o.l,this.a=o.a,gd(this,o.g),this.f=o.f,rb(this,ZC(o.b)),this.h=o.h):o&&(f=String(o).match(WC))?(this.i=!!u,pd(this,f[1]||"",!0),this.l=md(f[2]||""),this.a=md(f[3]||"",!0),gd(this,f[4]),this.f=md(f[5]||"",!0),rb(this,f[6]||"",!0),this.h=md(f[7]||"")):(this.i=!!u,this.b=new Nu(null,this.i))}Xs.prototype.toString=function(){var o=[],u=this.c;u&&o.push(yd(u,JC,!0),":");var f=this.a;return(f||u=="file")&&(o.push("//"),(u=this.l)&&o.push(yd(u,JC,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&o.push(":",String(f))),(f=this.f)&&(this.a&&f.charAt(0)!="/"&&o.push("/"),o.push(yd(f,f.charAt(0)=="/"?bU:wU,!0))),(f=this.b.toString())&&o.push("?",f),(f=this.h)&&o.push("#",yd(f,AU)),o.join("")},Xs.prototype.resolve=function(o){var u=new Xs(this),f=!!o.c;f?pd(u,o.c):f=!!o.l,f?u.l=o.l:f=!!o.a,f?u.a=o.a:f=o.g!=null;var d=o.f;if(f)gd(u,o.g);else if(f=!!o.f){if(d.charAt(0)!="/")if(this.a&&!this.f)d="/"+d;else{var m=u.f.lastIndexOf("/");m!=-1&&(d=u.f.substr(0,m+1)+d)}if(m=d,m==".."||m==".")d="";else if(at(m,"./")||at(m,"/.")){d=m.lastIndexOf("/",0)==0,m=m.split("/");for(var v=[],A=0;A<m.length;){var C=m[A++];C=="."?d&&A==m.length&&v.push(""):C==".."?((1<v.length||v.length==1&&v[0]!="")&&v.pop(),d&&A==m.length&&v.push("")):(v.push(C),d=!0)}d=v.join("/")}else d=m}return f?u.f=d:f=o.b.toString()!=="",f?rb(u,ZC(o.b)):f=!!o.h,f&&(u.h=o.h),u};function pd(o,u,f){o.c=f?md(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function gd(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function rb(o,u,f){u instanceof Nu?(o.b=u,SU(o.b,o.i)):(f||(u=yd(u,EU)),o.b=new Nu(u,o.i))}function Gt(o,u,f){o.b.set(u,f)}function hi(o,u){return o.b.get(u)}function vr(o){return o instanceof Xs?new Xs(o):new Xs(o,void 0)}function Wg(o,u,f,d){var m=new Xs(null,void 0);return o&&pd(m,o),u&&(m.a=u),f&&gd(m,f),d&&(m.f=d),m}function md(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function yd(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,vU),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function vU(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var JC=/[#\/\?@]/g,wU=/[#\?:]/g,bU=/[#\?]/g,EU=/[#\?@]/g,AU=/#/g;function Nu(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function Zs(o){o.a||(o.a=new hl,o.b=0,o.c&&yU(o.c,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function YC(o){var u=QC(o);if(typeof u>"u")throw Error("Keys are undefined");var f=new Nu(null,void 0);o=KC(o);for(var d=0;d<u.length;d++){var m=u[d],v=o[d];Array.isArray(v)?XC(f,m,v):f.add(m,v)}return f}t=Nu.prototype,t.add=function(o,u){Zs(this),this.c=null,o=dl(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.b+=1,this};function bo(o,u){Zs(o),u=dl(o,u),Cu(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,Cu(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&nb(o)))}t.clear=function(){this.a=this.c=null,this.b=0};function ib(o,u){return Zs(o),u=dl(o,u),Cu(o.a.b,u)}t.forEach=function(o,u){Zs(this),this.a.forEach(function(f,d){ht(f,function(m){o.call(u,m,d,this)},this)},this)},t.Y=function(){Zs(this);for(var o=this.a.X(),u=this.a.Y(),f=[],d=0;d<u.length;d++)for(var m=o[d],v=0;v<m.length;v++)f.push(u[d]);return f},t.X=function(o){Zs(this);var u=[];if(typeof o=="string")ib(this,o)&&(u=Li(u,this.a.get(dl(this,o))));else{o=this.a.X();for(var f=0;f<o.length;f++)u=Li(u,o[f])}return u},t.set=function(o,u){return Zs(this),this.c=null,o=dl(this,o),ib(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},t.get=function(o,u){return o?(o=this.X(o),0<o.length?String(o[0]):u):u};function XC(o,u,f){bo(o,u),0<f.length&&(o.c=null,o.a.set(dl(o,u),Mi(f)),o.b+=f.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),f=0;f<u.length;f++){var d=u[f],m=encodeURIComponent(String(d));d=this.X(d);for(var v=0;v<d.length;v++){var A=m;d[v]!==""&&(A+="="+encodeURIComponent(String(d[v]))),o.push(A)}}return this.c=o.join("&")};function ZC(o){var u=new Nu;return u.c=o.c,o.a&&(u.a=new hl(o.a),u.b=o.b),u}function dl(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function SU(o,u){u&&!o.f&&(Zs(o),o.c=null,o.a.forEach(function(f,d){var m=d.toLowerCase();d!=m&&(bo(this,d),XC(this,m,f))},o)),o.f=u}function eN(o){var u=[];return ob(new IU,o,u),u.join("")}function IU(){}function ob(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var d=u;u=d.length,f.push("[");for(var m="",v=0;v<u;v++)f.push(m),ob(o,d[v],f),m=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),m="";for(d in u)Object.prototype.hasOwnProperty.call(u,d)&&(v=u[d],typeof v!="function"&&(f.push(m),nN(d,f),f.push(":"),ob(o,v,f),m=","));f.push("}");return}}switch(typeof u){case"string":nN(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var tN={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},TU=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function nN(o,u){u.push('"',o.replace(TU,function(f){var d=tN[f];return d||(d="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),tN[f]=d),d}),'"')}function sb(){var o=In();return Bi&&!!Ys&&Ys==11||/Edge\/\d+/.test(o)}function vd(){return l.window&&l.window.location.href||self&&self.location&&self.location.href||""}function rN(o,u){u=u||l.window;var f="about:blank";o&&(f=Et(Ln(o)||ut)),u.location.href=f}function iN(o,u){var f=[],d;for(d in o)d in u?typeof o[d]!=typeof u[d]?f.push(d):typeof o[d]=="object"&&o[d]!=null&&u[d]!=null?0<iN(o[d],u[d]).length&&f.push(d):o[d]!==u[d]&&f.push(d):f.push(d);for(d in u)d in o||f.push(d);return f}function xU(){var o=In();return o=pl(o)!=uN?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!Bi||!Ys||9<Ys}function oN(o){return o=(o||In()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function ku(o){o=o||l.window;try{o.close()}catch{}}function sN(o,u,f){var d=Math.floor(1e9*Math.random()).toString();u=u||500,f=f||600;var m=(window.screen.availHeight-f)/2,v=(window.screen.availWidth-u)/2;u={width:u,height:f,top:0<m?m:0,left:0<v?v:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=In().toLowerCase(),d&&(u.target=d,at(f,"crios/")&&(u.target="_blank")),pl(In())==cb&&(o=o||"http://localhost",u.scrollbars=!0),f=o||"",(o=u)||(o={}),d=window,u=f instanceof $e?f:Ln(typeof f.href<"u"?f.href:String(f))||ut,f=o.target||f.target,m=[];for(A in o)switch(A){case"width":case"height":case"top":case"left":m.push(A+"="+o[A]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(A+"="+(o[A]?1:0))}var A=m.join(",");if((Qe("iPhone")&&!Qe("iPod")&&!Qe("iPad")||Qe("iPad")||Qe("iPod"))&&d.navigator&&d.navigator.standalone&&f&&f!="_self"?(A=Vg(document,"A"),cd(A,"HTMLAnchorElement"),u=u instanceof $e?u:Ui(u),A.href=Et(u),A.setAttribute("target",f),o.noreferrer&&A.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,d,1),A.dispatchEvent(o),A={}):o.noreferrer?(A=Ws("",d,f,A),o=Et(u),A&&(JF&&at(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),A.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Js(o)+'">',o=(d=ie())?d.createHTML(o):o,o=new Nt(o,null,Qs),d=A.document)&&(d.write(Ks(o)),d.close())):(A=Ws(u,d,f,A))&&o.noopener&&(A.opener=null),A)try{A.focus()}catch{}return A}function CU(o){return new Fe(function(u){function f(){fl(2e3).then(function(){if(!o||o.closed)u();else return f()})}return f()})}var NU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kU=/^[^@]+@[^@]+$/;function Jg(){var o=null;return new Fe(function(u){l.document.readyState=="complete"?u():(o=function(){u()},Y1(window,"load",o))}).o(function(u){throw Br(window,"load",o),u})}function OU(){return ab(void 0)?Jg().then(function(){return new Fe(function(o,u){var f=l.document,d=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(d),o()},!1)})}):At(Error("Cordova must run in an Android or iOS file scheme."))}function ab(o){return o=o||In(),!(ml()!=="file:"&&ml()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function ub(){var o=l.window;try{return!(!o||o==o.top)}catch{return!1}}function ji(){return typeof l.WorkerGlobalScope<"u"&&typeof l.importScripts=="function"}function Eo(){return xe.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":xe.INTERNAL.hasOwnProperty("node")?"Node":ji()?"Worker":"Browser"}function aN(){var o=Eo();return o==="ReactNative"||o==="Node"}function PU(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var cb="Firefox",uN="Chrome";function pl(o){var u=o.toLowerCase();if(at(u,"opera/")||at(u,"opr/")||at(u,"opios/"))return"Opera";if(at(u,"iemobile"))return"IEMobile";if(at(u,"msie")||at(u,"trident/"))return"IE";if(at(u,"edge/"))return"Edge";if(at(u,"firefox/"))return cb;if(at(u,"silk/"))return"Silk";if(at(u,"blackberry"))return"Blackberry";if(at(u,"webos"))return"Webos";if(!at(u,"safari/")||at(u,"chrome/")||at(u,"crios/")||at(u,"android"))if(!at(u,"chrome/")&&!at(u,"crios/")||at(u,"edge/")){if(at(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return uN;else return"Safari";return"Other"}var cN={md:"FirebaseCore-web",od:"FirebaseUI-web"};function gl(o,u){u=u||[];var f=[],d={},m;for(m in cN)d[cN[m]]=!0;for(m=0;m<u.length;m++)typeof d[u[m]]<"u"&&(delete d[u[m]],f.push(u[m]));return f.sort(),u=f,u.length||(u=["FirebaseCore-web"]),f=Eo(),f==="Browser"?(d=In(),f=pl(d)):f==="Worker"&&(d=In(),f=pl(d)+"-"+f),f+"/JsCore/"+o+"/"+u.join(",")}function In(){return l.navigator&&l.navigator.userAgent||""}function St(o,u){o=o.split("."),u=u||l;for(var f=0;f<o.length&&typeof u=="object"&&u!=null;f++)u=u[o[f]];return f!=o.length&&(u=void 0),u}function lb(){try{var o=l.localStorage,u=Pu();if(o)return o.setItem(u,"1"),o.removeItem(u),sb()?!!l.indexedDB:!0}catch{return ji()&&!!l.indexedDB}return!1}function Ou(){return(Yg()||ml()==="chrome-extension:"||ab())&&!aN()&&lb()&&!ji()}function Yg(){return ml()==="http:"||ml()==="https:"}function ml(){return l.location&&l.location.protocol||null}function wd(o){return o=o||In(),!(oN(o)||pl(o)==cb)}function bd(o){return typeof o>"u"?null:eN(o)}function lN(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&o[f]!==null&&o[f]!==void 0&&(u[f]=o[f]);return u}function yl(o){if(o!==null)return JSON.parse(o)}function Pu(o){return o||Math.floor(1e9*Math.random()).toString()}function fN(o){return o=o||In(),!(pl(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function hN(){var o=l.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var f=0;f<o.CP.length;f++)o.CP[f]=null}}function ea(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=In(),u=Eo(),this.b=oN(o)||u==="ReactNative"}ea.prototype.get=function(){var o=l.navigator;return!(o&&typeof o.onLine=="boolean"&&(Yg()||ml()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function fb(){var o=l.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function DU(){var o=l.document,u=null;return fb()||!o?Ee():new Fe(function(f){u=function(){fb()&&(o.removeEventListener("visibilitychange",u,!1),f())},o.addEventListener("visibilitychange",u,!1)}).o(function(f){throw o.removeEventListener("visibilitychange",u,!1),f})}function Ed(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function dN(){return!(!St("fireauth.oauthhelper",l)&&!St("fireauth.iframe",l))}function _U(){var o=l.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function RU(){var o=l.navigator;return o&&o.serviceWorker?Ee().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):Ee(null)}var pN={};function hb(o){pN[o]||(pN[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var db;try{var pb={};Object.defineProperty(pb,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(pb,"abcd",{configurable:!0,enumerable:!0,value:2}),db=pb.abcd==2}catch{db=!1}function he(o,u,f){db?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}):o[u]=f}function er(o,u){if(u)for(var f in u)u.hasOwnProperty(f)&&he(o,f,u[f])}function Ao(o){var u={};return er(u,o),u}function LU(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&(u[f]=o[f]);return u}function MU(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var f=0;f<u.length;f++){var d=o[u[f]];if(d==null||d==="")return!1}return!0}function gb(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var f in o)he(u,f,gb(o[f]))}return u}function mb(o){var u=o&&(o[bb]?"phone":null);if(u&&o&&o[wb]){he(this,"uid",o[wb]),he(this,"displayName",o[gN]||null);var f=null;o[vb]&&(f=new Date(o[vb]).toUTCString()),he(this,"enrollmentTime",f),he(this,"factorId",u)}else throw new N("internal-error","Internal assert: invalid MultiFactorInfo object")}mb.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function yb(o){try{var u=new Ad(o)}catch{u=null}return u}var gN="displayName",vb="enrolledAt",wb="mfaEnrollmentId",bb="phoneInfo";function Ad(o){mb.call(this,o),he(this,"phoneNumber",o[bb])}H(Ad,mb),Ad.prototype.w=function(){var o=Ad.bb.w.call(this);return o.phoneNumber=this.phoneNumber,o};function FU(o){var u={},f=o[UU],d=o[jU],m=o[VU];if(o=yb(o[BU]),!m||m!=Xg&&m!=Sd&&!f||m==Sd&&!d||m==Eb&&!o)throw Error("Invalid checkActionCode response!");m==Sd?(u[yN]=f||null,u[vN]=f||null,u[mN]=d):(u[yN]=d||null,u[vN]=d||null,u[mN]=f||null),u[$U]=o||null,he(this,zU,m),he(this,HU,gb(u))}var Eb="REVERT_SECOND_FACTOR_ADDITION",Xg="EMAIL_SIGNIN",Sd="VERIFY_AND_CHANGE_EMAIL",UU="email",BU="mfaInfo",jU="newEmail",VU="requestType",mN="email",yN="fromEmail",$U="multiFactorInfo",vN="previousEmail",HU="data",zU="operation";function Ab(o){o=vr(o);var u=hi(o,wN)||null,f=hi(o,bN)||null,d=hi(o,EN)||null;if(d=d&&QU[d]||null,!u||!f||!d)throw new N("argument-error",wN+", "+bN+"and "+EN+" are required in a valid action code URL.");er(this,{apiKey:u,operation:d,code:f,continueUrl:hi(o,GU)||null,languageCode:hi(o,qU)||null,tenantId:hi(o,KU)||null})}var wN="apiKey",bN="oobCode",GU="continueUrl",qU="languageCode",EN="mode",KU="tenantId",QU={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Eb,signIn:Xg,verifyAndChangeEmail:Sd,verifyEmail:"VERIFY_EMAIL"};function AN(o){try{return new Ab(o)}catch{return null}}function Zg(o){var u=o[WU];if(typeof u>"u")throw new N("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new N("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var f=o[SN];if(f&&typeof f=="object"){u=f[NN];var d=f[xN];if(f=f[CN],typeof u=="string"&&u.length){if(this.a=u,typeof d<"u"&&typeof d!="boolean")throw new N("argument-error",xN+" property must be a boolean when specified.");if(this.g=!!d,typeof f<"u"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new N("argument-error",CN+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof u<"u")throw new N("argument-error",NN+" property must be a non empty string when specified.");if(typeof d<"u"||typeof f<"u")throw new N("missing-android-pkg-name")}}else if(typeof f<"u")throw new N("argument-error",SN+" property must be a non null object when specified.");if(this.f=null,(u=o[TN])&&typeof u=="object"){if(u=u[kN],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new N("argument-error",kN+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new N("argument-error",TN+" property must be a non null object when specified.");if(u=o[Sb],typeof u<"u"&&typeof u!="boolean")throw new N("argument-error",Sb+" property must be a boolean when specified.");if(this.c=!!u,o=o[IN],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new N("argument-error",IN+" property must be a non empty string when specified.");this.i=o||null}var SN="android",IN="dynamicLinkDomain",Sb="handleCodeInApp",TN="iOS",WU="url",xN="installApp",CN="minimumVersion",NN="packageName",kN="bundleId";function em(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var f in u)u[f]===null&&delete u[f];return u}function JU(o){return Au(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var Id=null;function YU(o){var u=[];return XU(o,function(f){u.push(f)}),u}function XU(o,u){function f($){for(;d<o.length;){var W=o.charAt(d++),Te=Id[W];if(Te!=null)return Te;if(!/^[\s\xa0]*$/.test(W))throw Error("Unknown base64 encoding at char: "+W)}return $}ZU();for(var d=0;;){var m=f(-1),v=f(0),A=f(64),C=f(64);if(C===64&&m===-1)break;u(m<<2|v>>4),A!=64&&(u(v<<4&240|A>>2),C!=64&&u(A<<6&192|C))}}function ZU(){if(!Id){Id={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var d=o.concat(u[f].split("")),m=0;m<d.length;m++){var v=d[m];Id[v]===void 0&&(Id[v]=m)}}}function tm(o){var u=ON(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}tm.prototype.T=function(){return this.f},tm.prototype.l=function(){return this.c},tm.prototype.toString=function(){return this.h};function nm(o){try{return new tm(o)}catch{return null}}function ON(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,f=0;f<u;f++)o+=".";try{var d=YU(o);for(o=[],f=u=0;u<d.length;){var m=d[u++];if(128>m)o[f++]=String.fromCharCode(m);else if(191<m&&224>m){var v=d[u++];o[f++]=String.fromCharCode((m&31)<<6|v&63)}else if(239<m&&365>m){v=d[u++];var A=d[u++],C=d[u++],$=((m&7)<<18|(v&63)<<12|(A&63)<<6|C&63)-65536;o[f++]=String.fromCharCode(55296+($>>10)),o[f++]=String.fromCharCode(56320+($&1023))}else v=d[u++],A=d[u++],o[f++]=String.fromCharCode((m&15)<<12|(v&63)<<6|A&63)}return JSON.parse(o.join(""))}catch{}return null}var PN="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),rm=["client_id","response_type","scope","redirect_uri","state"],Ib={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:rm},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:rm},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:rm},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:PN},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Tb(o){for(var u in Ib)if(Ib[u].fa==o)return Ib[u];return null}function DN(o){var u={};u["facebook.com"]=RN,u["google.com"]=MN,u["github.com"]=LN,u["twitter.com"]=FN;var f=o&&o[_N];try{if(f)return u[f]?new u[f](o):new So(o);if(typeof o[xb]<"u")return new Cb(o)}catch{}return null}var xb="idToken",_N="providerId";function Cb(o){var u=o[_N];if(!u&&o[xb]){var f=nm(o[xb]);f&&f.b&&(u=f.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),f=!1,typeof o.isNewUser<"u"?f=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),he(this,"providerId",u),he(this,"isNewUser",f)}function So(o){Cb.call(this,o),o=yl(o.rawUserInfo||"{}"),he(this,"profile",gb(o||{}))}H(So,Cb);function RN(o){if(So.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}H(RN,So);function LN(o){if(So.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");he(this,"username",this.profile&&this.profile.login||null)}H(LN,So);function MN(o){if(So.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}H(MN,So);function FN(o){if(So.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");he(this,"username",o.screenName||null)}H(FN,So);function UN(o){var u=vr(o),f=hi(u,"link"),d=hi(vr(f),"link");return u=hi(u,"deep_link_id"),hi(vr(u),"link")||u||d||f||o}function im(o,u){if(!o&&!u)throw new N("internal-error","Internal assert: no raw session string available");if(o&&u)throw new N("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?Td:om}var Td="enroll",om="signin";im.prototype.Ha=function(){return this.a?Ee(this.a):Ee(this.b)},im.prototype.w=function(){return this.type==Td?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function vl(){}vl.prototype.ka=function(){},vl.prototype.b=function(){},vl.prototype.c=function(){},vl.prototype.w=function(){};function wl(o,u){return o.then(function(f){if(f[Hi]){var d=nm(f[Hi]);if(!d||u!=d.i)throw new N("user-mismatch");return f}throw new N("user-mismatch")}).o(function(f){throw f&&f.code&&f.code==oe+"user-not-found"?new N("user-mismatch"):f})}function Du(o,u){if(u)this.a=u;else throw new N("internal-error","failed to construct a credential");he(this,"providerId",o),he(this,"signInMethod",o)}Du.prototype.ka=function(o){return Yb(o,Nb(this))},Du.prototype.b=function(o,u){var f=Nb(this);return f.idToken=u,Xb(o,f)},Du.prototype.c=function(o,u){return wl(Zb(o,Nb(this)),u)};function Nb(o){return{pendingToken:o.a,requestUri:"http://localhost"}}Du.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function eB(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new Du(o.providerId,o.pendingToken)}catch{}return null}function Xo(o,u,f){if(this.a=null,u.idToken||u.accessToken)u.idToken&&he(this,"idToken",u.idToken),u.accessToken&&he(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&he(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)he(this,"accessToken",u.oauthToken),he(this,"secret",u.oauthTokenSecret);else throw new N("internal-error","failed to construct a credential");he(this,"providerId",o),he(this,"signInMethod",f)}Xo.prototype.ka=function(o){return Yb(o,kb(this))},Xo.prototype.b=function(o,u){var f=kb(this);return f.idToken=u,Xb(o,f)},Xo.prototype.c=function(o,u){var f=kb(this);return wl(Zb(o,f),u)};function kb(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:YC(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}Xo.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function tB(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new Xo(o.providerId,u,o.signInMethod)}catch{}}return null}function _u(o,u){this.Qc=u||[],er(this,{providerId:o,isOAuthProvider:!0}),this.Jb={},this.qb=(Tb(o)||{}).Ja||null,this.pb=null}_u.prototype.Ka=function(o){return this.Jb=Ur(o),this};function BN(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new N("argument-error",'SAML provider IDs must be prefixed with "saml."');_u.call(this,o,[])}H(BN,_u);function jr(o){_u.call(this,o,rm),this.a=[]}H(jr,_u),jr.prototype.Ca=function(o){return An(this.a,o)||this.a.push(o),this},jr.prototype.Rb=function(){return Mi(this.a)},jr.prototype.credential=function(o,u){var f;if(k(o)?f={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:f={idToken:o||null,accessToken:u||null},!f.idToken&&!f.accessToken)throw new N("argument-error","credential failed: must provide the ID token and/or the access token.");return new Xo(this.providerId,f,this.providerId)};function Ru(){jr.call(this,"facebook.com")}H(Ru,jr),he(Ru,"PROVIDER_ID","facebook.com"),he(Ru,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function jN(o){if(!o)throw new N("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return k(o)&&(u=o.accessToken),new Ru().credential({accessToken:u})}function Lu(){jr.call(this,"github.com")}H(Lu,jr),he(Lu,"PROVIDER_ID","github.com"),he(Lu,"GITHUB_SIGN_IN_METHOD","github.com");function VN(o){if(!o)throw new N("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return k(o)&&(u=o.accessToken),new Lu().credential({accessToken:u})}function Mu(){jr.call(this,"google.com"),this.Ca("profile")}H(Mu,jr),he(Mu,"PROVIDER_ID","google.com"),he(Mu,"GOOGLE_SIGN_IN_METHOD","google.com");function $N(o,u){var f=o;return k(o)&&(f=o.idToken,u=o.accessToken),new Mu().credential({idToken:f,accessToken:u})}function bl(){_u.call(this,"twitter.com",PN)}H(bl,_u),he(bl,"PROVIDER_ID","twitter.com"),he(bl,"TWITTER_SIGN_IN_METHOD","twitter.com");function HN(o,u){var f=o;if(k(f)||(f={oauthToken:o,oauthTokenSecret:u}),!f.oauthToken||!f.oauthTokenSecret)throw new N("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Xo("twitter.com",f,"twitter.com")}function ta(o,u,f){this.a=o,this.f=u,he(this,"providerId","password"),he(this,"signInMethod",f===di.EMAIL_LINK_SIGN_IN_METHOD?di.EMAIL_LINK_SIGN_IN_METHOD:di.EMAIL_PASSWORD_SIGN_IN_METHOD)}ta.prototype.ka=function(o){return this.signInMethod==di.EMAIL_LINK_SIGN_IN_METHOD?Ue(o,BB,{email:this.a,oobCode:this.f}):Ue(o,yk,{email:this.a,password:this.f})},ta.prototype.b=function(o,u){return this.signInMethod==di.EMAIL_LINK_SIGN_IN_METHOD?Ue(o,jB,{idToken:u,email:this.a,oobCode:this.f}):Ue(o,mk,{idToken:u,email:this.a,password:this.f})},ta.prototype.c=function(o,u){return wl(this.ka(o),u)},ta.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function nB(o){return o&&o.email&&o.password?new ta(o.email,o.password,o.signInMethod):null}function di(){er(this,{providerId:"password",isOAuthProvider:!1})}function zN(o,u){if(u=Ob(u),!u)throw new N("argument-error","Invalid email link!");return new ta(o,u.code,di.EMAIL_LINK_SIGN_IN_METHOD)}function Ob(o){return o=UN(o),(o=AN(o))&&o.operation===Xg?o:null}er(di,{PROVIDER_ID:"password"}),er(di,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),er(di,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function na(o){if(!(o.fb&&o.eb||o.La&&o.ea))throw new N("internal-error");this.a=o,he(this,"providerId","phone"),this.fa="phone",he(this,"signInMethod","phone")}na.prototype.ka=function(o){return o.gb(xd(this))},na.prototype.b=function(o,u){var f=xd(this);return f.idToken=u,Ue(o,s9,f)},na.prototype.c=function(o,u){var f=xd(this);return f.operation="REAUTH",o=Ue(o,a9,f),wl(o,u)},na.prototype.w=function(){var o={providerId:"phone"};return this.a.fb&&(o.verificationId=this.a.fb),this.a.eb&&(o.verificationCode=this.a.eb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function rB(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return ht(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){o[f]&&(u[f]=o[f])}),new na(u)}return null}function xd(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.fb,code:o.a.eb}}function Zo(o){try{this.a=o||xe.auth()}catch{throw new N("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}er(this,{providerId:"phone",isOAuthProvider:!1})}Zo.prototype.gb=function(o,u){var f=this.a.a;return Ee(u.verify()).then(function(d){if(typeof d!="string")throw new N("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var m=k(o)?o.session:null,v=k(o)?o.phoneNumber:o,A;return m&&m.type==Td?A=m.Ha().then(function(C){return OB(f,{idToken:C,phoneEnrollmentInfo:{phoneNumber:v,recaptchaToken:d}})}):m&&m.type==om?A=m.Ha().then(function(C){return PB(f,{mfaPendingCredential:C,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:d}})}):A=kB(f,{phoneNumber:v,recaptchaToken:d}),A.then(function(C){return typeof u.reset=="function"&&u.reset(),C},function(C){throw typeof u.reset=="function"&&u.reset(),C});default:throw new N("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function GN(o,u){if(!o)throw new N("missing-verification-id");if(!u)throw new N("missing-verification-code");return new na({fb:o,eb:u})}er(Zo,{PROVIDER_ID:"phone"}),er(Zo,{PHONE_SIGN_IN_METHOD:"phone"});function Pb(o){if(o.temporaryProof&&o.phoneNumber)return new na({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var f=o&&o.oauthAccessToken,d=o&&o.oauthTokenSecret,m=o&&o.nonce,v=o&&o.oauthIdToken,A=o&&o.pendingToken;try{switch(u){case"google.com":return $N(v,f);case"facebook.com":return jN(f);case"github.com":return VN(f);case"twitter.com":return HN(f,d);default:return f||d||v||A?A?u.indexOf("saml.")==0?new Du(u,A):new Xo(u,{pendingToken:A,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new jr(u).credential({idToken:v,accessToken:f,rawNonce:m}):null}}catch{return null}}function Db(o){if(!o.isOAuthProvider)throw new N("invalid-oauth-provider")}function Vi(o,u,f,d,m,v,A){if(this.c=o,this.b=u||null,this.g=f||null,this.f=d||null,this.i=v||null,this.h=A||null,this.a=m||null,this.g||this.a){if(this.g&&this.a)throw new N("invalid-auth-event");if(this.g&&!this.f)throw new N("invalid-auth-event")}else throw new N("invalid-auth-event")}Vi.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},Vi.prototype.T=function(){return this.h},Vi.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function qN(o){return o=o||{},o.type?new Vi(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&tt(o.error),o.postBody,o.tenantId):null}function iB(){this.b=null,this.a=[]}var _b=null;function oB(o){var u=_b;u.a.push(o),u.b||(u.b=function(f){for(var d=0;d<u.a.length;d++)u.a[d](f)},o=St("universalLinks.subscribe",l),typeof o=="function"&&o(null,u.b))}function Rb(o){var u="unauthorized-domain",f=void 0,d=vr(o);o=d.a,d=d.c,d=="chrome-extension"?f=ld("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):d=="http"||d=="https"?f=ld("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",N.call(this,u,f)}H(Rb,N);function Cd(o,u,f){N.call(this,o,f),o=u||{},o.Kb&&he(this,"email",o.Kb),o.ea&&he(this,"phoneNumber",o.ea),o.credential&&he(this,"credential",o.credential),o.$b&&he(this,"tenantId",o.$b)}H(Cd,N),Cd.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&Sn(o,u),o},Cd.prototype.toJSON=function(){return this.w()};function sm(o){if(o.code){var u=o.code||"";u.indexOf(oe)==0&&(u=u.substring(oe.length));var f={credential:Pb(o),$b:o.tenantId};if(o.email)f.Kb=o.email;else if(o.phoneNumber)f.ea=o.phoneNumber;else if(!f.credential)return new N(u,o.message||void 0);return new Cd(u,f,o.message)}return null}function Nd(){}Nd.prototype.c=null;function KN(o){return o.c||(o.c=o.b())}var Lb;function am(){}H(am,Nd),am.prototype.a=function(){var o=QN(this);return o?new ActiveXObject(o):new XMLHttpRequest},am.prototype.b=function(){var o={};return QN(this)&&(o[0]=!0,o[1]=!0),o};function QN(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<u.length;f++){var d=u[f];try{return new ActiveXObject(d),o.f=d}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}Lb=new am;function um(){}H(um,Nd),um.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new WN;throw Error("Unsupported browser")},um.prototype.b=function(){return{}};function WN(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=F(this.qc,this),this.a.onerror=F(this.Tb,this),this.a.onprogress=F(this.rc,this),this.a.ontimeout=F(this.vc,this)}t=WN.prototype,t.open=function(o,u,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(o,u)},t.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Mb(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",Mb(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,Mb(this,1)};function Mb(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Fb(o,u,f){this.reset(o,u,f,void 0,void 0)}Fb.prototype.a=null,Fb.prototype.reset=function(o,u,f,d,m){delete this.a};function Ub(o){this.f=o,this.b=this.c=this.a=null}function kd(o,u){this.name=o,this.value=u}kd.prototype.toString=function(){return this.name};var JN=new kd("SEVERE",1e3),Bb=new kd("WARNING",900),sB=new kd("CONFIG",700),aB=new kd("FINE",500);function YN(o){return o.c?o.c:o.a?YN(o.a):(de("Root logger has no level set."),null)}Ub.prototype.log=function(o,u,f){if(o.value>=YN(this).value)for(I(u)&&(u=u()),o=new Fb(o,String(u),this.f),f&&(o.a=f),f=this;f;)f=f.a};var jb={},cm=null;function Vb(o){cm||(cm=new Ub(""),jb[""]=cm,cm.c=sB);var u;if(!(u=jb[o])){u=new Ub(o);var f=o.lastIndexOf("."),d=o.substr(f+1);f=Vb(o.substr(0,f)),f.b||(f.b={}),f.b[d]=u,u.a=f,jb[o]=u}return u}function pi(o,u){o&&o.log(aB,u,void 0)}function lm(o){this.f=o}H(lm,Nd),lm.prototype.a=function(){return new fm(this.f)},lm.prototype.b=function(o){return function(){return o}}({});function fm(o){Zn.call(this),this.u=o,this.h=void 0,this.readyState=$b,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Vb("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}H(fm,Zn);var $b=0;t=fm.prototype,t.open=function(o,u){if(this.readyState!=$b)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,Pd(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Od(this)),this.readyState=$b},t.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,Pd(this)),this.a&&(this.readyState=3,Pd(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof l.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,XN(this)):o.text().then(this.tc.bind(this),this.Va.bind(this)))))};function XN(o){o.c.read().then(o.pc.bind(o)).catch(o.Va.bind(o))}t.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?Od(this):Pd(this),this.readyState==3&&XN(this)}},t.tc=function(o){this.a&&(this.response=this.responseText=o,Od(this))},t.sc=function(o){this.a&&(this.response=o,Od(this))},t.Va=function(o){var u=this.i;u&&u.log(Bb,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&Od(this)};function Od(o){o.readyState=4,o.g=null,o.c=null,o.m=null,Pd(o)}t.setRequestHeader=function(o,u){this.l.append(o,u)},t.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(Bb,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(Bb,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function Pd(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(fm.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function Dd(o){Zn.call(this),this.headers=new hl,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ZN,this.u=this.S=!1}H(Dd,Zn);var ZN="";Dd.prototype.b=Vb("goog.net.XhrIo");var uB=/^https?$/i,cB=["POST","PUT"];function lB(o,u,f,d,m){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);f=f?f.toUpperCase():"GET",o.l=u,o.h="",o.P=f,o.J=!1,o.c=!0,o.a=o.D?o.D.a():Lb.a(),o.C=o.D?KN(o.D):KN(Lb),o.a.onreadystatechange=F(o.Wb,o);try{pi(o.b,es(o,"Opening Xhr")),o.N=!0,o.a.open(f,String(u),!0),o.N=!1}catch(A){pi(o.b,es(o,"Error opening Xhr: "+A.message)),ek(o,A);return}u=d||"";var v=new hl(o.headers);m&&mU(m,function(A,C){v.set(C,A)}),m=Bg(v.Y()),d=l.FormData&&u instanceof l.FormData,!An(cB,f)||m||d||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),v.forEach(function(A,C){this.a.setRequestHeader(C,A)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{rk(o),0<o.g&&(o.u=fB(o.a),pi(o.b,es(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=F(o.Ma,o)):o.s=tb(o.Ma,o.g,o)),pi(o.b,es(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(A){pi(o.b,es(o,"Send error: "+A.message)),ek(o,A)}}function fB(o){return Bi&&bC(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function hB(o){return o.toLowerCase()=="content-type"}t=Dd.prototype,t.Ma=function(){typeof c<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",pi(this.b,es(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function ek(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,tk(o),hm(o)}function tk(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(pi(this.b,es(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),hm(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),hm(this,!0)),Dd.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?nk(this):this.Jc())},t.Jc=function(){nk(this)};function nk(o){if(o.c&&typeof c<"u"){if(o.C[1]&&_d(o)==4&&dm(o)==2)pi(o.b,es(o,"Local request error detected and ignored"));else if(o.i&&_d(o)==4)tb(o.Wb,0,o);else if(o.dispatchEvent("readystatechange"),_d(o)==4){pi(o.b,es(o,"Request complete")),o.c=!1;try{var u=dm(o);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var d;if(!(d=f)){var m;if(m=u===0){var v=String(o.l).match(WC)[1]||null;if(!v&&l.self&&l.self.location){var A=l.self.location.protocol;v=A.substr(0,A.length-1)}m=!uB.test(v?v.toLowerCase():"")}d=m}if(d)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var C=2<_d(o)?o.a.statusText:""}catch($){pi(o.b,"Can not get status: "+$.message),C=""}o.h=C+" ["+dm(o)+"]",tk(o)}}finally{hm(o)}}}}function hm(o,u){if(o.a){rk(o);var f=o.a,d=o.C[0]?y:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{f.onreadystatechange=d}catch(m){(o=o.b)&&o.log(JN,"Problem encountered resetting onreadystatechange: "+m.message,void 0)}}}function rk(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(l.clearTimeout(o.s),o.s=null)}function _d(o){return o.a?o.a.readyState:0}function dm(o){try{return 2<_d(o)?o.a.status:-1}catch{return-1}}function dB(o){try{return o.a?o.a.responseText:""}catch(u){return pi(o.b,"Can not get responseText: "+u.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ZN:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(JN,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return pi(this.b,"Can not get response: "+u.message),null}};function es(o,u){return u+" ["+o.P+" "+o.l+" "+dm(o)+"]"}function Fu(o){var u=mB;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Fu.prototype.cancel=function(o){if(this.a)this.c instanceof Fu&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new Ld,pm(this),Rd(this,!1,o))}},Fu.prototype.m=function(o,u){this.i=!1,Rd(this,o,u)};function Rd(o,u,f){o.a=!0,o.c=f,o.f=!u,ok(o)}function pm(o){if(o.a){if(!o.v)throw new gm;o.v=!1}}function pB(o,u){Hb(o,null,u,void 0)}function Hb(o,u,f,d){o.g.push([u,f,d]),o.a&&ok(o)}Fu.prototype.then=function(o,u,f){var d,m,v=new Fe(function(A,C){d=A,m=C});return Hb(this,d,function(A){A instanceof Ld?v.cancel():m(A)}),v.then(o,u,f)},Fu.prototype.$goog_Thenable=!0;function ik(o){return M1(o.g,function(u){return I(u[1])})}function ok(o){if(o.h&&o.a&&ik(o)){var u=o.h,f=mm[u];f&&(l.clearTimeout(f.a),delete mm[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var d=f=!1;o.g.length&&!o.i;){var m=o.g.shift(),v=m[0],A=m[1];if(m=m[2],v=o.f?A:v)try{var C=v.call(m||o.s,u);C!==void 0&&(o.f=o.f&&(C==u||C instanceof Error),o.c=u=C),(En(u)||typeof l.Promise=="function"&&u instanceof l.Promise)&&(d=!0,o.i=!0)}catch($){u=$,o.f=!0,ik(o)||(f=!0)}}o.c=u,d&&(C=F(o.m,o,!0),d=F(o.m,o,!1),u instanceof Fu?(Hb(u,C,d),u.C=!0):u.then(C,d)),f&&(u=new sk(u),mm[u.a]=u,o.h=u.a)}function gm(){te.call(this)}H(gm,te),gm.prototype.message="Deferred has already fired",gm.prototype.name="AlreadyCalledError";function Ld(){te.call(this)}H(Ld,te),Ld.prototype.message="Deferred was canceled",Ld.prototype.name="CanceledError";function sk(o){this.a=l.setTimeout(F(this.c,this),0),this.b=o}sk.prototype.c=function(){throw delete mm[this.a],this.b};var mm={};function zb(o){var u={},f=u.document||document,d=Le(o).toString(),m=Vg(document,"SCRIPT"),v={Xb:m,Ma:void 0},A=new Fu(v),C=null,$=u.timeout!=null?u.timeout:5e3;return 0<$&&(C=window.setTimeout(function(){ym(m,!0);var W=new Gb(vB,"Timeout reached for loading script "+d);pm(A),Rd(A,!1,W)},$),v.Ma=C),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(ym(m,u.xd||!1,C),pm(A),Rd(A,!0,null))},m.onerror=function(){ym(m,!0,C);var W=new Gb(yB,"Error while loading script "+d);pm(A),Rd(A,!1,W)},v=u.attributes||{},Sn(v,{type:"text/javascript",charset:"UTF-8"}),AC(m,v),Jo(m,o),gB(f).appendChild(m),A}function gB(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function mB(){if(this&&this.Xb){var o=this.Xb;o&&o.tagName=="SCRIPT"&&ym(o,!0,this.Ma)}}function ym(o,u,f){f!=null&&l.clearTimeout(f),o.onload=y,o.onerror=y,o.onreadystatechange=y,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var yB=0,vB=1;function Gb(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),te.call(this,f),this.code=o}H(Gb,te);function vm(o){this.f=o}H(vm,Nd),vm.prototype.a=function(){return new this.f},vm.prototype.b=function(){return{}};function $i(o,u,f){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||wB,this.g=Ur(o.secureTokenHeaders||bB),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||EB,this.a=Ur(o.firebaseHeaders||AB),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=Eo()=="Node",f=l.XMLHttpRequest||f&&xe.INTERNAL.node&&xe.INTERNAL.node.XMLHttpRequest,!f&&!ji())throw new N("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,ji()?this.f=new lm(self):aN()?this.f=new vm(f):this.f=new um,this.b=null}var qb,Hi="idToken",wB=new ea(3e4,6e4),bB={"Content-Type":"application/x-www-form-urlencoded"},EB=new ea(3e4,6e4),AB={"Content-Type":"application/json"};function ak(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function wm(o,u){u&&(o.l=Kb("https://securetoken.googleapis.com/v1/token",u),o.h=Kb("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=Kb("https://identitytoolkit.googleapis.com/v2/",u))}function Kb(o,u){return o=vr(o),u=vr(u.url),o.f=o.a+o.f,pd(o,u.c),o.a=u.a,gd(o,u.g),o.toString()}function uk(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}$i.prototype.T=function(){return this.b};function ck(o,u,f,d,m,v,A){xU()||ji()?o=F(o.u,o):(qb||(qb=new Fe(function(C,$){IB(C,$)})),o=F(o.s,o)),o(u,f,d,m,v,A)}$i.prototype.u=function(o,u,f,d,m,v){if(ji()&&(typeof l.fetch>"u"||typeof l.Headers>"u"||typeof l.Request>"u"))throw new N("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var A=new Dd(this.f);if(v){A.g=Math.max(0,v);var C=setTimeout(function(){A.dispatchEvent("timeout")},v)}qC(A,"complete",function(){C&&clearTimeout(C);var $=null;try{$=JSON.parse(dB(this))||null}catch{$=null}u&&u($)}),eb(A,"ready",function(){C&&clearTimeout(C),BC(this)}),eb(A,"timeout",function(){C&&clearTimeout(C),BC(this),u&&u(null)}),lB(A,o,f,d,m)};var SB=new O(z,"https://apis.google.com/js/client.js?onload=%{onload}"),lk="__fcb"+Math.floor(1e6*Math.random()).toString();function IB(o,u){if(((window.gapi||{}).client||{}).request)o();else{l[lk]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var f=De(SB,{onload:lk});pB(zb(f),function(){u(Error("CORS_UNSUPPORTED"))})}}$i.prototype.s=function(o,u,f,d,m){var v=this;qb.then(function(){window.gapi.client.setApiKey(v.c);var A=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:f,body:d,headers:m,authType:"none",callback:function(C){window.gapi.auth.setToken(A),u&&u(C)}})}).o(function(A){u&&u({error:{message:A&&A.message||"CORS_UNSUPPORTED"}})})};function TB(o,u){return new Fe(function(f,d){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?ck(o,o.l+"?key="+encodeURIComponent(o.c),function(m){m?m.error?d(tE(m)):m.access_token&&m.refresh_token?f(m):d(new N("internal-error")):d(new N("network-request-failed"))},"POST",YC(u).toString(),o.g,o.m.get()):d(new N("internal-error"))})}function fk(o,u,f,d,m,v,A){var C=vr(u+f);Gt(C,"key",o.c),A&&Gt(C,"cb",Date.now().toString());var $=d=="GET";if($)for(var W in m)m.hasOwnProperty(W)&&Gt(C,W,m[W]);return new Fe(function(Te,ot){ck(o,C.toString(),function(We){We?We.error?ot(tE(We,v||{})):Te(We):ot(new N("network-request-failed"))},d,$?void 0:eN(lN(m)),o.a,o.v.get())})}function Uu(o){if(o=o.email,typeof o!="string"||!kU.test(o))throw new N("invalid-email")}function hk(o){"email"in o&&Uu(o)}function xB(o,u){return Ue(o,MB,{identifier:u,continueUri:Yg()?vd():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function CB(o){return Ue(o,QB,{}).then(function(u){return u.authorizedDomains||[]})}function wr(o){if(!o[Hi])throw o.mfaPendingCredential?new N("multi-factor-auth-required",null,Ur(o)):new N("internal-error")}function Qb(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new N("internal-error")}else{if(!o.sessionInfo)throw new N("missing-verification-id");if(!o.code)throw new N("missing-verification-code")}}$i.prototype.Ab=function(){return Ue(this,XB,{})},$i.prototype.Cb=function(o,u){return Ue(this,gk,{idToken:o,email:u})},$i.prototype.Db=function(o,u){return Ue(this,mk,{idToken:o,password:u})};var NB={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=$i.prototype,t.Eb=function(o,u){var f={idToken:o},d=[];return qs(NB,function(m,v){var A=u[v];A===null?d.push(m):v in u&&(f[v]=A)}),d.length&&(f.deleteAttribute=d),Ue(this,gk,f)},t.wb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},Sn(o,u),Ue(this,KB,o)},t.xb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},Sn(o,u),Ue(this,zB,o)},t.vb=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},Sn(o,u),Ue(this,GB,o)},t.Fb=function(o,u,f){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},Sn(o,f),Ue(this,qB,o)};function kB(o,u){return Ue(o,YB,u)}t.gb=function(o){return Ue(this,o9,o)};function OB(o,u){return Ue(o,ZB,u).then(function(f){return f.phoneSessionInfo.sessionInfo})}function dk(o){if(!o.phoneVerificationInfo)throw new N("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new N("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new N("missing-verification-code")}function PB(o,u){return Ue(o,e9,u).then(function(f){return f.phoneResponseInfo.sessionInfo})}function DB(o,u,f){return Ue(o,UB,{idToken:u,deleteProvider:f})}function Wb(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new N("internal-error")}function Jb(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new Nu(o.postBody),ib(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function pk(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=sm(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=sm(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=sm(o)):o.errorMessage&&(u=vk(o.errorMessage)),u)throw u;wr(o)}function Yb(o,u){return u.returnIdpCredential=!0,Ue(o,t9,u)}function Xb(o,u){return u.returnIdpCredential=!0,Ue(o,r9,u)}function Zb(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,Ue(o,n9,u)}function eE(o){if(!o.oobCode)throw new N("invalid-action-code")}t.ob=function(o,u){return Ue(this,JB,{oobCode:o,newPassword:u})},t.Sa=function(o){return Ue(this,RB,{oobCode:o})},t.kb=function(o){return Ue(this,_B,{oobCode:o})};var _B={endpoint:"setAccountInfo",A:eE,Z:"email",B:!0},RB={endpoint:"resetPassword",A:eE,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new N("internal-error")},B:!0},LB={endpoint:"signupNewUser",A:function(o){if(Uu(o),!o.password)throw new N("weak-password")},G:wr,V:!0,B:!0},MB={endpoint:"createAuthUri",B:!0},FB={endpoint:"deleteAccount",O:["idToken"]},UB={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new N("internal-error")}},BB={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Uu,G:wr,V:!0,B:!0},jB={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Uu,G:wr,V:!0},VB={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:dk,G:wr,B:!0,Na:!0},$B={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:dk,G:wr,B:!0,Na:!0},HB={endpoint:"getAccountInfo"},zB={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new N("internal-error");Uu(o)},Z:"email",B:!0},GB={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new N("internal-error")},Z:"email",B:!0},qB={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new N("internal-error")},Z:"email",B:!0},KB={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new N("internal-error");Uu(o)},Z:"email",B:!0},QB={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},WB={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new N("internal-error")}},JB={endpoint:"resetPassword",A:eE,Z:"email",B:!0},YB={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},gk={endpoint:"setAccountInfo",O:["idToken"],A:hk,V:!0},mk={endpoint:"setAccountInfo",O:["idToken"],A:function(o){if(hk(o),!o.password)throw new N("weak-password")},G:wr,V:!0},XB={endpoint:"signupNewUser",G:wr,V:!0,B:!0},ZB={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new N("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new N("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new N("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new N("internal-error")},B:!0,Na:!0},e9={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new N("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new N("internal-error")},B:!0,Na:!0},t9={endpoint:"verifyAssertion",A:Wb,Za:Jb,G:pk,V:!0,B:!0},n9={endpoint:"verifyAssertion",A:Wb,Za:Jb,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new N("user-not-found");if(o.errorMessage)throw vk(o.errorMessage);wr(o)},V:!0,B:!0},r9={endpoint:"verifyAssertion",A:function(o){if(Wb(o),!o.idToken)throw new N("internal-error")},Za:Jb,G:pk,V:!0},i9={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new N("invalid-custom-token")},G:wr,V:!0,B:!0},yk={endpoint:"verifyPassword",A:function(o){if(Uu(o),!o.password)throw new N("wrong-password")},G:wr,V:!0,B:!0},o9={endpoint:"verifyPhoneNumber",A:Qb,G:wr,B:!0},s9={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new N("internal-error");Qb(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",sm(o);wr(o)}},a9={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Qb,G:wr,B:!0},u9={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[Hi]^!!o.refreshToken)throw new N("internal-error")},B:!0,Na:!0};function Ue(o,u,f){if(!MU(f,u.O))return At(new N("internal-error"));var d=!!u.Na,m=u.Vb||"POST",v;return Ee(f).then(u.A).then(function(){return u.V&&(f.returnSecureToken=!0),u.B&&o.b&&typeof f.tenantId>"u"&&(f.tenantId=o.b),d?fk(o,o.i,u.endpoint,m,f,u.Ib,u.mb||!1):fk(o,o.h,u.endpoint,m,f,u.Ib,u.mb||!1)}).then(function(A){return v=A,u.Za?u.Za(f,v):v}).then(u.G).then(function(){if(!u.Z)return v;if(!(u.Z in v))throw new N("internal-error");return v[u.Z]})}function vk(o){return tE({error:{errors:[{message:o}],code:400,message:o}})}function tE(o,u){var f=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=d[f]?new N(d[f]):null)return f;f=o.error&&o.error.message||"",d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Sn(d,u||{}),u=(u=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var m in d)if(f.indexOf(m)===0)return new N(d[m],u);return!u&&o&&(u=bd(o)),new N("internal-error",u)}function c9(o){this.b=o,this.a=null,this.sb=l9(this)}function l9(o){return m9().then(function(){return new Fe(function(u,f){St("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:St("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(d){function m(){clearTimeout(v),u()}o.a=d,o.a.restyle({setHideOnLeave:!1});var v=setTimeout(function(){f(Error("Network Error"))},g9.get());d.ping(m).then(m,function(){f(Error("Network Error"))})})})})}function f9(o,u){return o.sb.then(function(){return new Fe(function(f){o.a.send(u.type,u,f,St("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function h9(o,u){o.sb.then(function(){o.a.register("authEvent",u,St("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var d9=new O(z,"https://apis.google.com/js/api.js?onload=%{onload}"),p9=new ea(3e4,6e4),g9=new ea(5e3,15e3),bm=null;function m9(){return bm||(bm=new Fe(function(o,u){function f(){hN(),St("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){hN(),u(Error("Network Error"))},timeout:p9.get()})}if(St("gapi.iframes.Iframe"))o();else if(St("gapi.load"))f();else{var d="__iframefcb"+Math.floor(1e6*Math.random()).toString();l[d]=function(){St("gapi.load")?f():u(Error("Network Error"))},d=De(d9,{onload:d}),Ee(zb(d)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw bm=null,o}))}function wk(o,u,f,d){this.l=o,this.h=u,this.i=f,this.g=d,this.f=null,this.g?(o=vr(this.g.url),o=Wg(o.c,o.a,o.g,"/emulator/auth/iframe")):o=Wg("https",this.l,null,"/__/auth/iframe"),this.a=o,Gt(this.a,"apiKey",this.h),Gt(this.a,"appName",this.i),this.b=null,this.c=[]}wk.prototype.toString=function(){return this.f?Gt(this.a,"v",this.f):bo(this.a.b,"v"),this.b?Gt(this.a,"eid",this.b):bo(this.a.b,"eid"),this.c.length?Gt(this.a,"fw",this.c.join(",")):bo(this.a.b,"fw"),this.a.toString()};function nE(o,u,f,d,m,v){this.u=o,this.s=u,this.c=f,this.m=d,this.v=v,this.i=this.g=this.l=null,this.a=m,this.h=this.f=null}nE.prototype.zb=function(o){return this.h=o,this},nE.prototype.toString=function(){if(this.v){var o=vr(this.v.url);o=Wg(o.c,o.a,o.g,"/emulator/auth/handler")}else o=Wg("https",this.u,null,"/__/auth/handler");if(Gt(o,"apiKey",this.s),Gt(o,"appName",this.c),Gt(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var f=xe.app(this.c).auth().la()}catch{f=null}u.pb=f,Gt(o,"providerId",this.a.providerId),f=this.a,u=lN(f.Jb);for(var d in u)u[d]=u[d].toString();d=f.Qc,u=Ur(u);for(var m=0;m<d.length;m++){var v=d[m];v in u&&delete u[v]}f.qb&&f.pb&&!u[f.qb]&&(u[f.qb]=f.pb),Wo(u)||Gt(o,"customParameters",bd(u))}if(typeof this.a.Rb=="function"&&(f=this.a.Rb(),f.length&&Gt(o,"scopes",f.join(","))),this.l?Gt(o,"redirectUrl",this.l):bo(o.b,"redirectUrl"),this.g?Gt(o,"eventId",this.g):bo(o.b,"eventId"),this.i?Gt(o,"v",this.i):bo(o.b,"v"),this.b)for(var A in this.b)this.b.hasOwnProperty(A)&&!hi(o,A)&&Gt(o,A,this.b[A]);return this.h?Gt(o,"tid",this.h):bo(o.b,"tid"),this.f?Gt(o,"eid",this.f):bo(o.b,"eid"),A=rE(this.c),A.length&&Gt(o,"fw",A.join(",")),o.toString()};function rE(o){try{return xe.app(o).auth().Ga()}catch{return[]}}function bk(o,u,f,d,m,v){this.s=o,this.g=u,this.b=f,this.f=v,this.c=d||null,this.i=m||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Ek(o){var u=vd();return CB(o).then(function(f){e:{var d=vr(u),m=d.c;d=d.a;for(var v=0;v<f.length;v++){var A=f[v],C=d,$=m;if(A.indexOf("chrome-extension://")==0?C=vr(A).a==C&&$=="chrome-extension":$!="http"&&$!="https"?C=!1:NU.test(A)?C=C==A:(A=A.split(".").join("\\."),C=new RegExp("^(.+\\."+A+"|"+A+")$","i").test(C)),C){f=!0;break e}}f=!1}if(!f)throw new Rb(vd())})}function Ak(o){return o.m||(o.m=Jg().then(function(){if(!o.u){var u=o.c,f=o.i,d=rE(o.b),m=new wk(o.s,o.g,o.b,o.f);m.f=u,m.b=f,m.c=Mi(d||[]),o.u=m.toString()}o.v=new c9(o.u),y9(o)})),o.m}t=bk.prototype,t.Pb=function(o,u,f){var d=new N("popup-closed-by-user"),m=new N("web-storage-unsupported"),v=this,A=!1;return this.ma().then(function(){v9(v).then(function(C){C||(o&&ku(o),u(m),A=!0)})}).o(function(){}).then(function(){if(!A)return CU(o)}).then(function(){if(!A)return fl(f).then(function(){u(d)})})},t.Yb=function(){var o=In();return!wd(o)&&!fN(o)},t.Ub=function(){return!1},t.Nb=function(o,u,f,d,m,v,A,C){if(!o)return At(new N("popup-blocked"));if(A&&!wd())return this.ma().o(function(W){ku(o),m(W)}),d(),Ee();this.a||(this.a=Ek(Sk(this)));var $=this;return this.a.then(function(){var W=$.ma().o(function(Te){throw ku(o),m(Te),Te});return d(),W}).then(function(){if(Db(f),!A){var W=Md($.s,$.g,$.b,u,f,null,v,$.c,void 0,$.i,C,$.f);rN(W,o)}}).o(function(W){throw W.code=="auth/network-request-failed"&&($.a=null),W})};function Sk(o){return o.l||(o.C=o.c?gl(o.c,rE(o.b)):null,o.l=new $i(o.g,Ke(o.i),o.C),o.f&&wm(o.l,o.f)),o.l}t.Ob=function(o,u,f,d){this.a||(this.a=Ek(Sk(this)));var m=this;return this.a.then(function(){Db(u);var v=Md(m.s,m.g,m.b,o,u,vd(),f,m.c,void 0,m.i,d,m.f);rN(v)}).o(function(v){throw v.code=="auth/network-request-failed"&&(m.a=null),v})},t.ma=function(){var o=this;return Ak(this).then(function(){return o.v.sb}).o(function(){throw o.a=null,new N("network-request-failed")})},t.ac=function(){return!0};function Md(o,u,f,d,m,v,A,C,$,W,Te,ot){return o=new nE(o,u,f,d,m,ot),o.l=v,o.g=A,o.i=C,o.b=Ur($||null),o.f=W,o.zb(Te).toString()}function y9(o){if(!o.v)throw Error("IfcHandler must be initialized!");h9(o.v,function(u){var f={};if(u&&u.authEvent){var d=!1;for(u=qN(u.authEvent),f=0;f<o.h.length;f++)d=o.h[f](u)||d;return f={},f.status=d?"ACK":"ERROR",Ee(f)}return f.status="ERROR",Ee(f)})}function v9(o){var u={type:"webStorageSupport"};return Ak(o).then(function(){return f9(o.v,u)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport<"u")return f[0].webStorageSupport;throw Error()})}t.Ea=function(o){this.h.push(o)},t.Ta=function(o){Xn(this.h,function(u){return u==o})};function Ik(o){if(this.a=o||xe.INTERNAL.reactNative&&xe.INTERNAL.reactNative.AsyncStorage,!this.a)throw new N("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=Ik.prototype,t.get=function(o){return Ee(this.a.getItem(o)).then(function(u){return u&&yl(u)})},t.set=function(o,u){return Ee(this.a.setItem(o,bd(u)))},t.U=function(o){return Ee(this.a.removeItem(o))},t.ca=function(){},t.ia=function(){};function Tk(o){this.b=o,this.a={},this.f=F(this.c,this)}var xk=[];function w9(){var o=ji()?self:null;if(ht(xk,function(f){f.b==o&&(u=f)}),!u){var u=new Tk(o);xk.push(u)}return u}Tk.prototype.c=function(o){var u=o.data.eventType,f=o.data.eventId,d=this.a[u];if(d&&0<d.length){o.ports[0].postMessage({status:"ack",eventId:f,eventType:u,response:null});var m=[];ht(d,function(v){m.push(Ee().then(function(){return v(o.origin,o.data.data)}))}),OC(m).then(function(v){var A=[];ht(v,function(C){A.push({fulfilled:C.Qb,value:C.value,reason:C.reason?C.reason.message:void 0})}),ht(A,function(C){for(var $ in C)typeof C[$]>"u"&&delete C[$]}),o.ports[0].postMessage({status:"done",eventId:f,eventType:u,response:A})})}};function Ck(o,u,f){Wo(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]>"u"&&(o.a[u]=[]),o.a[u].push(f)}function Nk(o){this.a=o}Nk.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function kk(o){this.c=o,this.b=!1,this.a=[]}function Ok(o,u,f,d){var m,v=f||{},A,C,$,W=null;if(o.b)return At(Error("connection_unavailable"));var Te=d?800:50,ot=typeof MessageChannel<"u"?new MessageChannel:null;return new Fe(function(We,gn){ot?(m=Math.floor(Math.random()*Math.pow(10,20)).toString(),ot.port1.start(),C=setTimeout(function(){gn(Error("unsupported_event"))},Te),A=function(ts){ts.data.eventId===m&&(ts.data.status==="ack"?(clearTimeout(C),$=setTimeout(function(){gn(Error("timeout"))},3e3)):ts.data.status==="done"?(clearTimeout($),typeof ts.data.response<"u"?We(ts.data.response):gn(Error("unknown_error"))):(clearTimeout(C),clearTimeout($),gn(Error("invalid_response"))))},W={messageChannel:ot,onMessage:A},o.a.push(W),ot.port1.addEventListener("message",A),o.c.postMessage({eventType:u,eventId:m,data:v},[ot.port2])):gn(Error("connection_unavailable"))}).then(function(We){return iE(o,W),We}).o(function(We){throw iE(o,W),We})}function iE(o,u){if(u){var f=u.messageChannel,d=u.onMessage;f&&(f.port1.removeEventListener("message",d),f.port1.close()),Xn(o.a,function(m){return m==u})}}kk.prototype.close=function(){for(;0<this.a.length;)iE(this,this.a[0]);this.b=!0};function Pk(){if(!aE())throw new N("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=l.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;ji()&&self?(this.v=w9(),Ck(this.v,"keyChanged",function(u,f){return Rk(o).then(function(d){return 0<d.length&&ht(o.a,function(m){m(d)}),{keyProcessed:An(d,f.key)}})}),Ck(this.v,"ping",function(){return Ee(["keyChanged"])})):RU().then(function(u){(o.h=u)&&(o.g=new kk(new Nk(u)),Ok(o.g,"ping",null,!0).then(function(f){f[0].fulfilled&&An(f[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var oE;function b9(o){return new Fe(function(u,f){var d=o.m.deleteDatabase("firebaseLocalStorageDb");d.onsuccess=function(){u()},d.onerror=function(m){f(Error(m.target.error))}})}function Dk(o){return new Fe(function(u,f){var d=o.m.open("firebaseLocalStorageDb",1);d.onerror=function(m){try{m.preventDefault()}catch{}f(Error(m.target.error))},d.onupgradeneeded=function(m){m=m.target.result;try{m.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(v){f(v)}},d.onsuccess=function(m){m=m.target.result,m.objectStoreNames.contains("firebaseLocalStorage")?u(m):b9(o).then(function(){return Dk(o)}).then(function(v){u(v)}).o(function(v){f(v)})}})}function sE(o){return o.i||(o.i=Dk(o)),o.i}function Em(o,u){function f(m,v){sE(o).then(u).then(m).o(function(A){if(3<++d)v(A);else return sE(o).then(function(C){return C.close(),o.i=void 0,f(m,v)}).o(function(C){v(C)})})}var d=0;return new Fe(f)}function aE(){try{return!!l.indexedDB}catch{return!1}}function Fd(o){return o.objectStore("firebaseLocalStorage")}function Ud(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function El(o){return new Fe(function(u,f){o.onsuccess=function(d){d&&d.target?u(d.target.result):u()},o.onerror=function(d){f(d.target.error)}})}t=Pk.prototype,t.set=function(o,u){var f=this,d=!1;return Em(this,function(m){return m=Fd(Ud(m,!0)),El(m.get(o))}).then(function(m){return Em(f,function(v){if(v=Fd(Ud(v,!0)),m)return m.value=u,El(v.put(m));f.b++,d=!0;var A={};return A.fbase_key=o,A.value=u,El(v.add(A))})}).then(function(){return f.c[o]=u,_k(f,o)}).oa(function(){d&&f.b--})};function _k(o,u){return o.g&&o.h&&_U()===o.h?Ok(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):Ee()}t.get=function(o){return Em(this,function(u){return El(Fd(Ud(u,!1)).get(o))}).then(function(u){return u&&u.value})},t.U=function(o){var u=this,f=!1;return Em(this,function(d){return f=!0,u.b++,El(Fd(Ud(d,!0)).delete(o))}).then(function(){return delete u.c[o],_k(u,o)}).oa(function(){f&&u.b--})};function Rk(o){return sE(o).then(function(u){var f=Fd(Ud(u,!1));return f.getAll?El(f.getAll()):new Fe(function(d,m){var v=[],A=f.openCursor();A.onsuccess=function(C){(C=C.target.result)?(v.push(C.value),C.continue()):d(v)},A.onerror=function(C){m(C.target.error)}})}).then(function(u){var f={},d=[];if(o.b==0){for(d=0;d<u.length;d++)f[u[d].fbase_key]=u[d].value;d=iN(o.c,f),o.c=f}return d})}t.ca=function(o){this.a.length==0&&E9(this),this.a.push(o)},t.ia=function(o){Xn(this.a,function(u){return u==o}),this.a.length==0&&Lk(this)};function E9(o){function u(){o.f=setTimeout(function(){o.l=Rk(o).then(function(f){0<f.length&&ht(o.a,function(d){d(f)})}).then(function(){u()}).o(function(f){f.message!="STOP_EVENT"&&u()})},800)}Lk(o),u()}function Lk(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function Mk(o){var u=this,f=null;this.a=[],this.type="indexedDB",this.c=o,this.b=Ee().then(function(){if(aE()){var d=Pu(),m="__sak"+d;return oE||(oE=new Pk),f=oE,f.set(m,d).then(function(){return f.get(m)}).then(function(v){if(v!==d)throw Error("indexedDB not supported!");return f.U(m)}).then(function(){return f}).o(function(){return u.c})}return u.c}).then(function(d){return u.type=d.type,d.ca(function(m){ht(u.a,function(v){v(m)})}),d})}t=Mk.prototype,t.get=function(o){return this.b.then(function(u){return u.get(o)})},t.set=function(o,u){return this.b.then(function(f){return f.set(o,u)})},t.U=function(o){return this.b.then(function(u){return u.U(o)})},t.ca=function(o){this.a.push(o)},t.ia=function(o){Xn(this.a,function(u){return u==o})};function Bd(){this.a={},this.type="inMemory"}t=Bd.prototype,t.get=function(o){return Ee(this.a[o])},t.set=function(o,u){return this.a[o]=u,Ee()},t.U=function(o){return delete this.a[o],Ee()},t.ca=function(){},t.ia=function(){};function Am(){if(!A9())throw Eo()=="Node"?new N("internal-error","The LocalStorage compatibility library was not found."):new N("web-storage-unsupported");this.a=Fk()||xe.INTERNAL.node.localStorage,this.type="localStorage"}function Fk(){try{var o=l.localStorage,u=Pu();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function A9(){var o=Eo()=="Node";if(o=Fk()||o&&xe.INTERNAL.node&&xe.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}t=Am.prototype,t.get=function(o){var u=this;return Ee().then(function(){var f=u.a.getItem(o);return yl(f)})},t.set=function(o,u){var f=this;return Ee().then(function(){var d=bd(u);d===null?f.U(o):f.a.setItem(o,d)})},t.U=function(o){var u=this;return Ee().then(function(){u.a.removeItem(o)})},t.ca=function(o){l.window&&fi(l.window,"storage",o)},t.ia=function(o){l.window&&Br(l.window,"storage",o)};function uE(){this.type="nullStorage"}t=uE.prototype,t.get=function(){return Ee(null)},t.set=function(){return Ee()},t.U=function(){return Ee()},t.ca=function(){},t.ia=function(){};function cE(){if(!S9())throw Eo()=="Node"?new N("internal-error","The SessionStorage compatibility library was not found."):new N("web-storage-unsupported");this.a=Uk()||xe.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Uk(){try{var o=l.sessionStorage,u=Pu();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function S9(){var o=Eo()=="Node";if(o=Uk()||o&&xe.INTERNAL.node&&xe.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}t=cE.prototype,t.get=function(o){var u=this;return Ee().then(function(){var f=u.a.getItem(o);return yl(f)})},t.set=function(o,u){var f=this;return Ee().then(function(){var d=bd(u);d===null?f.U(o):f.a.setItem(o,d)})},t.U=function(o){var u=this;return Ee().then(function(){u.a.removeItem(o)})},t.ca=function(){},t.ia=function(){};function I9(){var o={};o.Browser=T9,o.Node=x9,o.ReactNative=C9,o.Worker=N9,this.a=o[Eo()]}var lE,T9={F:Am,cb:cE},x9={F:Am,cb:cE},C9={F:Ik,cb:uE},N9={F:Am,cb:uE},Al={rd:"local",NONE:"none",td:"session"};function k9(o){var u=new N("invalid-persistence-type"),f=new N("unsupported-persistence-type");e:{for(d in Al)if(Al[d]==o){var d=!0;break e}d=!1}if(!d||typeof o!="string")throw u;switch(Eo()){case"ReactNative":if(o==="session")throw f;break;case"Node":if(o!=="none")throw f;break;case"Worker":if(o==="session"||!aE()&&o!=="none")throw f;break;default:if(!lb()&&o!=="none")throw f}}function Bk(){var o=!!(!fN(In())&&ub()),u=wd(),f=lb();this.m=o,this.h=u,this.l=f,this.a={},lE||(lE=new I9),o=lE;try{this.g=!sb()&&dN()||!l.indexedDB?new o.a.F:new Mk(ji()?new Bd:new o.a.F)}catch{this.g=new Bd,this.h=!0}try{this.i=new o.a.cb}catch{this.i=new Bd}this.v=new Bd,this.f=F(this.Zb,this),this.b={}}var fE;function jd(){return fE||(fE=new Bk),fE}function Bu(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function Sl(o,u){return"firebase:"+o.name+(u?":"+u:"")}function O9(o,u,f){var d=Sl(u,f),m=Bu(o,u.F);return o.get(u,f).then(function(v){var A=null;try{A=yl(l.localStorage.getItem(d))}catch{}if(A&&!v)return l.localStorage.removeItem(d),o.set(u,A,f);A&&v&&m.type!="localStorage"&&l.localStorage.removeItem(d)})}t=Bk.prototype,t.get=function(o,u){return Bu(this,o.F).get(Sl(o,u))};function Il(o,u,f){return f=Sl(u,f),u.F=="local"&&(o.b[f]=null),Bu(o,u.F).U(f)}t.set=function(o,u,f){var d=Sl(o,f),m=this,v=Bu(this,o.F);return v.set(d,u).then(function(){return v.get(d)}).then(function(A){o.F=="local"&&(m.b[d]=A)})},t.addListener=function(o,u,f){o=Sl(o,u),this.l&&(this.b[o]=l.localStorage.getItem(o)),Wo(this.a)&&(Bu(this,"local").ca(this.f),this.h||(sb()||!dN())&&l.indexedDB||!this.l||P9(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(f)},t.removeListener=function(o,u,f){o=Sl(o,u),this.a[o]&&(Xn(this.a[o],function(d){return d==f}),this.a[o].length==0&&delete this.a[o]),Wo(this.a)&&(Bu(this,"local").ia(this.f),hE(this))};function P9(o){hE(o),o.c=setInterval(function(){for(var u in o.a){var f=l.localStorage.getItem(u),d=o.b[u];f!=d&&(o.b[u]=f,f=new xu({type:"storage",key:u,target:window,oldValue:d,newValue:f,a:!0}),o.Zb(f))}},1e3)}function hE(o){o.c&&(clearInterval(o.c),o.c=null)}t.Zb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var f in this.a){var d=this.b[f];typeof d>"u"&&(d=null);var m=l.localStorage.getItem(f);m!==d&&(this.b[f]=m,this.nb(f))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a<"u"?Bu(this,"local").ia(this.f):hE(this),this.m){if(f=l.localStorage.getItem(u),d=o.a.newValue,d!==f)d!==null?l.localStorage.setItem(u,d):l.localStorage.removeItem(u);else if(this.b[u]===d&&typeof o.a.a>"u")return}var v=this;f=function(){(typeof o.a.a<"u"||v.b[u]!==l.localStorage.getItem(u))&&(v.b[u]=l.localStorage.getItem(u),v.nb(u))},Bi&&Ys&&Ys==10&&l.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(f,10):f()}}else ht(o,F(this.nb,this))},t.nb=function(o){this.a[o]&&ht(this.a[o],function(u){u()})};function D9(o){this.a=o,this.b=jd()}var dE={name:"authEvent",F:"local"};function _9(o){return o.b.get(dE,o.a).then(function(u){return qN(u)})}function R9(){this.a=jd()}function L9(){this.b=-1}function Sm(o,u){this.b=jk,this.f=l.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=l.Int32Array?new Int32Array(64):Array(64),Im===void 0&&(l.Int32Array?Im=new Int32Array(Hk):Im=Hk),this.reset()}var Im;H(Sm,L9);for(var jk=64,M9=jk-1,Vk=[],pE=0;pE<M9;pE++)Vk[pE]=0;var $k=Li(128,Vk);Sm.prototype.reset=function(){this.g=this.c=0,this.a=l.Int32Array?new Int32Array(this.h):Mi(this.h)};function gE(o){for(var u=o.f,f=o.l,d=0,m=0;m<u.length;)f[d++]=u[m]<<24|u[m+1]<<16|u[m+2]<<8|u[m+3],m=4*d;for(u=16;64>u;u++){m=f[u-15]|0,d=f[u-2]|0;var v=(f[u-16]|0)+((m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3)|0,A=(f[u-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;f[u]=v+A|0}d=o.a[0]|0,m=o.a[1]|0;var C=o.a[2]|0,$=o.a[3]|0,W=o.a[4]|0,Te=o.a[5]|0,ot=o.a[6]|0;for(v=o.a[7]|0,u=0;64>u;u++){var We=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&m^d&C^m&C)|0;A=W&Te^~W&ot,v=v+((W>>>6|W<<26)^(W>>>11|W<<21)^(W>>>25|W<<7))|0,A=A+(Im[u]|0)|0,A=v+(A+(f[u]|0)|0)|0,v=ot,ot=Te,Te=W,W=$+A|0,$=C,C=m,m=d,d=A+We|0}o.a[0]=o.a[0]+d|0,o.a[1]=o.a[1]+m|0,o.a[2]=o.a[2]+C|0,o.a[3]=o.a[3]+$|0,o.a[4]=o.a[4]+W|0,o.a[5]=o.a[5]+Te|0,o.a[6]=o.a[6]+ot|0,o.a[7]=o.a[7]+v|0}function mE(o,u,f){f===void 0&&(f=u.length);var d=0,m=o.c;if(typeof u=="string")for(;d<f;)o.f[m++]=u.charCodeAt(d++),m==o.b&&(gE(o),m=0);else if(E(u))for(;d<f;){var v=u[d++];if(!(typeof v=="number"&&0<=v&&255>=v&&v==(v|0)))throw Error("message must be a byte array");o.f[m++]=v,m==o.b&&(gE(o),m=0)}else throw Error("message must be string or array");o.c=m,o.g+=f}var Hk=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function zk(){Sm.call(this,8,F9)}H(zk,Sm);var F9=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Gk(o,u,f,d,m,v){this.v=o,this.i=u,this.l=f,this.m=d||null,this.u=m||null,this.s=v,this.h=u+":"+f,this.C=new R9,this.g=new D9(this.h),this.f=null,this.b=[],this.a=this.c=null}function Tm(o){return new N("invalid-cordova-configuration",o)}t=Gk.prototype,t.ma=function(){return this.Ia?this.Ia:this.Ia=OU().then(function(){if(typeof St("universalLinks.subscribe",l)!="function")throw Tm("cordova-universal-links-plugin-fix is not installed");if(typeof St("BuildInfo.packageName",l)>"u")throw Tm("cordova-plugin-buildinfo is not installed");if(typeof St("cordova.plugins.browsertab.openUrl",l)!="function")throw Tm("cordova-plugin-browsertab is not installed");if(typeof St("cordova.InAppBrowser.open",l)!="function")throw Tm("cordova-plugin-inappbrowser is not installed")},function(){throw new N("cordova-not-ready")})};function U9(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function B9(o){var u=new zk;mE(u,o),o=[];var f=8*u.g;56>u.c?mE(u,$k,56-u.c):mE(u,$k,u.b-(u.c-56));for(var d=63;56<=d;d--)u.f[d]=f&255,f/=256;for(gE(u),d=f=0;d<u.i;d++)for(var m=24;0<=m;m-=8)o[f++]=u.a[d]>>m&255;return JU(o)}t.Pb=function(o,u){return u(new N("operation-not-supported-in-this-environment")),Ee()},t.Nb=function(){return At(new N("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(o,u,f,d){if(this.c)return At(new N("redirect-operation-pending"));var m=this,v=l.document,A=null,C=null,$=null,W=null;return this.c=Ee().then(function(){return Db(u),Kk(m)}).then(function(){return j9(m,o,u,f,d)}).then(function(){return new Fe(function(Te,ot){C=function(){var We=St("cordova.plugins.browsertab.close",l);return Te(),typeof We=="function"&&We(),m.a&&typeof m.a.close=="function"&&(m.a.close(),m.a=null),!1},m.Ea(C),$=function(){A||(A=fl(2e3).then(function(){ot(new N("redirect-cancelled-by-user"))}))},W=function(){fb()&&$()},v.addEventListener("resume",$,!1),In().toLowerCase().match(/android/)||v.addEventListener("visibilitychange",W,!1)}).o(function(Te){return yE(m).then(function(){throw Te})})}).oa(function(){$&&v.removeEventListener("resume",$,!1),W&&v.removeEventListener("visibilitychange",W,!1),A&&A.cancel(),C&&m.Ta(C),m.c=null})};function j9(o,u,f,d,m){var v=U9(),A=new Vi(u,d,null,v,new N("no-auth-event"),null,m),C=St("BuildInfo.packageName",l);if(typeof C!="string")throw new N("invalid-cordova-configuration");var $=St("BuildInfo.displayName",l),W={};if(In().toLowerCase().match(/iphone|ipad|ipod/))W.ibi=C;else if(In().toLowerCase().match(/android/))W.apn=C;else return At(new N("operation-not-supported-in-this-environment"));$&&(W.appDisplayName=$),v=B9(v),W.sessionId=v;var Te=Md(o.v,o.i,o.l,u,f,null,d,o.m,W,o.u,m,o.s);return o.ma().then(function(){var ot=o.h;return o.C.a.set(dE,A.w(),ot)}).then(function(){var ot=St("cordova.plugins.browsertab.isAvailable",l);if(typeof ot!="function")throw new N("invalid-cordova-configuration");var We=null;ot(function(gn){if(gn){if(We=St("cordova.plugins.browsertab.openUrl",l),typeof We!="function")throw new N("invalid-cordova-configuration");We(Te)}else{if(We=St("cordova.InAppBrowser.open",l),typeof We!="function")throw new N("invalid-cordova-configuration");gn=In(),o.a=We(Te,gn.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||gn.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function qk(o,u){for(var f=0;f<o.b.length;f++)try{o.b[f](u)}catch{}}function Kk(o){return o.f||(o.f=o.ma().then(function(){return new Fe(function(u){function f(d){return u(d),o.Ta(f),!1}o.Ea(f),V9(o)})})),o.f}function yE(o){var u=null;return _9(o.g).then(function(f){return u=f,f=o.g,Il(f.b,dE,f.a)}).then(function(){return u})}function V9(o){function u(A){d=!0,m&&m.cancel(),yE(o).then(function(C){var $=f;if(C&&A&&A.url){var W=null;$=UN(A.url),$.indexOf("/__/auth/callback")!=-1&&(W=vr($),W=yl(hi(W,"firebaseError")||null),W=(W=typeof W=="object"?tt(W):null)?new Vi(C.c,C.b,null,null,W,null,C.T()):new Vi(C.c,C.b,$,C.f,null,null,C.T())),$=W||f}qk(o,$)})}var f=new Vi("unknown",null,null,null,new N("no-auth-event")),d=!1,m=fl(500).then(function(){return yE(o).then(function(){d||qk(o,f)})}),v=l.handleOpenURL;l.handleOpenURL=function(A){if(A.toLowerCase().indexOf(St("BuildInfo.packageName",l).toLowerCase()+"://")==0&&u({url:A}),typeof v=="function")try{v(A)}catch(C){console.error(C)}},_b||(_b=new iB),oB(u)}t.Ea=function(o){this.b.push(o),Kk(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new Vi("unknown",null,null,null,new N("no-auth-event")),o(u))})},t.Ta=function(o){Xn(this.b,function(u){return u==o})};function $9(o){this.a=o,this.b=jd()}var vE={name:"pendingRedirect",F:"session"};function H9(o){return o.b.set(vE,"pending",o.a)}function wE(o){return Il(o.b,vE,o.a)}function z9(o){return o.b.get(vE,o.a).then(function(u){return u=="pending"})}function xm(o,u,f,d){this.i={},this.u=0,this.D=o,this.v=u,this.m=f,this.J=d,this.h=[],this.f=!1,this.l=F(this.s,this),this.b=new Nm,this.C=new r5,this.g=new $9(e5(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Qk(this.D,this.v,this.m,Ht,this.J)}function Qk(o,u,f,d,m){var v=xe.SDK_VERSION||null;return ab()?new Gk(o,u,f,v,d,m):new bk(o,u,f,v,d,m)}xm.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Qk(this.D,this.v,this.m,null,this.J),this.i={}};function Wk(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(f){throw o.a==u&&o.reset(),f})}function Jk(o){o.a.Yb()&&Wk(o).o(function(u){var f=new Vi("unknown",null,null,null,new N("operation-not-supported-in-this-environment"));EE(u)&&o.s(f)}),o.a.Ub()||t5(o.b)}function Cm(o,u){An(o.h,u)||o.h.push(u),o.f||z9(o.g).then(function(f){f?wE(o.g).then(function(){Wk(o).o(function(d){var m=new Vi("unknown",null,null,null,new N("operation-not-supported-in-this-environment"));EE(d)&&o.s(m)})}):Jk(o)}).o(function(){Jk(o)})}function bE(o,u){Xn(o.h,function(f){return f==u})}xm.prototype.s=function(o){if(!o)throw new N("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,f=0;f<this.h.length;f++){var d=this.h[f];if(d.Gb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,d),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=Date.now())),u=!0;break}}return t5(this.b),u};var G9=new ea(2e3,1e4),q9=new ea(3e4,6e4);xm.prototype.ra=function(){return this.b.ra()};function Yk(o,u,f,d,m,v,A){return o.a.Nb(u,f,d,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},m,v,A)}function EE(o){return!!(o&&o.code=="auth/cordova-not-ready")}function Xk(o,u,f,d,m){var v;return H9(o.g).then(function(){return o.a.Ob(u,f,d,m).o(function(A){if(EE(A))throw new N("operation-not-supported-in-this-environment");return v=A,wE(o.g).then(function(){throw v})}).then(function(){return o.a.ac()?new Fe(function(){}):wE(o.g).then(function(){return o.ra()}).then(function(){}).o(function(){})})})}function Zk(o,u,f,d,m){return o.a.Pb(d,function(v){u.na(f,null,v,m)},G9.get())}var AE={};function e5(o,u,f){return o=o+":"+u,f&&(o=o+":"+f.url),o}function SE(o,u,f,d){var m=e5(u,f,d);return AE[m]||(AE[m]=new xm(o,u,f,d)),AE[m]}function Nm(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Nm.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Nm.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var f=o.c,d=o.b,m=o.a&&o.a.code=="auth/web-storage-unsupported",v=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!m&&!v),f!="unknown"||m||v?o.a?(ju(this,!0,null,o.a),Ee()):u.Fa(f,d)?K9(this,o,u):At(new N("invalid-auth-event")):(ju(this,!1,null,null),Ee())}else At(new N("invalid-auth-event"))};function t5(o){o.g||(o.g=!0,ju(o,!1,null,null))}function km(o){o.g&&!o.i&&ju(o,!1,null,null)}function K9(o,u,f){f=f.Fa(u.c,u.b);var d=u.g,m=u.f,v=u.i,A=u.T(),C=!!u.c.match(/Redirect$/);f(d,m,A,v).then(function($){ju(o,C,$,null)}).o(function($){ju(o,C,null,$)})}function Q9(o,u){if(o.b=function(){return At(u)},o.c.length)for(var f=0;f<o.c.length;f++)o.c[f](u)}function n5(o,u){if(o.b=function(){return Ee(u)},o.f.length)for(var f=0;f<o.f.length;f++)o.f[f](u)}function ju(o,u,f,d){u?d?Q9(o,d):n5(o,f):n5(o,{user:null}),o.f=[],o.c=[]}Nm.prototype.ra=function(){var o=this;return new Fe(function(u,f){o.b?o.b().then(u,f):(o.f.push(u),o.c.push(f),W9(o))})};function W9(o){var u=new N("timeout");o.a&&o.a.cancel(),o.a=fl(q9.get()).then(function(){o.b||(o.g=!0,ju(o,!0,null,u))})}function r5(){}r5.prototype.h=function(o,u){if(o){var f=o.c,d=o.b;o.a?(u.na(o.c,null,o.a,o.b),Ee()):u.Fa(f,d)?J9(o,u):At(new N("invalid-auth-event"))}else At(new N("invalid-auth-event"))};function J9(o,u){var f=o.b,d=o.c;u.Fa(d,f)(o.g,o.f,o.T(),o.i).then(function(m){u.na(d,m,null,f)}).o(function(m){u.na(d,null,m,f)})}function i5(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(o){this.jb=o},enumerable:!1})}function IE(o,u){this.a=u,he(this,"verificationId",o)}IE.prototype.confirm=function(o){return o=GN(this.verificationId,o),this.a(o)};function TE(o,u,f,d){return new Zo(o).gb(u,f).then(function(m){return new IE(m,d)})}function Y9(o){var u=ON(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new N("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");er(this,{token:o,expirationTime:Ed(1e3*u.exp),authTime:Ed(1e3*u.auth_time),issuedAtTime:Ed(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function xE(o,u,f){var d=u&&u[s5];if(!d)throw new N("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=Ur(u),this.g=f,this.c=new im(null,d),this.b=[];var m=this;ht(u[o5]||[],function(v){(v=yb(v))&&m.b.push(v)}),he(this,"auth",this.a),he(this,"session",this.c),he(this,"hints",this.b)}var o5="mfaInfo",s5="mfaPendingCredential";xE.prototype.Rc=function(o){var u=this;return o.tb(this.a.a,this.c).then(function(f){var d=Ur(u.f);return delete d[o5],delete d[s5],Sn(d,f),u.g(d)})};function CE(o,u,f,d){N.call(this,"multi-factor-auth-required",d,u),this.b=new xE(o,u,f),he(this,"resolver",this.b)}H(CE,N);function a5(o,u,f){if(o&&k(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new CE(u,o.serverResponse,f,o.message)}catch{}return null}function u5(){}u5.prototype.tb=function(o,u,f){return u.type==Td?X9(this,o,u,f):Z9(this,o,u)};function X9(o,u,f,d){return f.Ha().then(function(m){return m={idToken:m},typeof d<"u"&&(m.displayName=d),Sn(m,{phoneVerificationInfo:xd(o.a)}),Ue(u,VB,m)})}function Z9(o,u,f){return f.Ha().then(function(d){return d={mfaPendingCredential:d},Sn(d,{phoneVerificationInfo:xd(o.a)}),Ue(u,$B,d)})}function NE(o){he(this,"factorId",o.fa),this.a=o}H(NE,u5);function c5(o){if(NE.call(this,o),this.a.fa!=Zo.PROVIDER_ID)throw new N("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}H(c5,NE);function Tl(o,u){yr.call(this,o);for(var f in u)this[f]=u[f]}H(Tl,yr);function kE(o,u){this.a=o,this.b=[],this.c=F(this.yc,this),fi(this.a,"userReloaded",this.c);var f=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&ht(u.multiFactor.enrolledFactors,function(d){var m=null,v={};if(d){d.uid&&(v[wb]=d.uid),d.displayName&&(v[gN]=d.displayName),d.enrollmentTime&&(v[vb]=new Date(d.enrollmentTime).toISOString()),d.phoneNumber&&(v[bb]=d.phoneNumber);try{m=new Ad(v)}catch{}d=m}else d=null;d&&f.push(d)}),Om(this,f)}function ej(o){var u=[];return ht(o.mfaInfo||[],function(f){(f=yb(f))&&u.push(f)}),u}t=kE.prototype,t.yc=function(o){Om(this,ej(o.hd))};function Om(o,u){o.b=u,he(o,"enrolledFactors",u)}t.Sb=function(){return this.a.I().then(function(o){return new im(o,null)})},t.fc=function(o,u){var f=this,d=this.a.a;return this.Sb().then(function(m){return o.tb(d,m,u)}).then(function(m){return Io(f.a,m),f.a.reload()})},t.bd=function(o){var u=this,f=typeof o=="string"?o:o.uid,d=this.a.a;return this.a.I().then(function(m){return Ue(d,u9,{idToken:m,mfaEnrollmentId:f})}).then(function(m){var v=Ug(u.b,function(A){return A.uid!=f});return Om(u,v),Io(u.a,m),u.a.reload().o(function(A){if(A.code!="auth/user-token-expired")throw A})})},t.w=function(){return{multiFactor:{enrolledFactors:Au(this.b,function(o){return o.w()})}}};function OE(o,u,f){if(this.h=o,this.i=u,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}OE.prototype.start=function(){this.a=this.c,PE(this,!0)};function tj(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function PE(o,u){o.stop(),o.b=fl(tj(o,u)).then(function(){return DU()}).then(function(){return o.h()}).then(function(){PE(o,!0)}).o(function(f){o.i(f)&&PE(o,!1)})}OE.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function DE(o){this.f=o,this.b=this.a=null,this.c=Date.now()}DE.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function l5(o,u){typeof u>"u"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function f5(o,u){o.b=nm(u[Hi]||""),o.a=u.refreshToken,u=u.expiresIn,l5(o,typeof u<"u"?Number(u):void 0)}function nj(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function rj(o,u){return TB(o.f,u).then(function(f){return o.b=nm(f.access_token),o.a=f.refresh_token,l5(o,f.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(f){throw f.code=="auth/user-token-expired"&&(o.a=null),f})}DE.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?At(new N("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?rj(this,{grant_type:"refresh_token",refresh_token:this.a}):Ee(null):Ee({accessToken:this.b.toString(),refreshToken:this.a})};function Pm(o,u){this.a=o||null,this.b=u||null,er(this,{lastSignInTime:Ed(u||null),creationTime:Ed(o||null)})}function ij(o){return new Pm(o.a,o.b)}Pm.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function oj(o,u,f,d,m,v){er(this,{uid:o,displayName:d||null,photoURL:m||null,email:f||null,phoneNumber:v||null,providerId:u})}function Vr(o,u,f){this.N=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var d=xe.SDK_VERSION?gl(xe.SDK_VERSION):null;this.a=new $i(this.l,Ke(Ht),d),(this.u=o.emulatorConfig||null)&&wm(this.a,this.u),this.h=new DE(this.a),BE(this,u[Hi]),f5(this.h,u),he(this,"refreshToken",this.h.a),d5(this,f||{}),Zn.call(this),this.P=!1,this.s&&Ou()&&(this.b=SE(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=sj(this),this.ba=F(this.ib,this);var m=this;this.za=null,this.Pa=function(v){m.xa(v.h)},this.qa=null,this.Ba=function(v){_E(m,v.c)},this.$=null,this.aa=[],this.Oa=function(v){Vd(m,v.f)},this.ja=null,this.S=new kE(this,f),he(this,"multiFactor",this.S)}H(Vr,Zn),Vr.prototype.xa=function(o){this.za=o,ak(this.a,o)};function _E(o,u){o.u=u,wm(o.a,u),o.b&&(u=o.b,o.b=SE(o.s,o.l,o.m,o.u),o.P&&(bE(u,o),Cm(o.b,o)))}Vr.prototype.la=function(){return this.za};function RE(o,u){o.qa&&Br(o.qa,"languageCodeChanged",o.Pa),(o.qa=u)&&fi(u,"languageCodeChanged",o.Pa)}function LE(o,u){o.$&&Br(o.$,"emulatorConfigChanged",o.Ba),(o.$=u)&&fi(u,"emulatorConfigChanged",o.Ba)}function Vd(o,u){o.aa=u,uk(o.a,xe.SDK_VERSION?gl(xe.SDK_VERSION,o.aa):null)}Vr.prototype.Ga=function(){return Mi(this.aa)};function ME(o,u){o.ja&&Br(o.ja,"frameworkChanged",o.Oa),(o.ja=u)&&fi(u,"frameworkChanged",o.Oa)}Vr.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function FE(o){try{return xe.app(o.m).auth()}catch{throw new N("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function sj(o){return new OE(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.h.c-Date.now()-3e5;return 0<u?u:0})}function h5(o){o.J||o.D.b||(o.D.start(),Br(o,"tokenChanged",o.ba),fi(o,"tokenChanged",o.ba))}function UE(o){Br(o,"tokenChanged",o.ba),o.D.stop()}function BE(o,u){o.Aa=u,he(o,"_lat",u)}function aj(o,u){Xn(o.W,function(f){return f==u})}function Vu(o){for(var u=[],f=0;f<o.W.length;f++)u.push(o.W[f](o));return OC(u).then(function(){return o})}function $d(o){o.b&&!o.P&&(o.P=!0,Cm(o.b,o))}function d5(o,u){er(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Pm(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}he(Vr.prototype,"providerId","firebase");function p5(){}function jE(o){return Ee().then(function(){if(o.J)throw new N("app-deleted")})}function VE(o){return Au(o.providerData,function(u){return u.providerId})}function $E(o,u){u&&(g5(o,u.providerId),o.providerData.push(u))}function g5(o,u){Xn(o.providerData,function(f){return f.providerId==u})}function ra(o,u,f){(u!="uid"||f)&&o.hasOwnProperty(u)&&he(o,u,f)}function Dm(o,u){o!=u&&(er(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?he(o,"metadata",ij(u.metadata)):he(o,"metadata",new Pm),ht(u.providerData,function(f){$E(o,f)}),nj(o.h,u.h),he(o,"refreshToken",o.h.a),Om(o.S,u.S.b))}t=Vr.prototype,t.reload=function(){var o=this;return cn(this,jE(this).then(function(){return HE(o).then(function(){return Vu(o)}).then(p5)}))};function HE(o){return o.I().then(function(u){var f=o.isAnonymous;return uj(o,u).then(function(){return f||ra(o,"isAnonymous",!1),u})})}t.oc=function(o){return this.I(o).then(function(u){return new Y9(u)})},t.I=function(o){var u=this;return cn(this,jE(this).then(function(){return u.h.getToken(o)}).then(function(f){if(!f)throw new N("internal-error");return f.accessToken!=u.Aa&&(BE(u,f.accessToken),u.dispatchEvent(new Tl("tokenChanged"))),ra(u,"refreshToken",f.refreshToken),f.accessToken}))};function Io(o,u){u[Hi]&&o.Aa!=u[Hi]&&(f5(o.h,u),o.dispatchEvent(new Tl("tokenChanged")),BE(o,u[Hi]),ra(o,"refreshToken",o.h.a))}function uj(o,u){return Ue(o.a,HB,{idToken:u}).then(F(o.Kc,o))}t.Kc=function(o){if(o=o.users,!o||!o.length)throw new N("internal-error");o=o[0],d5(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=cj(o),f=0;f<u.length;f++)$E(this,u[f]);ra(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Tl("userReloaded",{hd:o}))};function cj(o){return(o=o.providerUserInfo)&&o.length?Au(o,function(u){return new oj(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}t.Lc=function(o){return hb("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(o)},t.ub=function(o){var u=this,f=null;return cn(this,o.c(this.a,this.uid).then(function(d){return Io(u,d),f=Hd(u,d,"reauthenticate"),u.i=null,u.reload()}).then(function(){return f}),!0)};function _m(o,u){return HE(o).then(function(){if(An(VE(o),u))return Vu(o).then(function(){throw new N("provider-already-linked")})})}t.Cc=function(o){return hb("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(o)},t.rb=function(o){var u=this,f=null;return cn(this,_m(this,o.providerId).then(function(){return u.I()}).then(function(d){return o.b(u.a,d)}).then(function(d){return f=Hd(u,d,"link"),m5(u,d)}).then(function(){return f}))},t.Dc=function(o,u){var f=this;return cn(this,_m(this,"phone").then(function(){return TE(FE(f),o,u,F(f.rb,f))}))},t.Mc=function(o,u){var f=this;return cn(this,Ee().then(function(){return TE(FE(f),o,u,F(f.ub,f))}),!0)};function Hd(o,u,f){var d=Pb(u);return u=DN(u),Ao({user:o,credential:d,additionalUserInfo:u,operationType:f})}function m5(o,u){return Io(o,u),o.reload().then(function(){return o})}t.Cb=function(o){var u=this;return cn(this,this.I().then(function(f){return u.a.Cb(f,o)}).then(function(f){return Io(u,f),u.reload()}))},t.ed=function(o){var u=this;return cn(this,this.I().then(function(f){return o.b(u.a,f)}).then(function(f){return Io(u,f),u.reload()}))},t.Db=function(o){var u=this;return cn(this,this.I().then(function(f){return u.a.Db(f,o)}).then(function(f){return Io(u,f),u.reload()}))},t.Eb=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return jE(this);var u=this;return cn(this,this.I().then(function(f){return u.a.Eb(f,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(f){return Io(u,f),ra(u,"displayName",f.displayName||null),ra(u,"photoURL",f.photoUrl||null),ht(u.providerData,function(d){d.providerId==="password"&&(he(d,"displayName",u.displayName),he(d,"photoURL",u.photoURL))}),Vu(u)}).then(p5))},t.cd=function(o){var u=this;return cn(this,HE(this).then(function(f){return An(VE(u),o)?DB(u.a,f,[o]).then(function(d){var m={};return ht(d.providerUserInfo||[],function(v){m[v.providerId]=!0}),ht(VE(u),function(v){m[v]||g5(u,v)}),m[Zo.PROVIDER_ID]||he(u,"phoneNumber",null),Vu(u)}):Vu(u).then(function(){throw new N("no-such-provider")})}))},t.delete=function(){var o=this;return cn(this,this.I().then(function(u){return Ue(o.a,FB,{idToken:u})}).then(function(){o.dispatchEvent(new Tl("userDeleted"))})).then(function(){for(var u=0;u<o.N.length;u++)o.N[u].cancel("app-deleted");RE(o,null),LE(o,null),ME(o,null),o.N=[],o.J=!0,UE(o),he(o,"refreshToken",null),o.b&&bE(o.b,o)})},t.Gb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},t.na=function(o,u,f,d){o!="linkViaPopup"&&o!="reauthViaPopup"||d!=(this.g||null)||(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?F(this.Lb,this):o=="reauthViaPopup"&&u==(this.g||null)?F(this.Mb,this):o=="linkViaRedirect"&&(this.ga||null)==u?F(this.Lb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?F(this.Mb,this):null},t.Ec=function(o){var u=this;return y5(this,"linkViaPopup",o,function(){return _m(u,o.providerId).then(function(){return Vu(u)})},!1)},t.Nc=function(o){return y5(this,"reauthViaPopup",o,function(){return Ee()},!0)};function y5(o,u,f,d,m){if(!Ou())return At(new N("operation-not-supported-in-this-environment"));if(o.i&&!m)return At(o.i);var v=Tb(f.providerId),A=Pu(o.uid+":::"),C=null;(!wd()||ub())&&o.s&&f.isOAuthProvider&&(C=Md(o.s,o.l,o.m,u,f,null,A,xe.SDK_VERSION||null,null,null,o.tenantId,o.u));var $=sN(C,v&&v.va,v&&v.ua);return d=d().then(function(){if(w5(o),!m)return o.I().then(function(){})}).then(function(){return Yk(o.b,$,u,f,A,!!C,o.tenantId)}).then(function(){return new Fe(function(W,Te){o.na(u,null,new N("cancelled-popup-request"),o.g||null),o.f=W,o.C=Te,o.g=A,o.c=Zk(o.b,o,u,$,A)})}).then(function(W){return $&&ku($),W?Ao(W):null}).o(function(W){throw $&&ku($),W}),cn(o,d,m)}t.Fc=function(o){var u=this;return v5(this,"linkViaRedirect",o,function(){return _m(u,o.providerId)},!1)},t.Oc=function(o){return v5(this,"reauthViaRedirect",o,function(){return Ee()},!0)};function v5(o,u,f,d,m){if(!Ou())return At(new N("operation-not-supported-in-this-environment"));if(o.i&&!m)return At(o.i);var v=null,A=Pu(o.uid+":::");return d=d().then(function(){if(w5(o),!m)return o.I().then(function(){})}).then(function(){return o.ga=A,Vu(o)}).then(function(C){return o.ha&&(C=o.ha,C=C.b.set(zE,o.w(),C.a)),C}).then(function(){return Xk(o.b,u,f,A,o.tenantId)}).o(function(C){if(v=C,o.ha)return E5(o.ha);throw v}).then(function(){if(v)throw v}),cn(o,d,m)}function w5(o){if(!o.b||!o.P)throw o.b&&!o.P?new N("internal-error"):new N("auth-domain-config-required")}t.Lb=function(o,u,f,d){var m=this;this.c&&(this.c.cancel(),this.c=null);var v=null;return f=this.I().then(function(A){return Xb(m.a,{requestUri:o,postBody:d,sessionId:u,idToken:A})}).then(function(A){return v=Hd(m,A,"link"),m5(m,A)}).then(function(){return v}),cn(this,f)},t.Mb=function(o,u,f,d){var m=this;this.c&&(this.c.cancel(),this.c=null);var v=null,A=Ee().then(function(){return wl(Zb(m.a,{requestUri:o,sessionId:u,postBody:d,tenantId:f}),m.uid)}).then(function(C){return v=Hd(m,C,"reauthenticate"),Io(m,C),m.i=null,m.reload()}).then(function(){return v});return cn(this,A,!0)},t.vb=function(o){var u=this,f=null;return cn(this,this.I().then(function(d){return f=d,typeof o>"u"||Wo(o)?{}:em(new Zg(o))}).then(function(d){return u.a.vb(f,d)}).then(function(d){if(u.email!=d)return u.reload()}).then(function(){}))},t.Fb=function(o,u){var f=this,d=null;return cn(this,this.I().then(function(m){return d=m,typeof u>"u"||Wo(u)?{}:em(new Zg(u))}).then(function(m){return f.a.Fb(d,o,m)}).then(function(m){if(f.email!=m)return f.reload()}).then(function(){}))};function cn(o,u,f){var d=lj(o,u,f);return o.N.push(d),d.oa(function(){Ri(o.N,d)}),d.o(function(m){var v=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(v=a5(m.w(),FE(o),F(o.jc,o))),v||m})}t.jc=function(o){var u=null,f=this;return o=wl(Ee(o),f.uid).then(function(d){return u=Hd(f,d,"reauthenticate"),Io(f,d),f.i=null,f.reload()}).then(function(){return u}),cn(this,o,!0)};function lj(o,u,f){return o.i&&!f?(u.cancel(),At(o.i)):u.o(function(d){throw!d||d.code!="auth/user-disabled"&&d.code!="auth/user-token-expired"||(o.i||o.dispatchEvent(new Tl("userInvalidated")),o.i=d),d})}t.toJSON=function(){return this.w()},t.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Sn(o,this.metadata.w()),ht(this.providerData,function(u){o.providerData.push(LU(u))}),Sn(o,this.S.w()),o};function b5(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},f={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){f[Hi]=o.stsTokenManager.accessToken,f.refreshToken=o.stsTokenManager.refreshToken||null;var d=o.stsTokenManager.expirationTime;d&&(f.expiresIn=(d-Date.now())/1e3)}else return null;var m=new Vr(u,f,o);return o.providerData&&ht(o.providerData,function(v){v&&$E(m,Ao(v))}),o.redirectEventId&&(m.ga=o.redirectEventId),m}function fj(o,u,f,d){var m=new Vr(o,u);return f&&(m.ha=f),d&&Vd(m,d),m.reload().then(function(){return m})}function hj(o,u,f,d){var m=o.h,v={};return v[Hi]=m.b&&m.b.toString(),v.refreshToken=m.a,u=new Vr(u||{apiKey:o.l,authDomain:o.s,appName:o.m},v),f&&(u.ha=f),d&&Vd(u,d),Dm(u,o),u}function dj(o){this.a=o,this.b=jd()}var zE={name:"redirectUser",F:"session"};function E5(o){return Il(o.b,zE,o.a)}function pj(o,u){return o.b.get(zE,o.a).then(function(f){return f&&u&&(f.authDomain=u),b5(f||{})})}function GE(o){this.a=o,this.b=jd(),this.c=null,this.f=gj(this),this.b.addListener(To("local"),this.a,F(this.g,this))}GE.prototype.g=function(){var o=this,u=To("local");xl(this,function(){return Ee().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(f){if(f)return qE(o,"local").then(function(){o.c=u})})})};function qE(o,u){var f=[],d;for(d in Al)Al[d]!==u&&f.push(Il(o.b,To(Al[d]),o.a));return f.push(Il(o.b,KE,o.a)),iU(f)}function gj(o){var u=To("local"),f=To("session"),d=To("none");return O9(o.b,u,o.a).then(function(){return o.b.get(f,o.a)}).then(function(m){return m?f:o.b.get(d,o.a).then(function(v){return v?d:o.b.get(u,o.a).then(function(A){return A?u:o.b.get(KE,o.a).then(function(C){return C?To(C):u})})})}).then(function(m){return o.c=m,qE(o,m.F)}).o(function(){o.c||(o.c=u)})}var KE={name:"persistence",F:"session"};function To(o){return{name:"authUser",F:o}}GE.prototype.yb=function(o){var u=null,f=this;return k9(o),xl(this,function(){return o!=f.c.F?f.b.get(f.c,f.a).then(function(d){return u=d,qE(f,o)}).then(function(){if(f.c=To(o),u)return f.b.set(f.c,u,f.a)}):Ee()})};function mj(o){return xl(o,function(){return o.b.set(KE,o.c.F,o.a)})}function A5(o,u){return xl(o,function(){return o.b.set(o.c,u.w(),o.a)})}function S5(o){return xl(o,function(){return Il(o.b,o.c,o.a)})}function I5(o,u,f){return xl(o,function(){return o.b.get(o.c,o.a).then(function(d){return d&&u&&(d.authDomain=u),d&&f&&(d.emulatorConfig=f),b5(d||{})})})}function xl(o,u){return o.f=o.f.then(u,u),o.f}function zi(o){if(this.l=!1,he(this,"settings",new i5),he(this,"app",o),ct(this).options&&ct(this).options.apiKey)o=xe.SDK_VERSION?gl(xe.SDK_VERSION):null,this.a=new $i(ct(this).options&&ct(this).options.apiKey,Ke(Ht),o);else throw new N("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=xe.INTERNAL.createSubscribe(F(this.zc,this)),this.W=void 0,this.ib=xe.INTERNAL.createSubscribe(F(this.Ac,this)),Cl(this,null),this.i=new GE(ct(this).options.apiKey+":"+ct(this).name),this.D=new dj(ct(this).options.apiKey+":"+ct(this).name),this.$=Bt(this,Aj(this)),this.h=Bt(this,Sj(this)),this.ba=!1,this.ja=F(this.Zc,this),this.Ba=F(this.da,this),this.qa=F(this.mc,this),this.za=F(this.wc,this),this.Aa=F(this.xc,this),this.b=null,wj(this),this.INTERNAL={},this.INTERNAL.delete=F(this.delete,this),this.INTERNAL.logFramework=F(this.Gc,this),this.u=0,Zn.call(this),vj(this),this.J=[],this.R=null}H(zi,Zn);function T5(o){yr.call(this,"languageCodeChanged"),this.h=o}H(T5,yr);function x5(o){yr.call(this,"emulatorConfigChanged"),this.c=o}H(x5,yr);function C5(o){yr.call(this,"frameworkChanged"),this.f=o}H(C5,yr),t=zi.prototype,t.yb=function(o){return o=this.i.yb(o),Bt(this,o)},t.xa=function(o){this.aa===o||this.l||(this.aa=o,ak(this.a,this.aa),this.dispatchEvent(new T5(this.la())))},t.la=function(){return this.aa},t.fd=function(){var o=l.navigator;this.xa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},t.gd=function(o,u){if(!this.R){if(!/^https?:\/\//.test(o))throw new N("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,yj(u),this.R={url:o,ec:u},this.settings.jb=!0,wm(this.a,this.R),this.dispatchEvent(new x5(this.R))}};function yj(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),l.document&&!o&&Jg().then(function(){var u=l.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),l.document.body.appendChild(u)})}t.Gc=function(o){this.J.push(o),uk(this.a,xe.SDK_VERSION?gl(xe.SDK_VERSION,this.J):null),this.dispatchEvent(new C5(this.J))},t.Ga=function(){return Mi(this.J)},t.zb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},t.T=function(){return this.S};function vj(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.xa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.zb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.R){var u=vr(this.R.url);u=Ao({protocol:u.c,host:u.a,port:u.g,options:Ao({disableWarnings:this.R.ec})})}else u=null;return u},enumerable:!1})}t.toJSON=function(){return{apiKey:ct(this).options.apiKey,authDomain:ct(this).options.authDomain,appName:ct(this).name,currentUser:Pe(this)&&Pe(this).w()}};function QE(o){return o.Oa||At(new N("auth-domain-config-required"))}function wj(o){var u=ct(o).options.authDomain,f=ct(o).options.apiKey;u&&Ou()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=SE(u,f,ct(o).name,o.R),Cm(o.b,o),Pe(o)&&$d(Pe(o)),o.m){$d(o.m);var d=o.m;d.xa(o.la()),RE(d,o),d=o.m,Vd(d,o.J),ME(d,o),d=o.m,_E(d,o.R),LE(d,o),o.m=null}return o.b}}))}t.Gb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},t.na=function(o,u,f,d){o=="signInViaPopup"&&this.g==d&&(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?F(this.ic,this):null},t.ic=function(o,u,f,d){var m=this,v={requestUri:o,postBody:d,sessionId:u,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),m.$.then(function(){return $u(m,Yb(m.a,v))})},t.Xc=function(o){if(!Ou())return At(new N("operation-not-supported-in-this-environment"));var u=this,f=Tb(o.providerId),d=Pu(),m=null;(!wd()||ub())&&ct(this).options.authDomain&&o.isOAuthProvider&&(m=Md(ct(this).options.authDomain,ct(this).options.apiKey,ct(this).name,"signInViaPopup",o,null,d,xe.SDK_VERSION||null,null,null,this.T(),this.R));var v=sN(m,f&&f.va,f&&f.ua);return f=QE(this).then(function(A){return Yk(A,v,"signInViaPopup",o,d,!!m,u.T())}).then(function(){return new Fe(function(A,C){u.na("signInViaPopup",null,new N("cancelled-popup-request"),u.g),u.f=A,u.C=C,u.g=d,u.c=Zk(u.b,u,"signInViaPopup",v,d)})}).then(function(A){return v&&ku(v),A?Ao(A):null}).o(function(A){throw v&&ku(v),A}),Bt(this,f)},t.Yc=function(o){if(!Ou())return At(new N("operation-not-supported-in-this-environment"));var u=this,f=QE(this).then(function(){return mj(u.i)}).then(function(){return Xk(u.b,"signInViaRedirect",o,void 0,u.T())});return Bt(this,f)};function N5(o){if(!Ou())return At(new N("operation-not-supported-in-this-environment"));var u=QE(o).then(function(){return o.b.ra()}).then(function(f){return f?Ao(f):null});return Bt(o,u)}t.ra=function(){var o=this;return N5(this).then(function(u){return o.b&&km(o.b.b),u}).o(function(u){throw o.b&&km(o.b.b),u})},t.dd=function(o){if(!o)return At(new N("null-user"));if(this.S!=o.tenantId)return At(new N("tenant-id-mismatch"));var u=this,f={};f.apiKey=ct(this).options.apiKey,f.authDomain=ct(this).options.authDomain,f.appName=ct(this).name;var d=hj(o,f,u.D,u.Ga());return Bt(this,this.h.then(function(){if(ct(u).options.apiKey!=o.l)return d.reload()}).then(function(){return Pe(u)&&o.uid==Pe(u).uid?(Dm(Pe(u),o),u.da(o)):(Cl(u,d),$d(d),u.da(d))}).then(function(){zd(u)}))};function bj(o,u){var f={};return f.apiKey=ct(o).options.apiKey,f.authDomain=ct(o).options.authDomain,f.appName=ct(o).name,o.R&&(f.emulatorConfig=o.R),o.$.then(function(){return fj(f,u,o.D,o.Ga())}).then(function(d){return Pe(o)&&d.uid==Pe(o).uid?(Dm(Pe(o),d),o.da(d)):(Cl(o,d),$d(d),o.da(d))}).then(function(){zd(o)})}function Cl(o,u){Pe(o)&&(aj(Pe(o),o.Ba),Br(Pe(o),"tokenChanged",o.qa),Br(Pe(o),"userDeleted",o.za),Br(Pe(o),"userInvalidated",o.Aa),UE(Pe(o))),u&&(u.W.push(o.Ba),fi(u,"tokenChanged",o.qa),fi(u,"userDeleted",o.za),fi(u,"userInvalidated",o.Aa),0<o.u&&h5(u)),he(o,"currentUser",u),u&&(u.xa(o.la()),RE(u,o),Vd(u,o.J),ME(u,o),_E(u,o.R),LE(u,o))}t.Bb=function(){var o=this,u=this.h.then(function(){return o.b&&km(o.b.b),Pe(o)?(Cl(o,null),S5(o.i).then(function(){zd(o)})):Ee()});return Bt(this,u)};function Ej(o){var u=pj(o.D,ct(o).options.authDomain).then(function(f){return(o.m=f)&&(f.ha=o.D),E5(o.D)});return Bt(o,u)}function Aj(o){var u=ct(o).options.authDomain,f=Ej(o).then(function(){return I5(o.i,u,o.R)}).then(function(d){return d?(d.ha=o.D,o.m&&(o.m.ga||null)==(d.ga||null)?d:d.reload().then(function(){return A5(o.i,d).then(function(){return d})}).o(function(m){return m.code=="auth/network-request-failed"?d:S5(o.i)})):null}).then(function(d){Cl(o,d||null)});return Bt(o,f)}function Sj(o){return o.$.then(function(){return N5(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(To("local"),u.a,o.ja)}})}t.Zc=function(){var o=this;return I5(this.i,ct(this).options.authDomain).then(function(u){if(!o.l){var f;if(f=Pe(o)&&u){f=Pe(o).uid;var d=u.uid;f=f==null||f===""||d===void 0||d===null||d===""?!1:f==d}if(f)return Dm(Pe(o),u),Pe(o).I();(Pe(o)||u)&&(Cl(o,u),u&&($d(u),u.ha=o.D),o.b&&Cm(o.b,o),zd(o))}})},t.da=function(o){return A5(this.i,o)},t.mc=function(){zd(this),this.da(Pe(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()};function $u(o,u){var f=null,d=null;return Bt(o,u.then(function(m){return f=Pb(m),d=DN(m),bj(o,m)},function(m){var v=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(v=a5(m.w(),o,F(o.kc,o))),v||m}).then(function(){return Ao({user:Pe(o),credential:f,additionalUserInfo:d,operationType:"signIn"})}))}t.kc=function(o){var u=this;return this.h.then(function(){return $u(u,Ee(o))})},t.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(Pe(u))})},t.Ac=function(o){var u=this;Ij(this,function(){o.next(Pe(u))})},t.Ic=function(o,u,f){var d=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(Pe(d)):typeof o.next=="function"&&o.next(Pe(d))}),this.Pa(o,u,f)},t.Hc=function(o,u,f){var d=this;return this.ba&&Promise.resolve().then(function(){d.W=d.getUid(),typeof o=="function"?o(Pe(d)):typeof o.next=="function"&&o.next(Pe(d))}),this.ib(o,u,f)},t.nc=function(o){var u=this,f=this.h.then(function(){return Pe(u)?Pe(u).I(o).then(function(d){return{accessToken:d}}):null});return Bt(this,f)},t.Tc=function(o){var u=this;return this.h.then(function(){return $u(u,Ue(u.a,i9,{token:o}))}).then(function(f){var d=f.user;return ra(d,"isAnonymous",!1),u.da(d),f})},t.Uc=function(o,u){var f=this;return this.h.then(function(){return $u(f,Ue(f.a,yk,{email:o,password:u}))})},t.dc=function(o,u){var f=this;return this.h.then(function(){return $u(f,Ue(f.a,LB,{email:o,password:u}))})},t.ab=function(o){var u=this;return this.h.then(function(){return $u(u,o.ka(u.a))})},t.Sc=function(o){return hb("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(o)},t.Ab=function(){var o=this;return this.h.then(function(){var u=Pe(o);if(u&&u.isAnonymous){var f=Ao({providerId:null,isNewUser:!1});return Ao({user:u,credential:null,additionalUserInfo:f,operationType:"signIn"})}return $u(o,o.a.Ab()).then(function(d){var m=d.user;return ra(m,"isAnonymous",!0),o.da(m),d})})};function ct(o){return o.app}function Pe(o){return o.currentUser}t.getUid=function(){return Pe(this)&&Pe(this).uid||null};function Rm(o){return Pe(o)&&Pe(o)._lat||null}function zd(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u](Rm(o));if(o.W!==o.getUid()&&o.N.length)for(o.W=o.getUid(),u=0;u<o.N.length;u++)o.N[u]&&o.N[u](Rm(o))}}t.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&Pe(this)&&h5(Pe(this))},t.Pc=function(o){var u=this;ht(this.s,function(f){f==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&Pe(this)&&UE(Pe(this)),this.removeAuthTokenListener(o)},t.addAuthTokenListener=function(o){var u=this;this.s.push(o),Bt(this,this.h.then(function(){u.l||An(u.s,o)&&o(Rm(u))}))},t.removeAuthTokenListener=function(o){Xn(this.s,function(u){return u==o})};function Ij(o,u){o.N.push(u),Bt(o,o.h.then(function(){!o.l&&An(o.N,u)&&o.W!==o.getUid()&&(o.W=o.getUid(),u(Rm(o)))}))}t.delete=function(){this.l=!0;for(var o=0;o<this.P.length;o++)this.P[o].cancel("app-deleted");return this.P=[],this.i&&(o=this.i,o.b.removeListener(To("local"),o.a,this.ja)),this.b&&(bE(this.b,this),km(this.b.b)),Promise.resolve()};function Bt(o,u){return o.P.push(u),u.oa(function(){Ri(o.P,u)}),u}t.hc=function(o){return Bt(this,xB(this.a,o))},t.Bc=function(o){return!!Ob(o)},t.xb=function(o,u){var f=this;return Bt(this,Ee().then(function(){var d=new Zg(u);if(!d.c)throw new N("argument-error",Sb+" must be true when sending sign in link to email");return em(d)}).then(function(d){return f.a.xb(o,d)}).then(function(){}))},t.jd=function(o){return this.Sa(o).then(function(u){return u.data.email})},t.ob=function(o,u){return Bt(this,this.a.ob(o,u).then(function(){}))},t.Sa=function(o){return Bt(this,this.a.Sa(o).then(function(u){return new FU(u)}))},t.kb=function(o){return Bt(this,this.a.kb(o).then(function(){}))},t.wb=function(o,u){var f=this;return Bt(this,Ee().then(function(){return typeof u>"u"||Wo(u)?{}:em(new Zg(u))}).then(function(d){return f.a.wb(o,d)}).then(function(){}))},t.Wc=function(o,u){return Bt(this,TE(this,o,u,F(this.ab,this)))},t.Vc=function(o,u){var f=this;return Bt(this,Ee().then(function(){var d=u||vd(),m=zN(o,d);if(d=Ob(d),!d)throw new N("argument-error","Invalid email link!");if(d.tenantId!==f.T())throw new N("tenant-id-mismatch");return f.ab(m)}))};function Gd(){}Gd.prototype.render=function(){},Gd.prototype.reset=function(){},Gd.prototype.getResponse=function(){},Gd.prototype.execute=function(){};function Nl(){this.a={},this.b=1e12}var WE=null;Nl.prototype.render=function(o,u){return this.a[this.b.toString()]=new Lm(o,u),this.b++},Nl.prototype.reset=function(o){var u=JE(this,o);o=k5(o),u&&o&&(u.delete(),delete this.a[o])},Nl.prototype.getResponse=function(o){return(o=JE(this,o))?o.getResponse():null},Nl.prototype.execute=function(o){(o=JE(this,o))&&o.execute()};function JE(o,u){return(u=k5(u))&&o.a[u]||null}function k5(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function Lm(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=fd(o);var f=this;this.i=function(){f.execute()},this.h?this.execute():fi(this.f,"click",this.i)}Lm.prototype.getResponse=function(){return YE(this),this.b},Lm.prototype.execute=function(){YE(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=PU();var u=o.c.callback,f=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,f)try{f()}catch{}o.h&&o.execute()},6e4)},500))},Lm.prototype.delete=function(){YE(this),this.g=!0,clearTimeout(this.a),this.a=null,Br(this.f,"click",this.i)};function YE(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function XE(){}he(XE,"FACTOR_ID","phone");function ZE(){}ZE.prototype.g=function(){return WE||(WE=new Nl),Ee(WE)},ZE.prototype.c=function(){};var eA=null;function tA(){this.b=l.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Tj=new O(z,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),xj=new ea(3e4,6e4);tA.prototype.g=function(o){var u=this;return new Fe(function(f,d){var m=setTimeout(function(){d(new N("network-request-failed"))},xj.get());if(!l.grecaptcha||o!==u.f&&!u.b){l[u.a]=function(){if(l.grecaptcha){u.f=o;var A=l.grecaptcha.render;l.grecaptcha.render=function(C,$){return C=A(C,$),u.b++,C},clearTimeout(m),f(l.grecaptcha)}else clearTimeout(m),d(new N("internal-error"));delete l[u.a]};var v=De(Tj,{onload:u.a,hl:o||""});Ee(zb(v)).o(function(){clearTimeout(m),d(new N("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(m),f(l.grecaptcha)})},tA.prototype.c=function(){this.b--};var nA=null;function rA(o,u,f,d,m,v,A){if(he(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=u,this.g=null,A?(eA||(eA=new ZE),A=eA):(nA||(nA=new tA),A=nA),this.m=A,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[D5])throw new N("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[Cj]==="invisible",!l.document)throw new N("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!fd(u)||!this.i&&fd(u).hasChildNodes())throw new N("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new $i(o,v||null,m||null),this.u=d||function(){return null};var C=this;this.l=[];var $=this.a[O5];this.a[O5]=function(Te){if(_5(C,Te),typeof $=="function")$(Te);else if(typeof $=="string"){var ot=St($,l);typeof ot=="function"&&ot(Te)}};var W=this.a[P5];this.a[P5]=function(){if(_5(C,null),typeof W=="function")W();else if(typeof W=="string"){var Te=St(W,l);typeof Te=="function"&&Te()}}}var O5="callback",P5="expired-callback",D5="sitekey",Cj="size";function _5(o,u){for(var f=0;f<o.l.length;f++)try{o.l[f](u)}catch{}}function Nj(o,u){Xn(o.l,function(f){return f==u})}function iA(o,u){return o.h.push(u),u.oa(function(){Ri(o.h,u)}),u}t=rA.prototype,t.Ia=function(){var o=this;return this.f?this.f:this.f=iA(this,Ee().then(function(){if(Yg()&&!ji())return Jg();throw new N("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,Ue(o.s,WB,{})}).then(function(u){o.a[D5]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},t.render=function(){Mm(this);var o=this;return iA(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var f=fd(u);u=eU("DIV"),f.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},t.verify=function(){Mm(this);var o=this;return iA(this,this.render().then(function(u){return new Fe(function(f){var d=o.g.getResponse(u);if(d)f(d);else{var m=function(v){v&&(Nj(o,m),f(v))};o.l.push(m),o.i&&o.g.execute(o.c)}})}))},t.reset=function(){Mm(this),this.c!==null&&this.g.reset(this.c)};function Mm(o){if(o.J)throw new N("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){Mm(this),this.J=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=fd(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function oA(o,u,f){var d=!1;try{this.b=f||xe.app()}catch{throw new N("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new N("invalid-api-key");var m=this,v=null;try{v=this.b.auth().Ga()}catch{}try{d=this.b.auth().settings.appVerificationDisabledForTesting}catch{}v=xe.SDK_VERSION?gl(xe.SDK_VERSION,v):null,rA.call(this,f,o,u,function(){try{var A=m.b.auth().la()}catch{A=null}return A},v,Ke(Ht),d)}H(oA,rA);function R5(o,u,f,d){e:{f=Array.prototype.slice.call(f);for(var m=0,v=!1,A=0;A<u.length;A++)if(u[A].optional)v=!0;else{if(v)throw new N("internal-error","Argument validator encountered a required argument after an optional argument.");m++}if(v=u.length,f.length<m||v<f.length)d="Expected "+(m==v?m==1?"1 argument":m+" arguments":m+"-"+v+" arguments")+" but got "+f.length+".";else{for(m=0;m<f.length;m++)if(v=u[m].optional&&f[m]===void 0,!u[m].M(f[m])&&!v){if(u=u[m],0>m||m>=L5.length)throw new N("internal-error","Argument validator received an unsupported number of arguments.");f=L5[m],d=(d?"":f+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}d=null}}if(d)throw new N("argument-error",o+" failed: "+d)}var L5="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function fe(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(f){return typeof f=="string"}}}function sA(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(f){return typeof f=="boolean"}}}function Yt(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:k}}function kl(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(f){return typeof f=="function"}}}function xo(o,u){return{name:o||"",K:"null",optional:!!u,M:function(f){return f===null}}}function kj(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function Oj(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof zi)}}}function Pj(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof xe.app.App)}}}function ia(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var f=!o||u.providerId===o;return!(!u.ka||!f)}}}function M5(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.tb:!1}}}function Ol(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function aA(o,u){return k(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function F5(o){return k(o)&&typeof o.uid=="string"}function Fm(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function qt(o,u,f,d){return{name:f||"",K:o.K+" or "+u.K,optional:!!d,M:function(m){return o.M(m)||u.M(m)}}}function kt(o,u){for(var f in u){var d=u[f].name;o[d]=B5(d,o[f],u[f].j)}}function U5(o,u){for(var f in u){var d=u[f].name;d!==f&&Object.defineProperty(o,d,{get:q(function(m){return this[m]},f),set:q(function(m,v,A,C){R5(m,[A],[C],!0),this[v]=C},d,f,u[f].lb),enumerable:!0})}}function Kt(o,u,f,d){o[u]=B5(u,f,d)}function B5(o,u,f){function d(){var A=Array.prototype.slice.call(arguments);return R5(m,f,A),u.apply(this,A)}if(!f)return u;var m=Dj(o),v;for(v in u)d[v]=u[v];for(v in u.prototype)d.prototype[v]=u.prototype[v];return d}function Dj(o){return o=o.split("."),o[o.length-1]}kt(zi.prototype,{kb:{name:"applyActionCode",j:[fe("code")]},Sa:{name:"checkActionCode",j:[fe("code")]},ob:{name:"confirmPasswordReset",j:[fe("code"),fe("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[fe("email"),fe("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[fe("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[fe("emailLink")]},Hc:{name:"onAuthStateChanged",j:[qt(Yt(),kl(),"nextOrObserver"),kl("opt_error",!0),kl("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[qt(Yt(),kl(),"nextOrObserver"),kl("opt_error",!0),kl("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[fe("email"),qt(Yt("opt_actionCodeSettings",!0),xo(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[fe("email"),Yt("actionCodeSettings")]},yb:{name:"setPersistence",j:[fe("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[ia()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[ia()]},Tc:{name:"signInWithCustomToken",j:[fe("token")]},Uc:{name:"signInWithEmailAndPassword",j:[fe("email"),fe("password")]},Vc:{name:"signInWithEmailLink",j:[fe("email"),fe("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[fe("phoneNumber"),Fm()]},Xc:{name:"signInWithPopup",j:[Ol()]},Yc:{name:"signInWithRedirect",j:[Ol()]},dd:{name:"updateCurrentUser",j:[qt(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof Vr)}}}(),xo(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[fe(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[fe("url"),Yt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[fe("code")]}}),U5(zi.prototype,{lc:{name:"languageCode",lb:qt(fe(),xo(),"languageCode")},ti:{name:"tenantId",lb:qt(fe(),xo(),"tenantId")}}),zi.Persistence=Al,zi.Persistence.LOCAL="local",zi.Persistence.SESSION="session",zi.Persistence.NONE="none",kt(Vr.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[sA("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[sA("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[ia()]},rb:{name:"linkWithCredential",j:[ia()]},Dc:{name:"linkWithPhoneNumber",j:[fe("phoneNumber"),Fm()]},Ec:{name:"linkWithPopup",j:[Ol()]},Fc:{name:"linkWithRedirect",j:[Ol()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ia()]},ub:{name:"reauthenticateWithCredential",j:[ia()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[fe("phoneNumber"),Fm()]},Nc:{name:"reauthenticateWithPopup",j:[Ol()]},Oc:{name:"reauthenticateWithRedirect",j:[Ol()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[qt(Yt("opt_actionCodeSettings",!0),xo(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[fe(null,!0)]},cd:{name:"unlink",j:[fe("provider")]},Cb:{name:"updateEmail",j:[fe("email")]},Db:{name:"updatePassword",j:[fe("password")]},ed:{name:"updatePhoneNumber",j:[ia("phone")]},Eb:{name:"updateProfile",j:[Yt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[fe("email"),qt(Yt("opt_actionCodeSettings",!0),xo(null,!0),"opt_actionCodeSettings",!0)]}}),kt(Nl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),kt(Gd.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),kt(Fe.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),U5(i5.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:sA("appVerificationDisabledForTesting")}}),kt(IE.prototype,{confirm:{name:"confirm",j:[fe("verificationCode")]}}),Kt(vl,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,f=[tB,nB,rB,eB],d=0;d<f.length;d++)if(u=f[d](o))return u;return null},[qt(fe(),Yt(),"json")]),Kt(di,"credential",function(o,u){return new ta(o,u)},[fe("email"),fe("password")]),kt(ta.prototype,{w:{name:"toJSON",j:[fe(null,!0)]}}),kt(Ru.prototype,{Ca:{name:"addScope",j:[fe("scope")]},Ka:{name:"setCustomParameters",j:[Yt("customOAuthParameters")]}}),Kt(Ru,"credential",jN,[qt(fe(),Yt(),"token")]),Kt(di,"credentialWithLink",zN,[fe("email"),fe("emailLink")]),kt(Lu.prototype,{Ca:{name:"addScope",j:[fe("scope")]},Ka:{name:"setCustomParameters",j:[Yt("customOAuthParameters")]}}),Kt(Lu,"credential",VN,[qt(fe(),Yt(),"token")]),kt(Mu.prototype,{Ca:{name:"addScope",j:[fe("scope")]},Ka:{name:"setCustomParameters",j:[Yt("customOAuthParameters")]}}),Kt(Mu,"credential",$N,[qt(fe(),qt(Yt(),xo()),"idToken"),qt(fe(),xo(),"accessToken",!0)]),kt(bl.prototype,{Ka:{name:"setCustomParameters",j:[Yt("customOAuthParameters")]}}),Kt(bl,"credential",HN,[qt(fe(),Yt(),"token"),fe("secret",!0)]),kt(jr.prototype,{Ca:{name:"addScope",j:[fe("scope")]},credential:{name:"credential",j:[qt(fe(),qt(Yt(),xo()),"optionsOrIdToken"),qt(fe(),xo(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Yt("customOAuthParameters")]}}),kt(Xo.prototype,{w:{name:"toJSON",j:[fe(null,!0)]}}),kt(Du.prototype,{w:{name:"toJSON",j:[fe(null,!0)]}}),Kt(Zo,"credential",GN,[fe("verificationId"),fe("verificationCode")]),kt(Zo.prototype,{gb:{name:"verifyPhoneNumber",j:[qt(fe(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(f){return f?f.session&&f.phoneNumber?aA(f.session,Td)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?aA(f.session,om)&&F5(f.multiFactorHint):f.session&&f.multiFactorUid?aA(f.session,om)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Fm()]}}),kt(na.prototype,{w:{name:"toJSON",j:[fe(null,!0)]}}),kt(N.prototype,{toJSON:{name:"toJSON",j:[fe(null,!0)]}}),kt(Cd.prototype,{toJSON:{name:"toJSON",j:[fe(null,!0)]}}),kt(Rb.prototype,{toJSON:{name:"toJSON",j:[fe(null,!0)]}}),kt(CE.prototype,{toJSON:{name:"toJSON",j:[fe(null,!0)]}}),kt(xE.prototype,{Rc:{name:"resolveSignIn",j:[M5()]}}),kt(kE.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[M5(),fe("displayName",!0)]},bd:{name:"unenroll",j:[qt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:F5},fe(),"multiFactorInfoIdentifier")]}}),kt(oA.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Kt(Ab,"parseLink",AN,[fe("link")]),Kt(XE,"assertion",function(o){return new c5(o)},[ia("phone")]),function(){if(typeof xe<"u"&&xe.INTERNAL&&xe.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Xg,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Eb,VERIFY_AND_CHANGE_EMAIL:Sd,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:zi,AuthCredential:vl,Error:N};Kt(o,"EmailAuthProvider",di,[]),Kt(o,"FacebookAuthProvider",Ru,[]),Kt(o,"GithubAuthProvider",Lu,[]),Kt(o,"GoogleAuthProvider",Mu,[]),Kt(o,"TwitterAuthProvider",bl,[]),Kt(o,"OAuthProvider",jr,[fe("providerId")]),Kt(o,"SAMLAuthProvider",BN,[fe("providerId")]),Kt(o,"PhoneAuthProvider",Zo,[Oj()]),Kt(o,"RecaptchaVerifier",oA,[qt(fe(),kj(),"recaptchaContainer"),Yt("recaptchaParameters",!0),Pj()]),Kt(o,"ActionCodeURL",Ab,[]),Kt(o,"PhoneMultiFactorGenerator",XE,[]),xe.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new zi(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(u){u.getProvider("auth-internal").initialize()}}),xe.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:F(u.getUid,u),getToken:F(u.nc,u),addAuthTokenListener:F(u.cc,u),removeAuthTokenListener:F(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),xe.registerVersion("@firebase/auth","0.16.8"),xe.INTERNAL.extendNamespace({User:Vr})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});const CZ={apiKey:"AIzaSyDy7thFE18W7S23EuALfyuWkhWlB3Qvduo",authDomain:"react-chess-670e8.firebaseapp.com",projectId:"react-chess-670e8",storageBucket:"react-chess-670e8.appspot.com",messagingSenderId:"1045705232091",appId:"1:1045705232091:web:6603b950d2f6c5550846fe"};xe.initializeApp(CZ);const TF=xe.firestore(),O1=xe.auth();/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NZ(t,e){return new ZI(function(n){var r=t.onSnapshot(e||{},n);return{unsubscribe:r}})}function kZ(t,e){return NZ(t,e)}function OZ(t,e){return kZ(t,e)}let Vh,Fp;const Rt=new T3.Chess;let U0;async function PZ(t){const{currentUser:e}=O1;if(t){Vh=t;const n=await t.get().then(i=>i.data());if(!n)return"notfound";const r=n.members.find(i=>i.creator===!0);if(n.status==="waiting"&&r.uid!==e.uid){const i={uid:e.uid,name:localStorage.getItem("userName"),piece:r.piece==="w"?"b":"w"},s=[...n.members,i];await t.update({members:s,status:"ready"})}else if(!n.members.map(i=>i.uid).includes(e.uid))return"intruder";Rt.reset(),U0=OZ(t).pipe(PQ(i=>{const s=i.data(),{pendingPromotion:a,gameData:c,...l}=s;Fp=s.members.find(g=>g.uid===e.uid);const h=s.members.find(g=>g.uid!==e.uid);c&&Rt.load(c);const p=Rt.game_over();return{board:Rt.board(),pendingPromotion:a,isGameOver:p,position:Fp.piece,member:Fp,oponent:h,result:p?CF():null,...l}}))}else{Vh=null,U0=new OQ;const n=localStorage.getItem("savedGame");n&&Rt.load(n),Wc()}}async function DZ(){Vh?(await Wc(null,!0),Rt.reset()):(Rt.reset(),Wc())}function _Z(t,e){const n=Rt.moves({verbose:!0}).filter(i=>i.promotion);console.table(n);let r;n.some(i=>`${i.from}:${i.to}`==`${t}:${e}`)&&(r={from:t,to:e,color:n[0].color},Wc(r)),r||xF(t,e)}function xF(t,e,n){let r={from:t,to:e};n&&(r.promotion=n),console.log({tempMove:r,member:Fp},Rt.turn()),Vh?Fp.piece===Rt.turn()&&Rt.move(r)&&Wc():Rt.move(r)&&Wc()}async function Wc(t,e){const n=Rt.game_over();if(Vh){const r={gameData:Rt.fen(),pendingPromotion:t||null};console.log({updateGame:Wc}),e&&(r.status="over"),await Vh.update(r)}else{const r={board:Rt.board(),pendingPromotion:t,isGameOver:n,position:Rt.turn(),result:n?CF():null};localStorage.setItem("savedGame",Rt.fen()),U0.next(r)}}function CF(){if(Rt.in_checkmate())return`CHECKMATE - WINNER - ${Rt.turn()==="w"?"BLACK":"WHITE"}`;if(Rt.in_draw()){let t="50 - MOVES - RULE";return Rt.in_stalemate()?t="STALEMATE":Rt.in_threefold_repetition()?t="REPETITION":Rt.insufficient_material()&&(t="INSUFFICIENT MATERIAL"),`DRAW - ${t}`}else return"UNKNOWN REASON"}function NF({children:t,black:e}){const n=e?"square-black":"square-white";return D.jsx("div",{className:`${n} board-square`,children:t})}const kF=G.createContext({dragDropManager:void 0});function mi(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var QD=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),gS=function(){return Math.random().toString(36).substring(7).split("").join(".")},WD={INIT:"@@redux/INIT"+gS(),REPLACE:"@@redux/REPLACE"+gS(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+gS()}};function RZ(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function OF(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(mi(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(mi(1));return n(OF)(t,e)}if(typeof t!="function")throw new Error(mi(2));var i=t,s=e,a=[],c=a,l=!1;function h(){c===a&&(c=a.slice())}function p(){if(l)throw new Error(mi(3));return s}function g(I){if(typeof I!="function")throw new Error(mi(4));if(l)throw new Error(mi(5));var k=!0;return h(),c.push(I),function(){if(k){if(l)throw new Error(mi(6));k=!1,h();var T=c.indexOf(I);c.splice(T,1),a=null}}}function y(I){if(!RZ(I))throw new Error(mi(7));if(typeof I.type>"u")throw new Error(mi(8));if(l)throw new Error(mi(9));try{l=!0,s=i(s,I)}finally{l=!1}for(var k=a=c,S=0;S<k.length;S++){var T=k[S];T()}return I}function w(I){if(typeof I!="function")throw new Error(mi(10));i=I,y({type:WD.REPLACE})}function E(){var I,k=g;return I={subscribe:function(T){if(typeof T!="object"||T===null)throw new Error(mi(11));function x(){T.next&&T.next(p())}x();var _=k(x);return{unsubscribe:_}}},I[QD]=function(){return this},I}return y({type:WD.INIT}),r={dispatch:y,subscribe:g,getState:p,replaceReducer:w},r[QD]=E,r}function Oe(t,e,...n){if(LZ()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let r;if(e===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;r=new Error(e.replace(/%s/g,function(){return n[i++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function LZ(){return typeof process<"u"&&process.env.NODE_ENV==="production"}function MZ(t,e,n){return e.split(".").reduce((r,i)=>r&&r[i]?r[i]:n||null,t)}function FZ(t,e){return t.filter(n=>n!==e)}function PF(t){return typeof t=="object"}function UZ(t,e){const n=new Map,r=s=>{n.set(s,n.has(s)?n.get(s)+1:1)};t.forEach(r),e.forEach(r);const i=[];return n.forEach((s,a)=>{s===1&&i.push(a)}),i}function BZ(t,e){return t.filter(n=>e.indexOf(n)>-1)}const uC="dnd-core/INIT_COORDS",P1="dnd-core/BEGIN_DRAG",cC="dnd-core/PUBLISH_DRAG_SOURCE",D1="dnd-core/HOVER",_1="dnd-core/DROP",R1="dnd-core/END_DRAG";function JD(t,e){return{type:uC,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const jZ={type:uC,payload:{clientOffset:null,sourceClientOffset:null}};function VZ(t){return function(n=[],r={publishSource:!0}){const{publishSource:i=!0,clientOffset:s,getSourceClientOffset:a}=r,c=t.getMonitor(),l=t.getRegistry();t.dispatch(JD(s)),$Z(n,c,l);const h=GZ(n,c);if(h==null){t.dispatch(jZ);return}let p=null;if(s){if(!a)throw new Error("getSourceClientOffset must be defined");HZ(a),p=a(h)}t.dispatch(JD(s,p));const y=l.getSource(h).beginDrag(c,h);if(y==null)return;zZ(y),l.pinSource(h);const w=l.getSourceType(h);return{type:P1,payload:{itemType:w,item:y,sourceId:h,clientOffset:s||null,sourceClientOffset:p||null,isSourcePublic:!!i}}}}function $Z(t,e,n){Oe(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(r){Oe(n.getSource(r),"Expected sourceIds to be registered.")})}function HZ(t){Oe(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function zZ(t){Oe(PF(t),"Item must be an object.")}function GZ(t,e){let n=null;for(let r=t.length-1;r>=0;r--)if(e.canDragSource(t[r])){n=t[r];break}return n}function qZ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){qZ(t,i,n[i])})}return t}function QZ(t){return function(n={}){const r=t.getMonitor(),i=t.getRegistry();WZ(r),XZ(r).forEach((a,c)=>{const l=JZ(a,c,i,r),h={type:_1,payload:{dropResult:KZ({},n,l)}};t.dispatch(h)})}}function WZ(t){Oe(t.isDragging(),"Cannot call drop while not dragging."),Oe(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function JZ(t,e,n,r){const i=n.getTarget(t);let s=i?i.drop(r,t):void 0;return YZ(s),typeof s>"u"&&(s=e===0?{}:r.getDropResult()),s}function YZ(t){Oe(typeof t>"u"||PF(t),"Drop result must either be an object or undefined.")}function XZ(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function ZZ(t){return function(){const n=t.getMonitor(),r=t.getRegistry();eee(n);const i=n.getSourceId();return i!=null&&(r.getSource(i,!0).endDrag(n,i),r.unpinSource()),{type:R1}}}function eee(t){Oe(t.isDragging(),"Cannot call endDrag while not dragging.")}function NT(t,e){return e===null?t===null:Array.isArray(t)?t.some(n=>n===e):t===e}function tee(t){return function(n,{clientOffset:r}={}){nee(n);const i=n.slice(0),s=t.getMonitor(),a=t.getRegistry(),c=s.getItemType();return iee(i,a,c),ree(i,s,a),oee(i,s,a),{type:D1,payload:{targetIds:i,clientOffset:r||null}}}}function nee(t){Oe(Array.isArray(t),"Expected targetIds to be an array.")}function ree(t,e,n){Oe(e.isDragging(),"Cannot call hover while not dragging."),Oe(!e.didDrop(),"Cannot call hover after drop.");for(let r=0;r<t.length;r++){const i=t[r];Oe(t.lastIndexOf(i)===r,"Expected targetIds to be unique in the passed array.");const s=n.getTarget(i);Oe(s,"Expected targetIds to be registered.")}}function iee(t,e,n){for(let r=t.length-1;r>=0;r--){const i=t[r],s=e.getTargetType(i);NT(s,n)||t.splice(r,1)}}function oee(t,e,n){t.forEach(function(r){n.getTarget(r).hover(e,r)})}function see(t){return function(){if(t.getMonitor().isDragging())return{type:cC}}}function aee(t){return{beginDrag:VZ(t),publishDragSource:see(t),hover:tee(t),drop:QZ(t),endDrag:ZZ(t)}}class uee{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:n}=this.store;function r(s){return(...a)=>{const c=s.apply(e,a);typeof c<"u"&&n(c)}}const i=aee(this);return Object.keys(i).reduce((s,a)=>{const c=i[a];return s[a]=r(c),s},{})}dispatch(e){this.store.dispatch(e)}constructor(e,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}}function cee(t,e){return{x:t.x+e.x,y:t.y+e.y}}function DF(t,e){return{x:t.x-e.x,y:t.y-e.y}}function lee(t){const{clientOffset:e,initialClientOffset:n,initialSourceClientOffset:r}=t;return!e||!n||!r?null:DF(cee(e,r),n)}function fee(t){const{clientOffset:e,initialClientOffset:n}=t;return!e||!n?null:DF(e,n)}const Up=[],lC=[];Up.__IS_NONE__=!0;lC.__IS_ALL__=!0;function hee(t,e){return t===Up?!1:t===lC||typeof e>"u"?!0:BZ(e,t).length>0}class dee{subscribeToStateChange(e,n={}){const{handlerIds:r}=n;Oe(typeof e=="function","listener must be a function."),Oe(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const s=()=>{const a=this.store.getState(),c=a.stateId;try{c===i||c===i+1&&!hee(a.dirtyHandlerIds,r)||e()}finally{i=c}};return this.store.subscribe(s)}subscribeToOffsetChange(e){Oe(typeof e=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const i=this.store.getState().dragOffset;i!==n&&(n=i,e())};return this.store.subscribe(r)}canDragSource(e){if(!e)return!1;const n=this.registry.getSource(e);return Oe(n,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:n.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const n=this.registry.getTarget(e);if(Oe(n,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(e),i=this.getItemType();return NT(r,i)&&n.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const n=this.registry.getSource(e,!0);if(Oe(n,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(e),i=this.getItemType();return r!==i?!1:n.isDragging(this,e)}isOverTarget(e,n={shallow:!1}){if(!e)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const i=this.registry.getTargetType(e),s=this.getItemType();if(s&&!NT(i,s))return!1;const a=this.getTargetIds();if(!a.length)return!1;const c=a.indexOf(e);return r?c===a.length-1:c>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return lee(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return fee(this.store.getState().dragOffset)}constructor(e,n){this.store=e,this.registry=n}}const YD=typeof global<"u"?global:self,_F=YD.MutationObserver||YD.WebKitMutationObserver;function RF(t){return function(){const n=setTimeout(i,0),r=setInterval(i,50);function i(){clearTimeout(n),clearInterval(r),t()}}}function pee(t){let e=1;const n=new _F(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}const gee=typeof _F=="function"?pee:RF;class mee{enqueueTask(e){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const n=this.index;if(this.index++,e[n].call(),this.index>this.capacity){for(let r=0,i=e.length-this.index;r<i;r++)e[r]=e[r+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=gee(this.flush),this.requestErrorThrow=RF(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class yee{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,n){this.onError=e,this.release=n,this.task=null}}class vee{create(e){const n=this.freeTasks,r=n.length?n.pop():new yee(this.onError,i=>n[n.length]=i);return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}const LF=new mee,wee=new vee(LF.registerPendingError);function bee(t){LF.enqueueTask(wee.create(t))}const fC="dnd-core/ADD_SOURCE",hC="dnd-core/ADD_TARGET",dC="dnd-core/REMOVE_SOURCE",L1="dnd-core/REMOVE_TARGET";function Eee(t){return{type:fC,payload:{sourceId:t}}}function Aee(t){return{type:hC,payload:{targetId:t}}}function See(t){return{type:dC,payload:{sourceId:t}}}function Iee(t){return{type:L1,payload:{targetId:t}}}function Tee(t){Oe(typeof t.canDrag=="function","Expected canDrag to be a function."),Oe(typeof t.beginDrag=="function","Expected beginDrag to be a function."),Oe(typeof t.endDrag=="function","Expected endDrag to be a function.")}function xee(t){Oe(typeof t.canDrop=="function","Expected canDrop to be a function."),Oe(typeof t.hover=="function","Expected hover to be a function."),Oe(typeof t.drop=="function","Expected beginDrag to be a function.")}function kT(t,e){if(e&&Array.isArray(t)){t.forEach(n=>kT(n,!1));return}Oe(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var xi;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(xi||(xi={}));let Cee=0;function Nee(){return Cee++}function kee(t){const e=Nee().toString();switch(t){case xi.SOURCE:return`S${e}`;case xi.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function XD(t){switch(t[0]){case"S":return xi.SOURCE;case"T":return xi.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function ZD(t,e){const n=t.entries();let r=!1;do{const{done:i,value:[,s]}=n.next();if(s===e)return!0;r=!!i}while(!r);return!1}class Oee{addSource(e,n){kT(e),Tee(n);const r=this.addHandler(xi.SOURCE,e,n);return this.store.dispatch(Eee(r)),r}addTarget(e,n){kT(e,!0),xee(n);const r=this.addHandler(xi.TARGET,e,n);return this.store.dispatch(Aee(r)),r}containsHandler(e){return ZD(this.dragSources,e)||ZD(this.dropTargets,e)}getSource(e,n=!1){return Oe(this.isSourceId(e),"Expected a valid source ID."),n&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return Oe(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return Oe(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return Oe(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return XD(e)===xi.SOURCE}isTargetId(e){return XD(e)===xi.TARGET}removeSource(e){Oe(this.getSource(e),"Expected an existing source."),this.store.dispatch(See(e)),bee(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){Oe(this.getTarget(e),"Expected an existing target."),this.store.dispatch(Iee(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const n=this.getSource(e);Oe(n,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=n}unpinSource(){Oe(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,n,r){const i=kee(e);return this.types.set(i,n),e===xi.SOURCE?this.dragSources.set(i,r):e===xi.TARGET&&this.dropTargets.set(i,r),i}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const Pee=(t,e)=>t===e;function Dee(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function _ee(t,e,n=Pee){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!n(t[r],e[r]))return!1;return!0}function Ree(t=Up,e){switch(e.type){case D1:break;case fC:case hC:case L1:case dC:return Up;case P1:case cC:case R1:case _1:default:return lC}const{targetIds:n=[],prevTargetIds:r=[]}=e.payload,i=UZ(n,r);if(!(i.length>0||!_ee(n,r)))return Up;const a=r[r.length-1],c=n[n.length-1];return a!==c&&(a&&i.push(a),c&&i.push(c)),i}function Lee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Lee(t,i,n[i])})}return t}const e_={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Fee(t=e_,e){const{payload:n}=e;switch(e.type){case uC:case P1:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case D1:return Dee(t.clientOffset,n.clientOffset)?t:Mee({},t,{clientOffset:n.clientOffset});case R1:case _1:return e_;default:return t}}function Uee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Uee(t,i,n[i])})}return t}const Bee={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function jee(t=Bee,e){const{payload:n}=e;switch(e.type){case P1:return Bl({},t,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case cC:return Bl({},t,{isSourcePublic:!0});case D1:return Bl({},t,{targetIds:n.targetIds});case L1:return t.targetIds.indexOf(n.targetId)===-1?t:Bl({},t,{targetIds:FZ(t.targetIds,n.targetId)});case _1:return Bl({},t,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case R1:return Bl({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function Vee(t=0,e){switch(e.type){case fC:case hC:return t+1;case dC:case L1:return t-1;default:return t}}function $ee(t=0){return t+1}function Hee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Hee(t,i,n[i])})}return t}function Gee(t={},e){return{dirtyHandlerIds:Ree(t.dirtyHandlerIds,{type:e.type,payload:zee({},e.payload,{prevTargetIds:MZ(t,"dragOperation.targetIds",[])})}),dragOffset:Fee(t.dragOffset,e),refCount:Vee(t.refCount,e),dragOperation:jee(t.dragOperation,e),stateId:$ee(t.stateId)}}function qee(t,e=void 0,n={},r=!1){const i=Kee(r),s=new dee(i,new Oee(i)),a=new uee(i,s),c=t(a,e,n);return a.receiveBackend(c),a}function Kee(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return OF(Gee,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function Qee(t,e){if(t==null)return{};var n=Wee(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wee(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let t_=0;const ev=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Jee=G.memo(function(e){var{children:n}=e,r=Qee(e,["children"]);const[i,s]=Yee(r);return G.useEffect(()=>{if(s){const a=MF();return++t_,()=>{--t_===0&&(a[ev]=null)}}},[]),D.jsx(kF.Provider,{value:i,children:n})});function Yee(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=Xee(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[e,n]}function Xee(t,e=MF(),n,r){const i=e;return i[ev]||(i[ev]={dragDropManager:qee(t,e,n,r)}),i[ev]}function MF(){return typeof global<"u"?global:window}const Zee=G.memo(function({connect:e,src:n}){return G.useEffect(()=>{if(typeof Image>"u")return;let r=!1;const i=new Image;return i.src=n,i.onload=()=>{e(i),r=!0},()=>{r&&e(null)}}),null});var ete=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var a=s[i];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n};const tte=p_(ete),Jc=typeof window<"u"?G.useLayoutEffect:G.useEffect;function nte(t,e,n){const[r,i]=G.useState(()=>e(t)),s=G.useCallback(()=>{const a=e(t);tte(r,a)||(i(a),n&&n())},[r,t,n]);return Jc(s),[r,s]}function rte(t,e,n){const[r,i]=nte(t,e,n);return Jc(function(){const a=t.getHandlerId();if(a!=null)return t.subscribeToStateChange(i,{handlerIds:[a]})},[t,i]),r}function FF(t,e,n){return rte(e,t||(()=>({})),()=>n.reconnect())}function UF(t,e){const n=[...e||[]];return e==null&&typeof t!="function"&&n.push(t),G.useMemo(()=>typeof t=="function"?t():t,n)}function ite(t){return G.useMemo(()=>t.hooks.dragSource(),[t])}function ote(t){return G.useMemo(()=>t.hooks.dragPreview(),[t])}let mS=!1,yS=!1;class ste{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){Oe(!mS,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return mS=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{mS=!1}}isDragging(){if(!this.sourceId)return!1;Oe(!yS,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return yS=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{yS=!1}}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,n){return this.internalMonitor.isOverTarget(e,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let vS=!1;class ate{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}canDrop(){if(!this.targetId)return!1;Oe(!vS,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return vS=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{vS=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function ute(t,e,n){const r=n.getRegistry(),i=r.addTarget(t,e);return[i,()=>r.removeTarget(i)]}function cte(t,e,n){const r=n.getRegistry(),i=r.addSource(t,e);return[i,()=>r.removeSource(i)]}function OT(t,e,n,r){let i=n?n.call(r,t,e):void 0;if(i!==void 0)return!!i;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const s=Object.keys(t),a=Object.keys(e);if(s.length!==a.length)return!1;const c=Object.prototype.hasOwnProperty.bind(e);for(let l=0;l<s.length;l++){const h=s[l];if(!c(h))return!1;const p=t[h],g=e[h];if(i=n?n.call(r,p,g,h):void 0,i===!1||i===void 0&&p!==g)return!1}return!0}function PT(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function lte(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function fte(t){return(e=null,n=null)=>{if(!G.isValidElement(e)){const s=e;return t(s,n),s}const r=e;return lte(r),hte(r,n?s=>t(s,n):t)}}function BF(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];if(n.endsWith("Ref"))e[n]=t[n];else{const i=fte(r);e[n]=()=>i}}),e}function n_(t,e){typeof t=="function"?t(e):t.current=e}function hte(t,e){const n=t.ref;return Oe(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?G.cloneElement(t,{ref:r=>{n_(n,r),n_(e,r)}}):G.cloneElement(t,{ref:e})}class dte{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?e?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),n):(this.lastConnectedDragSource=e,n):n}reconnectDragPreview(e=!1){const n=this.dragPreview,r=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!OT(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!OT(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=BF({dragSource:(n,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,PT(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,PT(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class pte{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!OT(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=BF({dropTarget:(n,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,PT(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function nd(){const{dragDropManager:t}=G.useContext(kF);return Oe(t!=null,"Expected drag drop context"),t}function gte(t,e){const n=nd(),r=G.useMemo(()=>new dte(n.getBackend()),[n]);return Jc(()=>(r.dragSourceOptions=t||null,r.reconnect(),()=>r.disconnectDragSource()),[r,t]),Jc(()=>(r.dragPreviewOptions=e||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,e]),r}function mte(){const t=nd();return G.useMemo(()=>new ste(t),[t])}class yte{beginDrag(){const e=this.spec,n=this.monitor;let r=null;return typeof e.item=="object"?r=e.item:typeof e.item=="function"?r=e.item(n):r={},r??null}canDrag(){const e=this.spec,n=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(n):!0}isDragging(e,n){const r=this.spec,i=this.monitor,{isDragging:s}=r;return s?s(i):n===e.getSourceId()}endDrag(){const e=this.spec,n=this.monitor,r=this.connector,{end:i}=e;i&&i(n.getItem(),n),r.reconnect()}constructor(e,n,r){this.spec=e,this.monitor=n,this.connector=r}}function vte(t,e,n){const r=G.useMemo(()=>new yte(t,e,n),[e,n]);return G.useEffect(()=>{r.spec=t},[t]),r}function wte(t){return G.useMemo(()=>{const e=t.type;return Oe(e!=null,"spec.type must be defined"),e},[t])}function bte(t,e,n){const r=nd(),i=vte(t,e,n),s=wte(t);Jc(function(){if(s!=null){const[c,l]=cte(s,i,r);return e.receiveHandlerId(c),n.receiveHandlerId(c),l}},[r,e,n,i,s])}function Ete(t,e){const n=UF(t,e);Oe(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=mte(),i=gte(n.options,n.previewOptions);return bte(n,r,i),[FF(n.collect,r,i),ite(i),ote(i)]}function Ate(t){return G.useMemo(()=>t.hooks.dropTarget(),[t])}function Ste(t){const e=nd(),n=G.useMemo(()=>new pte(e.getBackend()),[e]);return Jc(()=>(n.dropTargetOptions=t||null,n.reconnect(),()=>n.disconnectDropTarget()),[t]),n}function Ite(){const t=nd();return G.useMemo(()=>new ate(t),[t])}function Tte(t){const{accept:e}=t;return G.useMemo(()=>(Oe(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class xte{canDrop(){const e=this.spec,n=this.monitor;return e.canDrop?e.canDrop(n.getItem(),n):!0}hover(){const e=this.spec,n=this.monitor;e.hover&&e.hover(n.getItem(),n)}drop(){const e=this.spec,n=this.monitor;if(e.drop)return e.drop(n.getItem(),n)}constructor(e,n){this.spec=e,this.monitor=n}}function Cte(t,e){const n=G.useMemo(()=>new xte(t,e),[e]);return G.useEffect(()=>{n.spec=t},[t]),n}function Nte(t,e,n){const r=nd(),i=Cte(t,e),s=Tte(t);Jc(function(){const[c,l]=ute(s,i,r);return e.receiveHandlerId(c),n.receiveHandlerId(c),l},[r,e,i,n,s.map(a=>a.toString()).join("|")])}function kte(t,e){const n=UF(t,e),r=Ite(),i=Ste(n.options);return Nte(n,r,i),[FF(n.collect,r,i),Ate(i)]}function Ote({piece:{type:t,color:e},position:n}){const[{isDragging:r},i,s]=Ete({type:"piece",item:{id:`${n}_${t}_${e}`},collect:c=>({isDragging:!!c.isDragging()})}),a=`../../src/assets/${t}_${e}.svg`;return D.jsxs(D.Fragment,{children:[D.jsx(Zee,{connect:s,src:a}),D.jsx("div",{className:"piece-container",ref:i,style:{opacity:r?0:1},children:D.jsx("img",{src:a,alt:"",className:"piece"})})]})}const Pte=["r","n","b","q"];function Dte({promotion:{from:t,to:e,color:n}}){return D.jsx("div",{className:"board",children:Pte.map((r,i)=>D.jsx("div",{className:"promote-square",children:D.jsx(NF,{black:i%3===0,children:D.jsx("div",{className:"piece-container",onClick:()=>xF(t,e,r),children:D.jsx("img",{src:`../../src/assets/${r}_${n}.svg`,alt:"",className:"piece cursor-pointer"})})})},i))})}function _te({piece:t,black:e,position:n}){const[r,i]=G.useState(null),[,s]=kte({accept:"piece",drop:a=>{const[c]=a.id.split("_");_Z(c,n)}});return G.useEffect(()=>{const a=U0.subscribe(({pendingPromotion:c})=>c&&c.to===n?i(c):i(null));return()=>a.unsubscribe()},[n]),D.jsx("div",{className:"board-square",ref:s,children:D.jsx(NF,{black:e,children:r?D.jsx(Dte,{promotion:r}):t?D.jsx(Ote,{piece:t,position:n}):null})})}function Rte({board:t,position:e}){const[n,r]=G.useState([]);G.useEffect(()=>{r(e==="w"?t.flat():t.flat().reverse())},[t,e]);function i(c){const l=e==="w"?c%8:Math.abs(c%8-7),h=e==="w"?Math.abs(Math.floor(c/8)-7):Math.floor(c/8);return{x:l,y:h}}function s(c){const{x:l,y:h}=i(c);return(l+h)%2===1}function a(c){const{x:l,y:h}=i(c);return`${["a","b","c","d","e","f","g","h"][l]}${h+1}`}return D.jsx("div",{className:"board",children:n.map((c,l)=>D.jsx("div",{className:"square",children:D.jsx(_te,{piece:c,black:s(l),position:a(l)})},l))})}function Lte(){const[t,e]=G.useState([]),[n,r]=G.useState(),[i,s]=G.useState(),[a,c]=G.useState(),[l,h]=G.useState(null),[p,g]=G.useState(!0),[y,w]=G.useState(""),[E,I]=G.useState({}),{id:k}=j$(),S=O2(),T=window.location.href;G.useEffect(()=>{let _;async function R(){const F=await PZ(k!=="local"?TF.doc(`games/${k}`):null);h(F),g(!1),F||(_=U0.subscribe(q=>{e(q.board),r(q.isGameOver),s(q.result),c(q.position),w(q.status),I(q)}))}return R(),()=>_&&_.unsubscribe()},[k]);async function x(){await navigator.clipboard.writeText(T)}return p?"Loading ...":l==="notfound"?"Game Not found":l==="intruder"?"The game is already full":D.jsx("div",{className:"min-h-screen",children:D.jsxs("div",{className:"gradient-bg-welcome",children:[D.jsx(V8,{}),D.jsxs("div",{className:"app-container",children:[n&&D.jsxs("h2",{className:"vertical-text",children:["GAME OVER",D.jsx("button",{onClick:async()=>{await DZ(),S("/")},children:D.jsx("span",{className:"vertical-text",children:" NEW GAME"})})]}),D.jsxs("div",{className:"board-container",children:[E.oponent&&E.oponent.name&&D.jsx("span",{className:"tag is-link",children:E.oponent.name}),D.jsx(Rte,{board:t,position:a}),E.member&&E.member.name&&D.jsx("span",{className:"tag is-link",children:E.member.name})]}),i&&D.jsx("p",{className:"vertical-text",children:i}),y==="waiting"&&D.jsxs("div",{className:"notification is-link share-game",children:[D.jsx("strong",{children:"Share this game to continue"}),D.jsx("br",{}),D.jsx("br",{}),D.jsxs("div",{className:"field has-addons",children:[D.jsx("div",{className:"control is-expanded",children:D.jsx("input",{type:"text",name:"",id:"",className:"input",readOnly:!0,value:T})}),D.jsx("div",{className:"control",children:D.jsx("button",{className:"button is-info",onClick:x,children:"Copy"})})]})]})]}),D.jsx(I3,{})]})})}function Mte(){const[t,e]=G.useState("");async function n(r){r.preventDefault(),localStorage.setItem("userName",t),await O1.signInAnonymously()}return D.jsxs("form",{className:"user-form",onSubmit:n,children:[D.jsx("h1",{children:"Enter your name to start"}),D.jsx("br",{}),D.jsx("div",{className:"field",children:D.jsx("p",{className:"control",children:D.jsx("input",{type:"text",name:"",id:"",className:"input",placeholder:"Name",value:t,onChange:r=>e(r.target.value),required:!0})})}),D.jsx("div",{className:"field",children:D.jsx("p",{className:"control",children:D.jsx("button",{className:"button is-success",type:"submit",children:"Start"})})})]})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var yw=function(){return yw=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yw.apply(this,arguments)},jF=function(t){return{loading:t==null,value:t}},Fte=function(){return function(t,e){switch(e.type){case"error":return yw({},t,{error:e.error,loading:!1,value:void 0});case"reset":return jF(e.defaultValue);case"value":return yw({},t,{error:void 0,loading:!1,value:e.value});default:return t}}},Ute=function(t){var e=t?t():void 0,n=G.useReducer(Fte(),jF(e)),r=n[0],i=n[1],s=function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},a=function(l){i({type:"error",error:l})},c=function(l){i({type:"value",value:l})};return G.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:a,setValue:c,value:r.value}},[r.error,r.loading,s,a,c,r.value])},Bte=function(t){var e=Ute(function(){return t.currentUser}),n=e.error,r=e.loading,i=e.setError,s=e.setValue,a=e.value;G.useEffect(function(){var l=t.onAuthStateChanged(s,i);return function(){l()}},[t]);var c=[a,r,n];return G.useMemo(function(){return c},c)};function jte(){const{currentUser:t}=O1,[e,n]=G.useState(!1),r=O2(),i=[{label:"Black pieces",value:"b"},{label:"White pieces",value:"w"},{label:"Random",value:"r"}];function s(){n(!0)}async function a(l){const p={status:"waiting",members:[{uid:t.uid,piece:l==="r"?["b","w"][Math.round(Math.random())]:l,name:localStorage.getItem("userName"),creator:!0}],gameId:`${Math.random().toString(36).substr(2,9)}_${Date.now()}`};await TF.collection("games").doc(p.gameId).set(p),r(`/game/${p.gameId}`)}function c(){r("/game/local")}return D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"columns home",children:[D.jsx("div",{className:"column has-background-primary home-columns",children:D.jsx("button",{className:"button is-link",onClick:c,children:"Play Locally"})}),D.jsx("div",{className:"column has-background-link home-columns",children:D.jsx("button",{className:"button is-primary",onClick:s,children:"Play Online"})})]}),D.jsxs("div",{className:`modal ${e?"is-active":""}`,children:[D.jsx("div",{className:"modal-background"}),D.jsx("div",{className:"modal-content",children:D.jsxs("div",{className:"card",children:[D.jsx("div",{className:"card-content",children:D.jsx("div",{className:"content",children:"Please Select the piece you want to start"})}),D.jsx("footer",{className:"card-footer",children:i.map(({label:l,value:h})=>D.jsx("span",{className:"card-footer-item pointer",onClick:()=>a(h),children:l},h))})]})}),D.jsx("button",{className:"modal-close is-large",onClick:()=>n(!1)})]})]})}function Vte(){const[t,e,n]=Bte(O1);return e?"loading":n?"There was an error":t?D.jsx(D.Fragment,{children:D.jsx(sH,{children:D.jsxs(eH,{children:[D.jsx(My,{exact:!0,path:"/game-select",element:D.jsx(jte,{})}),D.jsx(My,{path:"/game/:id",element:D.jsx(Lte,{})}),D.jsx(My,{path:"/",element:D.jsx(pQ,{})})]})})}):D.jsx(Mte,{})}function VF(t){var e=null,n=function(){return e==null&&(e=t()),e};return n}function $te(t,e){return t.filter(function(n){return n!==e})}function Hte(t,e){var n=new Set,r=function(a){return n.add(a)};t.forEach(r),e.forEach(r);var i=[];return n.forEach(function(s){return i.push(s)}),i}function zte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gte(t,e,n){return e&&r_(t.prototype,e),n&&r_(t,n),t}var qte=function(){function t(e){zte(this,t),this.entered=[],this.isNodeInDocument=e}return Gte(t,[{key:"enter",value:function(n){var r=this,i=this.entered.length,s=function(c){return r.isNodeInDocument(c)&&(!c.contains||c.contains(n))};return this.entered=Hte(this.entered.filter(s),[n]),i===0&&this.entered.length>0}},{key:"leave",value:function(n){var r=this.entered.length;return this.entered=$te(this.entered.filter(this.isNodeInDocument),n),r>0&&this.entered.length===0}},{key:"reset",value:function(){this.entered=[]}}]),t}(),$F=VF(function(){return/firefox/i.test(navigator.userAgent)}),HF=VF(function(){return!!window.safari});function Kte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qte(t,e,n){return e&&i_(t.prototype,e),n&&i_(t,n),t}var o_=function(){function t(e,n){Kte(this,t);for(var r=e.length,i=[],s=0;s<r;s++)i.push(s);i.sort(function(H,Ae){return e[H]<e[Ae]?-1:1});for(var a=[],c=[],l,h,p=0;p<r-1;p++)l=e[p+1]-e[p],h=n[p+1]-n[p],a.push(l),c.push(h/l);for(var g=[c[0]],y=0;y<a.length-1;y++){var w=c[y],E=c[y+1];if(w*E<=0)g.push(0);else{l=a[y];var I=a[y+1],k=l+I;g.push(3*k/((k+I)/w+(k+l)/E))}}g.push(c[c.length-1]);for(var S=[],T=[],x,_=0;_<g.length-1;_++){x=c[_];var R=g[_],F=1/a[_],q=R+g[_+1]-x-x;S.push((x-R-q)*F),T.push(q*F*F)}this.xs=e,this.ys=n,this.c1s=g,this.c2s=S,this.c3s=T}return Qte(t,[{key:"interpolate",value:function(n){var r=this.xs,i=this.ys,s=this.c1s,a=this.c2s,c=this.c3s,l=r.length-1;if(n===r[l])return i[l];for(var h=0,p=c.length-1,g;h<=p;){g=Math.floor(.5*(h+p));var y=r[g];if(y<n)h=g+1;else if(y>n)p=g-1;else return i[g]}l=Math.max(0,p);var w=n-r[l],E=w*w;return i[l]+s[l]*w+a[l]*E+c[l]*w*E}}]),t}(),Wte=1;function zF(t){var e=t.nodeType===Wte?t:t.parentElement;if(!e)return null;var n=e.getBoundingClientRect(),r=n.top,i=n.left;return{x:i,y:r}}function Sy(t){return{x:t.clientX,y:t.clientY}}function Jte(t){var e;return t.nodeName==="IMG"&&($F()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function Yte(t,e,n,r){var i=t?e.width:n,s=t?e.height:r;return HF()&&t&&(s/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:s}}function Xte(t,e,n,r,i){var s=Jte(e),a=s?t:e,c=zF(a),l={x:n.x-c.x,y:n.y-c.y},h=t.offsetWidth,p=t.offsetHeight,g=r.anchorX,y=r.anchorY,w=Yte(s,e,h,p),E=w.dragPreviewWidth,I=w.dragPreviewHeight,k=function(){var q=new o_([0,.5,1],[l.y,l.y/p*I,l.y+I-p]),H=q.interpolate(y);return HF()&&s&&(H+=(window.devicePixelRatio-1)*I),H},S=function(){var q=new o_([0,.5,1],[l.x,l.x/h*E,l.x+E-h]);return q.interpolate(g)},T=i.offsetX,x=i.offsetY,_=T===0||T,R=x===0||x;return{x:_?T:S(),y:R?x:k()}}var GF="__NATIVE_FILE__",qF="__NATIVE_URL__",KF="__NATIVE_TEXT__";const s_=Object.freeze(Object.defineProperty({__proto__:null,FILE:GF,TEXT:KF,URL:qF},Symbol.toStringTag,{value:"Module"}));function a_(t,e,n){var r=e.reduce(function(i,s){return i||t.getData(s)},"");return r??n}var ap;function wS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var DT=(ap={},wS(ap,GF,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]}),wS(ap,qF,{exposeProperties:{urls:function(e,n){return a_(e,n,"").split(`
`)}},matchesTypes:["Url","text/uri-list"]}),wS(ap,KF,{exposeProperties:{text:function(e,n){return a_(e,n,"")}},matchesTypes:["Text","text/plain"]}),ap);function Zte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ene(t,e,n){return e&&u_(t.prototype,e),n&&u_(t,n),t}var tne=function(){function t(e){Zte(this,t),this.config=e,this.item={},this.initializeExposedProperties()}return ene(t,[{key:"initializeExposedProperties",value:function(){var n=this;Object.keys(this.config.exposeProperties).forEach(function(r){Object.defineProperty(n.item,r,{configurable:!0,enumerable:!0,get:function(){return console.warn(`Browser doesn't allow reading "`.concat(r,'" until the drop event.')),null}})})}},{key:"loadDataTransfer",value:function(n){var r=this;if(n){var i={};Object.keys(this.config.exposeProperties).forEach(function(s){i[s]={value:r.config.exposeProperties[s](n,r.config.matchesTypes),configurable:!0,enumerable:!0}}),Object.defineProperties(this.item,i)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(n,r){return r===n.getSourceId()}},{key:"endDrag",value:function(){}}]),t}();function nne(t,e){var n=new tne(DT[t]);return n.loadDataTransfer(e),n}function c_(t){if(!t)return null;var e=Array.prototype.slice.call(t.types||[]);return Object.keys(DT).filter(function(n){var r=DT[n].matchesTypes;return r.some(function(i){return e.indexOf(i)>-1})})[0]||null}function rne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ine(t,e,n){return e&&l_(t.prototype,e),n&&l_(t,n),t}var one=function(){function t(e){rne(this,t),this.globalContext=e}return ine(t,[{key:"window",get:function(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}},{key:"document",get:function(){if(this.window)return this.window.document}}]),t}();function f_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f_(Object(n),!0).forEach(function(r){sne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sne(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ane(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function une(t,e,n){return e&&d_(t.prototype,e),n&&d_(t,n),t}var cne=function(){function t(e,n){var r=this;ane(this,t),this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(i){var s=r.sourceNodes.get(i);return s&&zF(s)||null},this.endDragNativeItem=function(){r.isDraggingNativeItem()&&(r.actions.endDrag(),r.currentNativeHandle&&r.registry.removeSource(r.currentNativeHandle),r.currentNativeHandle=null,r.currentNativeSource=null)},this.isNodeInDocument=function(i){return!!(i&&r.document&&r.document.body&&document.body.contains(i))},this.endDragIfSourceWasRemovedFromDOM=function(){var i=r.currentDragSourceNode;r.isNodeInDocument(i)||r.clearCurrentDragSourceNode()&&r.actions.endDrag()},this.handleTopDragStartCapture=function(){r.clearCurrentDragSourceNode(),r.dragStartSourceIds=[]},this.handleTopDragStart=function(i){if(!i.defaultPrevented){var s=r.dragStartSourceIds;r.dragStartSourceIds=null;var a=Sy(i);r.monitor.isDragging()&&r.actions.endDrag(),r.actions.beginDrag(s||[],{publishSource:!1,getSourceClientOffset:r.getSourceClientOffset,clientOffset:a});var c=i.dataTransfer,l=c_(c);if(r.monitor.isDragging()){if(c&&typeof c.setDragImage=="function"){var h=r.monitor.getSourceId(),p=r.sourceNodes.get(h),g=r.sourcePreviewNodes.get(h)||p;if(g){var y=r.getCurrentSourcePreviewNodeOptions(),w=y.anchorX,E=y.anchorY,I=y.offsetX,k=y.offsetY,S={anchorX:w,anchorY:E},T={offsetX:I,offsetY:k},x=Xte(p,g,a,S,T);c.setDragImage(g,x.x,x.y)}}try{c==null||c.setData("application/json",{})}catch{}r.setCurrentDragSourceNode(i.target);var _=r.getCurrentSourcePreviewNodeOptions(),R=_.captureDraggingState;R?r.actions.publishDragSource():setTimeout(function(){return r.actions.publishDragSource()},0)}else if(l)r.beginDragNativeItem(l);else{if(c&&!c.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}}},this.handleTopDragEndCapture=function(){r.clearCurrentDragSourceNode()&&r.actions.endDrag()},this.handleTopDragEnterCapture=function(i){r.dragEnterTargetIds=[];var s=r.enterLeaveCounter.enter(i.target);if(!(!s||r.monitor.isDragging())){var a=i.dataTransfer,c=c_(a);c&&r.beginDragNativeItem(c,a)}},this.handleTopDragEnter=function(i){var s=r.dragEnterTargetIds;if(r.dragEnterTargetIds=[],!!r.monitor.isDragging()){r.altKeyPressed=i.altKey,$F()||r.actions.hover(s,{clientOffset:Sy(i)});var a=s.some(function(c){return r.monitor.canDropOnTarget(c)});a&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=r.getCurrentDropEffect()))}},this.handleTopDragOverCapture=function(){r.dragOverTargetIds=[]},this.handleTopDragOver=function(i){var s=r.dragOverTargetIds;if(r.dragOverTargetIds=[],!r.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}r.altKeyPressed=i.altKey,r.actions.hover(s||[],{clientOffset:Sy(i)});var a=(s||[]).some(function(c){return r.monitor.canDropOnTarget(c)});a?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=r.getCurrentDropEffect())):r.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(i){r.isDraggingNativeItem()&&i.preventDefault();var s=r.enterLeaveCounter.leave(i.target);s&&r.isDraggingNativeItem()&&r.endDragNativeItem()},this.handleTopDropCapture=function(i){if(r.dropTargetIds=[],i.preventDefault(),r.isDraggingNativeItem()){var s;(s=r.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}r.enterLeaveCounter.reset()},this.handleTopDrop=function(i){var s=r.dropTargetIds;r.dropTargetIds=[],r.actions.hover(s,{clientOffset:Sy(i)}),r.actions.drop({dropEffect:r.getCurrentDropEffect()}),r.isDraggingNativeItem()?r.endDragNativeItem():r.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(i){var s=i.target;typeof s.dragDrop=="function"&&(s.tagName==="INPUT"||s.tagName==="SELECT"||s.tagName==="TEXTAREA"||s.isContentEditable||(i.preventDefault(),s.dragDrop()))},this.options=new one(n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new qte(this.isNodeInDocument)}return une(t,[{key:"profile",value:function(){var n,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((n=this.dragStartSourceIds)===null||n===void 0?void 0:n.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}},{key:"setup",value:function(){if(this.window!==void 0){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:"teardown",value:function(){this.window!==void 0&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:"connectDragPreview",value:function(n,r,i){var s=this;return this.sourcePreviewNodeOptions.set(n,i),this.sourcePreviewNodes.set(n,r),function(){s.sourcePreviewNodes.delete(n),s.sourcePreviewNodeOptions.delete(n)}}},{key:"connectDragSource",value:function(n,r,i){var s=this;this.sourceNodes.set(n,r),this.sourceNodeOptions.set(n,i);var a=function(h){return s.handleDragStart(h,n)},c=function(h){return s.handleSelectStart(h)};return r.setAttribute("draggable","true"),r.addEventListener("dragstart",a),r.addEventListener("selectstart",c),function(){s.sourceNodes.delete(n),s.sourceNodeOptions.delete(n),r.removeEventListener("dragstart",a),r.removeEventListener("selectstart",c),r.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(n,r){var i=this,s=function(h){return i.handleDragEnter(h,n)},a=function(h){return i.handleDragOver(h,n)},c=function(h){return i.handleDrop(h,n)};return r.addEventListener("dragenter",s),r.addEventListener("dragover",a),r.addEventListener("drop",c),function(){r.removeEventListener("dragenter",s),r.removeEventListener("dragover",a),r.removeEventListener("drop",c)}}},{key:"addEventListeners",value:function(n){n.addEventListener&&(n.addEventListener("dragstart",this.handleTopDragStart),n.addEventListener("dragstart",this.handleTopDragStartCapture,!0),n.addEventListener("dragend",this.handleTopDragEndCapture,!0),n.addEventListener("dragenter",this.handleTopDragEnter),n.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),n.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),n.addEventListener("dragover",this.handleTopDragOver),n.addEventListener("dragover",this.handleTopDragOverCapture,!0),n.addEventListener("drop",this.handleTopDrop),n.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(n){n.removeEventListener&&(n.removeEventListener("dragstart",this.handleTopDragStart),n.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),n.removeEventListener("dragend",this.handleTopDragEndCapture,!0),n.removeEventListener("dragenter",this.handleTopDragEnter),n.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),n.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),n.removeEventListener("dragover",this.handleTopDragOver),n.removeEventListener("dragover",this.handleTopDragOverCapture,!0),n.removeEventListener("drop",this.handleTopDrop),n.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var n=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(n);return h_({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var n=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(n);return h_({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}},{key:"isDraggingNativeItem",value:function(){var n=this.monitor.getItemType();return Object.keys(s_).some(function(r){return s_[r]===n})}},{key:"beginDragNativeItem",value:function(n,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=nne(n,r),this.currentNativeHandle=this.registry.addSource(n,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(n){var r=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=n;var i=1e3;this.mouseMoveTimeoutTimer=setTimeout(function(){return r.window&&r.window.addEventListener("mousemove",r.endDragIfSourceWasRemovedFromDOM,!0)},i)}},{key:"clearCurrentDragSourceNode",value:function(){return this.currentDragSourceNode?(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0):!1}},{key:"handleDragStart",value:function(n,r){n.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}},{key:"handleDragEnter",value:function(n,r){this.dragEnterTargetIds.unshift(r)}},{key:"handleDragOver",value:function(n,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}},{key:"handleDrop",value:function(n,r){this.dropTargetIds.unshift(r)}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}}]),t}(),lne=function(e,n){return new cne(e,n)};bS.createRoot(document.getElementById("root")).render(D.jsx(aQ,{children:D.jsx($o.StrictMode,{children:D.jsx(Jee,{backend:lne,children:D.jsx(Vte,{})})})}));
